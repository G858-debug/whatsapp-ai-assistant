{
  "version": "5.0",
  "data_api_version": "3.0",
  "routing_model": {},
  "screens": [
    {
      "id": "WELCOME",
      "title": "Add New Client",
      "terminal": false,
      "data": {
        "trainer_default_price": {
          "type": "number",
          "__example__": 500
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Add New Client Profile"
          },
          {
            "type": "TextBody",
            "text": "Fill in your client's details to create their profile. They'll receive an invitation to review and accept."
          },
          {
            "type": "TextBody",
            "text": "Your default rate: R${data.trainer_default_price} per session"
          },
          {
            "type": "Footer",
            "label": "Start",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "CLIENT_INFO"
              }
            }
          }
        ]
      }
    },
    {
      "id": "CLIENT_INFO",
      "title": "Client Information",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Client Contact Details"
          },
          {
            "type": "TextInput",
            "name": "client_name",
            "label": "Full Name",
            "input-type": "text",
            "required": true,
            "helper-text": "Enter client's full name"
          },
          {
            "type": "TextInput",
            "name": "client_phone",
            "label": "Phone Number",
            "input-type": "phone",
            "required": true,
            "helper-text": "South African number (e.g., 0821234567)"
          },
          {
            "type": "TextInput",
            "name": "client_email",
            "label": "Email Address",
            "input-type": "email",
            "required": false,
            "helper-text": "Optional - for better communication"
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "FITNESS_GOALS"
              }
            }
          }
        ]
      }
    },
    {
      "id": "FITNESS_GOALS",
      "title": "Fitness Goals",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Fitness Goals & Experience"
          },
          {
            "type": "TextBody",
            "text": "What are your client's fitness goals?"
          },
          {
            "type": "CheckboxGroup",
            "name": "fitness_goals",
            "required": true,
            "data-source": [
              {
                "id": "weight_loss",
                "title": "Weight Loss"
              },
              {
                "id": "muscle_gain",
                "title": "Muscle Gain"
              },
              {
                "id": "strength",
                "title": "Strength Training"
              },
              {
                "id": "endurance",
                "title": "Endurance"
              },
              {
                "id": "flexibility",
                "title": "Flexibility"
              },
              {
                "id": "general_fitness",
                "title": "General Fitness"
              }
            ]
          },
          {
            "type": "TextArea",
            "name": "specific_goals",
            "label": "Specific Goals",
            "required": false,
            "helper-text": "Any specific targets or details?"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "experience_level",
            "label": "Experience Level",
            "required": true,
            "data-source": [
              {
                "id": "beginner",
                "title": "Beginner",
                "description": "New to fitness training"
              },
              {
                "id": "intermediate",
                "title": "Intermediate",
                "description": "Some training experience"
              },
              {
                "id": "advanced",
                "title": "Advanced",
                "description": "Experienced trainee"
              }
            ]
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "TRAINING_SCHEDULE"
              }
            }
          }
        ]
      }
    },
    {
      "id": "TRAINING_SCHEDULE",
      "title": "Training Schedule",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Training Schedule"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "sessions_per_week",
            "label": "Sessions Per Week",
            "required": true,
            "data-source": [
              {
                "id": "1",
                "title": "1 session"
              },
              {
                "id": "2",
                "title": "2 sessions"
              },
              {
                "id": "3",
                "title": "3 sessions"
              },
              {
                "id": "4",
                "title": "4 sessions"
              },
              {
                "id": "5+",
                "title": "5+ sessions"
              }
            ]
          },
          {
            "type": "TextBody",
            "text": "Preferred training times:"
          },
          {
            "type": "CheckboxGroup",
            "name": "preferred_times",
            "required": false,
            "data-source": [
              {
                "id": "early_morning",
                "title": "Early Morning (5-7 AM)"
              },
              {
                "id": "morning",
                "title": "Morning (7-10 AM)"
              },
              {
                "id": "midday",
                "title": "Midday (10 AM-2 PM)"
              },
              {
                "id": "afternoon",
                "title": "Afternoon (2-5 PM)"
              },
              {
                "id": "evening",
                "title": "Evening (5-8 PM)"
              },
              {
                "id": "night",
                "title": "Night (8 PM+)"
              }
            ]
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "HEALTH_INFO"
              }
            }
          }
        ]
      }
    },
    {
      "id": "HEALTH_INFO",
      "title": "Health Information",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Health & Safety"
          },
          {
            "type": "TextBody",
            "text": "Important health information:"
          },
          {
            "type": "TextArea",
            "name": "health_conditions",
            "label": "Health Conditions",
            "required": false,
            "helper-text": "Any injuries, chronic conditions, or limitations?"
          },
          {
            "type": "TextArea",
            "name": "medications",
            "label": "Current Medications",
            "required": false,
            "helper-text": "Any medications that might affect training?"
          },
          {
            "type": "TextArea",
            "name": "additional_notes",
            "label": "Additional Notes",
            "required": false,
            "helper-text": "Any other relevant information"
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "PRICING"
              }
            }
          }
        ]
      }
    },
    {
      "id": "PRICING",
      "title": "Pricing Details",
      "terminal": false,
      "data": {
        "trainer_default_price": {
          "type": "number",
          "__example__": 500
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Set Pricing"
          },
          {
            "type": "TextBody",
            "text": "Your standard rate: R${data.trainer_default_price} per session"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "pricing_choice",
            "required": true,
            "data-source": [
              {
                "id": "use_default",
                "title": "Use standard rate (R${data.trainer_default_price})"
              },
              {
                "id": "custom_price",
                "title": "Set custom price for this client"
              }
            ]
          },
          {
            "type": "TextInput",
            "name": "custom_price_amount",
            "label": "Custom Price (Rands)",
            "input-type": "text",
            "required": false,
            "helper-text": "Enter price per session (numbers only)",
            "visible": "${form.pricing_choice == 'custom_price'}"
          },
          {
            "type": "OptIn",
            "name": "has_package_deal",
            "label": "Offer a package deal?",
            "required": false,
            "on-click-action": {
              "name": "data_exchange",
              "payload": {}
            }
          },
          {
            "type": "TextArea",
            "name": "package_deal_details",
            "label": "Package Deal Details",
            "required": false,
            "helper-text": "e.g., '10 sessions for R4500, valid for 6 weeks'",
            "visible": "${form.has_package_deal == true}"
          },
          {
            "type": "Footer",
            "label": "Review",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "CONFIRMATION"
              }
            }
          }
        ]
      }
    },
    {
      "id": "CONFIRMATION",
      "title": "Confirm Details",
      "terminal": true,
      "data": {
        "trainer_default_price": {
          "type": "number",
          "__example__": 500
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Review Client Profile"
          },
          {
            "type": "TextBody",
            "text": "**Client Information:**\n${form.client_name}\n${form.client_phone}\n${form.client_email}"
          },
          {
            "type": "TextBody",
            "text": "**Fitness Goals:**\n${form.fitness_goals}\n${form.experience_level}"
          },
          {
            "type": "TextBody",
            "text": "**Schedule:**\n${form.sessions_per_week} sessions per week"
          },
          {
            "type": "TextBody",
            "text": "**Pricing:**\n${form.pricing_choice == 'use_default' ? 'R' + data.trainer_default_price + ' (standard)' : 'R' + form.custom_price_amount + ' (custom)'}"
          },
          {
            "type": "TextBody",
            "text": "**Package Deal:**\n${form.has_package_deal == true ? form.package_deal_details : 'No package deal'}",
            "visible": "${form.has_package_deal == true}"
          },
          {
            "type": "Footer",
            "label": "Create Profile & Send Invitation",
            "on-click-action": {
              "name": "complete",
              "payload": {
                "client_name": "${form.client_name}",
                "client_phone": "${form.client_phone}",
                "client_email": "${form.client_email}",
                "fitness_goals": "${form.fitness_goals}",
                "specific_goals": "${form.specific_goals}",
                "experience_level": "${form.experience_level}",
                "sessions_per_week": "${form.sessions_per_week}",
                "preferred_times": "${form.preferred_times}",
                "pricing_choice": "${form.pricing_choice}",
                "custom_price_amount": "${form.custom_price_amount}",
                "has_package_deal": "${form.has_package_deal}",
                "package_deal_details": "${form.package_deal_details}",
                "health_conditions": "${form.health_conditions}",
                "medications": "${form.medications}",
                "additional_notes": "${form.additional_notes}",
                "trainer_filled": "true"
              }
            }
          }
        ]
      }
    }
  ]
}

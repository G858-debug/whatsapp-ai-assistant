{
  "version": "5.0",
  "screens": [
    {
      "id": "WELCOME",
      "title": "Add New Client",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Add New Client ðŸ‘¥"
          },
          {
            "type": "TextBody",
            "text": "Let's add a new client to your training program! I'll guide you through the process."
          },
          {
            "type": "Footer",
            "label": "Continue",
            "on-click-action": {
              "name": "navigate",
              "payload": {
                "screen": "CLIENT_INFO"
              }
            }
          }
        ]
      }
    },
    {
      "id": "CLIENT_INFO",
      "title": "Client Information",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Client Details ðŸ“"
          },
          {
            "type": "TextBody",
            "text": "Please provide your client's information:"
          },
          {
            "type": "TextInput",
            "name": "client_name",
            "label": "Full Name *",
            "input-type": "text",
            "required": true,
            "helper-text": "Enter client's full name"
          },
          {
            "type": "TextInput",
            "name": "client_phone",
            "label": "Phone Number *",
            "input-type": "phone",
            "required": true,
            "helper-text": "South African number (e.g., 0821234567)"
          },
          {
            "type": "TextInput",
            "name": "client_email",
            "label": "Email Address",
            "input-type": "email",
            "required": false,
            "helper-text": "Optional - for better communication"
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "payload": {
                "screen": "INVITATION_METHOD"
              }
            }
          }
        ]
      }
    },
    {
      "id": "INVITATION_METHOD",
      "title": "Invitation Method",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "How to Add Client? ðŸ¤”"
          },
          {
            "type": "TextBody",
            "text": "Choose how you'd like to add this client:"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "invitation_method",
            "required": true,
            "data-source": [
              {
                "id": "whatsapp_invite",
                "title": "Send WhatsApp Invitation",
                "description": "Client receives invitation message and can accept"
              },
              {
                "id": "manual_add",
                "title": "Add Manually",
                "description": "Add client directly (they can start messaging you)"
              }
            ]
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "payload": {
                "screen": "CUSTOM_MESSAGE"
              }
            }
          }
        ]
      }
    },
    {
      "id": "CUSTOM_MESSAGE",
      "title": "Personal Message",
      "terminal": false,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Personal Touch âœ¨"
          },
          {
            "type": "TextBody",
            "text": "Add a personal message for your client (optional):"
          },
          {
            "type": "TextArea",
            "name": "custom_message",
            "label": "Your Message",
            "required": false,
            "helper-text": "e.g., 'Looking forward to helping you reach your fitness goals!'"
          },
          {
            "type": "Footer",
            "label": "Next",
            "on-click-action": {
              "name": "navigate",
              "payload": {
                "screen": "PRICING"
              }
            }
          }
        ]
      }
    },
    {
      "id": "PRICING",
      "title": "Pricing Details",
      "terminal": false,
      "data": {
        "trainer_price": {
          "type": "string",
          "__example__": "500"
        }
      },
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Set Pricing ðŸ’°"
          },
          {
            "type": "TextBody",
            "text": "Your standard rate: R${data.trainer_price} per session"
          },
          {
            "type": "RadioButtonsGroup",
            "name": "pricing_choice",
            "required": true,
            "data-source": [
              {
                "id": "standard",
                "title": "Use standard rate (R${data.trainer_price})"
              },
              {
                "id": "custom",
                "title": "Set custom price"
              }
            ]
          },
          {
            "type": "TextInput",
            "name": "custom_price",
            "label": "Custom price per session (Rands)",
            "input-type": "number",
            "required": false,
            "helper-text": "Only required if setting custom price",
            "visible": "${form.pricing_choice == 'custom'}"
          },
          {
            "type": "CheckboxGroup",
            "name": "package_deal",
            "required": false,
            "data-source": [
              {
                "id": "yes",
                "title": "Package deal?"
              }
            ]
          },
          {
            "type": "TextArea",
            "name": "package_details",
            "label": "Package details",
            "required": false,
            "helper-text": "e.g., '10 sessions for R4500'",
            "visible": "${form.package_deal.length > 0}"
          },
          {
            "type": "Footer",
            "label": "Review",
            "on-click-action": {
              "name": "navigate",
              "payload": {
                "screen": "CONFIRMATION"
              }
            }
          }
        ]
      }
    },
    {
      "id": "CONFIRMATION",
      "title": "Confirm Details",
      "terminal": true,
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Ready to Add Client? âœ…"
          },
          {
            "type": "TextBody",
            "text": "Please review the details:"
          },
          {
            "type": "TextBody",
            "text": "**Name:** ${form.client_name}\n**Phone:** ${form.client_phone}\n**Email:** ${form.client_email}\n**Method:** ${form.invitation_method}"
          },
          {
            "type": "TextBody",
            "text": "**Your Message:**\n${form.custom_message}"
          },
          {
            "type": "TextBody",
            "text": "**Pricing:** ${form.pricing_choice == 'standard' ? 'Standard rate' : 'Custom price'}\n**Package Deal:** ${form.package_deal.length > 0 ? 'Yes' : 'No'}"
          },
          {
            "type": "Footer",
            "label": "Add Client",
            "on-click-action": {
              "name": "complete",
              "payload": {
                "client_name": "${form.client_name}",
                "client_phone": "${form.client_phone}",
                "client_email": "${form.client_email}",
                "invitation_method": "${form.invitation_method}",
                "custom_message": "${form.custom_message}",
                "pricing_choice": "${form.pricing_choice}",
                "custom_price": "${form.custom_price}",
                "package_deal": "${form.package_deal}",
                "package_details": "${form.package_details}"
              }
            }
          }
        ]
      }
    }
  ]
}

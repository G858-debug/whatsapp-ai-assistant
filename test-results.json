{"created": 1758924030.0584261, "duration": 74.55672216415405, "exitcode": 1, "root": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant", "environment": {}, "summary": {"passed": 49, "error": 30, "failed": 11, "skipped": 1, "total": 91, "collected": 91}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/__init__.py", "type": "Package"}]}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "type": "Function", "lineno": 130}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "type": "Function", "lineno": 143}]}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "type": "Function", "lineno": 165}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "type": "Function", "lineno": 170}]}, {"nodeid": "tests/test_conversation_flows.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "type": "Class"}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "type": "Class"}]}, {"nodeid": "tests/test_debug.py", "outcome": "passed", "result": [{"nodeid": "tests/test_debug.py::test_python_version", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_debug.py::test_project_structure", "type": "Function", "lineno": 28}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_debug.py::test_check_requirements", "type": "Function", "lineno": 84}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "type": "Function", "lineno": 97}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "type": "Function", "lineno": 136}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 180}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 203}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "type": "Function", "lineno": 218}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "type": "Function", "lineno": 267}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "type": "Function", "lineno": 289}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "type": "Function", "lineno": 310}]}, {"nodeid": "tests/test_e2e_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "type": "Class"}]}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "type": "Function", "lineno": 103}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "type": "Function", "lineno": 131}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "type": "Function", "lineno": 159}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "type": "Function", "lineno": 216}]}, {"nodeid": "tests/test_integration_real.py", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration", "type": "Class"}]}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "type": "Function", "lineno": 77}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "type": "Function", "lineno": 211}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "type": "Function", "lineno": 224}]}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "type": "Function", "lineno": 281}]}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "type": "Function", "lineno": 311}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "type": "Function", "lineno": 327}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "type": "Function", "lineno": 341}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "type": "Function", "lineno": 358}]}, {"nodeid": "tests/test_phase1_registration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "type": "Function", "lineno": 75}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "type": "Function", "lineno": 100}]}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "type": "Function", "lineno": 140}]}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "type": "Function", "lineno": 188}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "type": "Function", "lineno": 253}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "type": "Function", "lineno": 300}]}, {"nodeid": "tests/test_phase2_client_management.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "type": "Function", "lineno": 53}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "type": "Function", "lineno": 110}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "type": "Function", "lineno": 169}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "type": "Function", "lineno": 223}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "type": "Function", "lineno": 248}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "type": "Function", "lineno": 283}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "type": "Function", "lineno": 313}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_phase3_scheduling.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "type": "Class"}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "type": "Function", "lineno": 147}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "type": "Function", "lineno": 169}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "type": "Function", "lineno": 185}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 213}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "type": "Function", "lineno": 229}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "type": "Function", "lineno": 245}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 272}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 288}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "type": "Function", "lineno": 305}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "type": "Function", "lineno": 332}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "type": "Function", "lineno": 348}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 377}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 393}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "type": "Function", "lineno": 410}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "type": "Function", "lineno": 438}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "type": "Function", "lineno": 454}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "type": "Function", "lineno": 470}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "type": "Function", "lineno": 498}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "type": "Function", "lineno": 513}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 529}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "type": "Function", "lineno": 557}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "type": "Function", "lineno": 568}]}, {"nodeid": "tests/test_phases_4_11.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "type": "Class"}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "type": "Function", "lineno": 227}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "type": "Function", "lineno": 242}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 269}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 278}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "type": "Function", "lineno": 286}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "type": "Function", "lineno": 299}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "type": "Function", "lineno": 308}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "type": "Function", "lineno": 317}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 347}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 360}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 369}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 381}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 390}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "type": "Function", "lineno": 403}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 412}]}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "type": "Function", "lineno": 433}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "type": "Function", "lineno": 457}]}, {"nodeid": "tests/test_refiloe_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "type": "Class"}]}, {"nodeid": "tests/test_setup_fix.py", "outcome": "passed", "result": []}, {"nodeid": "tests/__init__.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py", "type": "Module"}, {"nodeid": "tests/test_debug.py", "type": "Module"}, {"nodeid": "tests/test_e2e_complete.py", "type": "Module"}, {"nodeid": "tests/test_integration_real.py", "type": "Module"}, {"nodeid": "tests/test_phase1_registration.py", "type": "Module"}, {"nodeid": "tests/test_phase2_client_management.py", "type": "Module"}, {"nodeid": "tests/test_phase3_scheduling.py", "type": "Module"}, {"nodeid": "tests/test_phases_4_11.py", "type": "Module"}, {"nodeid": "tests/test_refiloe_complete.py", "type": "Module"}, {"nodeid": "tests/test_setup_fix.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "lineno": 130, "outcome": "passed", "keywords": ["test_imports_work", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005944719999959602, "outcome": "passed"}, "call": {"duration": 0.03276998900000194, "outcome": "passed"}, "teardown": {"duration": 0.7615636800000019, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "lineno": 136, "outcome": "passed", "keywords": ["test_mock_message", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003963010000020972, "outcome": "passed"}, "call": {"duration": 0.022339724999994814, "outcome": "passed"}, "teardown": {"duration": 1.0630306940000054, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "lineno": 143, "outcome": "passed", "keywords": ["test_trainer_registration_mock", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000369290999998384, "outcome": "passed"}, "call": {"duration": 0.022070671999998126, "outcome": "passed"}, "teardown": {"duration": 0.6882223690000018, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "lineno": 165, "outcome": "passed", "keywords": ["test_basic_setup", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022913478999996073, "outcome": "passed"}, "call": {"duration": 0.00010649900000458956, "outcome": "passed"}, "teardown": {"duration": 0.9644769900000014, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "lineno": 170, "outcome": "passed", "keywords": ["test_mock_registration_flow", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02251666600000135, "outcome": "passed"}, "call": {"duration": 0.00020299000000534306, "outcome": "passed"}, "teardown": {"duration": 0.9404839890000005, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_python_version", "lineno": 9, "outcome": "passed", "keywords": ["test_python_version", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028598600000151464, "outcome": "passed"}, "call": {"duration": 9.819400000310452e-05, "outcome": "passed"}, "teardown": {"duration": 0.6830838500000027, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "lineno": 14, "outcome": "passed", "keywords": ["test_can_import_basic_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030365799999998444, "outcome": "passed"}, "call": {"duration": 9.839399999833631e-05, "outcome": "passed"}, "teardown": {"duration": 0.661968630000004, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_project_structure", "lineno": 28, "outcome": "passed", "keywords": ["test_project_structure", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003022549999940338, "outcome": "passed"}, "call": {"duration": 0.0002210429999962571, "outcome": "passed"}, "teardown": {"duration": 0.6706618480000017, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "lineno": 48, "outcome": "passed", "keywords": ["test_can_import_refiloe_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00033305499999869426, "outcome": "passed"}, "call": {"duration": 0.00044178999999644475, "outcome": "passed"}, "teardown": {"duration": 0.9914324269999994, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_check_requirements", "lineno": 84, "outcome": "passed", "keywords": ["test_check_requirements", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029438300000350637, "outcome": "passed"}, "call": {"duration": 0.0960575559999981, "outcome": "passed"}, "teardown": {"duration": 0.744186445000004, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "lineno": 97, "outcome": "error", "keywords": ["test_complete_trainer_onboarding", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021907499999997526, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6200995530000029, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "lineno": 136, "outcome": "error", "keywords": ["test_trainer_recognition_after_registration", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021806370000000186, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 1.064921065, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 180, "outcome": "error", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021758680000004915, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.7690961779999981, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 203, "outcome": "error", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021669381999998905, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.7805489830000027, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "lineno": 218, "outcome": "error", "keywords": ["test_custom_pricing", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021679530999996643, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.7924600030000022, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "lineno": 267, "outcome": "error", "keywords": ["test_view_schedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021887321000008342, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.640122704999996, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "lineno": 289, "outcome": "error", "keywords": ["test_book_sessions", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021834171999998375, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.718583774999999, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "lineno": 310, "outcome": "error", "keywords": ["test_cancel_reschedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021690992999992886, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.694360850999999, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "lineno": 103, "outcome": "passed", "keywords": ["test_trainer_registration_database", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.25598818800000345, "outcome": "passed"}, "call": {"duration": 0.3458634200000006, "outcome": "passed"}, "teardown": {"duration": 0.6716534359999997, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "lineno": 131, "outcome": "passed", "keywords": ["test_client_management_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029572399999722165, "outcome": "passed"}, "call": {"duration": 0.4780598079999976, "outcome": "passed"}, "teardown": {"duration": 0.7117659590000045, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "lineno": 159, "outcome": "failed", "keywords": ["test_booking_system_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003137980000076368, "outcome": "passed"}, "call": {"duration": 0.33948654200000306, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'booking_date' column of 'bookings' in the schema cache\"}"}, "traceback": [{"path": "tests/test_integration_real.py", "lineno": 182, "message": "in test_booking_system_real"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "in execute"}], "longrepr": "tests/test_integration_real.py:182: in test_booking_system_real\n    }).execute()\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py:70: in execute\n    raise APIError(r.json())\nE   postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'booking_date' column of 'bookings' in the schema cache\"}"}, "teardown": {"duration": 0.6553730039999976, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "lineno": 192, "outcome": "skipped", "keywords": ["test_ai_integration_simple", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003682600000018965, "outcome": "passed"}, "call": {"duration": 0.3122549299999946, "outcome": "skipped", "longrepr": "('/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_integration_real.py', 215, \"Skipped: AI API not available: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-4-sonnet-20241022'}, 'request_id': 'req_011CTXmDcu3n2zXhm3xezs3J'}\")"}, "teardown": {"duration": 0.772616014999997, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "lineno": 216, "outcome": "passed", "keywords": ["test_database_connection", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003516979999886871, "outcome": "passed"}, "call": {"duration": 0.16191017699999577, "outcome": "passed"}, "teardown": {"duration": 1.689905686000003, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "lineno": 77, "outcome": "passed", "keywords": ["test_complete_trainer_registration_flow", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009977180000078079, "outcome": "passed"}, "call": {"duration": 0.04930309000000932, "outcome": "passed"}, "teardown": {"duration": 0.6481394649999999, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "lineno": 192, "outcome": "passed", "keywords": ["test_currency_parsing_variations", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0007791989999930138, "outcome": "passed"}, "call": {"duration": 0.00014609299999790437, "outcome": "passed"}, "teardown": {"duration": 0.6799909079999935, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "lineno": 211, "outcome": "passed", "keywords": ["test_registration_with_missing_fields", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0012294320000023617, "outcome": "passed"}, "call": {"duration": 0.006018638000000465, "outcome": "passed"}, "teardown": {"duration": 0.6980986960000024, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "lineno": 224, "outcome": "failed", "keywords": ["test_trainer_recognition_after_registration", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009052350000047227, "outcome": "passed"}, "call": {"duration": 0.7478786899999932, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 253, "message": "AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'>)\n +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'> = <built-in method get of dict object at 0x7f5888616140>('response', '')\n +        where <built-in method get of dict object at 0x7f5888616140> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\n +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'> = <built-in method get of dict object at 0x7f5888616140>('response', '')\n +        where <built-in method get of dict object at 0x7f5888616140> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 253, "message": "in test_trainer_recognition_after_registration"}], "log": [{"name": "refiloe", "msg": "Background scheduler started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923980.0068936, "msecs": 6.0, "relativeCreated": 24853.08837890625, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Routes setup complete", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923980.007861, "msecs": 7.0, "relativeCreated": 24854.055643081665, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923980.0273063, "msecs": 27.0, "relativeCreated": 24873.50106239319, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase1_registration.py:253: in test_trainer_recognition_after_registration\n    assert 'john' in response.get('response', '').lower() or \\\nE   AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'>)\nE    +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'> = <built-in method get of dict object at 0x7f5888616140>('response', '')\nE    +        where <built-in method get of dict object at 0x7f5888616140> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\nE    +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140018200045968'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140018446827024'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'> = <built-in method get of dict object at 0x7f5888616140>('response', '')\nE    +        where <built-in method get of dict object at 0x7f5888616140> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get"}, "teardown": {"duration": 0.7273510729999941, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "lineno": 281, "outcome": "failed", "keywords": ["test_client_receives_welcome_after_registration", "TestClientRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.003501475999996728, "outcome": "passed"}, "call": {"duration": 0.003152502000006052, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 297, "message": "assert False == True\n +  where False = <built-in method get of dict object at 0x7f5887108d40>('success')\n +    where <built-in method get of dict object at 0x7f5887108d40> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 297, "message": "in test_client_receives_welcome_after_registration"}], "log": [{"name": "refiloe", "msg": "Error getting user context: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923980.7673607, "msecs": 767.0, "relativeCreated": 25613.555431365967, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error handling message: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923980.769572, "msecs": 769.0, "relativeCreated": 25615.766763687134, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase1_registration.py:297: in test_client_receives_welcome_after_registration\n    assert response.get('success') == True\nE   assert False == True\nE    +  where False = <built-in method get of dict object at 0x7f5887108d40>('success')\nE    +    where <built-in method get of dict object at 0x7f5887108d40> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "teardown": {"duration": 0.6392427610000055, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "lineno": 311, "outcome": "passed", "keywords": ["test_duplicate_registration_attempt", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0026935730000019475, "outcome": "passed"}, "call": {"duration": 0.0013426539999983333, "outcome": "passed"}, "teardown": {"duration": 0.644949976999996, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "lineno": 327, "outcome": "passed", "keywords": ["test_invalid_email_format", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000598581000005538, "outcome": "passed"}, "call": {"duration": 0.00024408699999867167, "outcome": "passed"}, "teardown": {"duration": 0.6298434320000013, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "lineno": 341, "outcome": "passed", "keywords": ["test_extremely_long_input", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008118999999879861, "outcome": "passed"}, "call": {"duration": 0.00014187499999707143, "outcome": "passed"}, "teardown": {"duration": 0.7770534510000005, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "lineno": 358, "outcome": "passed", "keywords": ["test_special_characters_in_name", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006585830000034321, "outcome": "passed"}, "call": {"duration": 9.338399999592184e-05, "outcome": "passed"}, "teardown": {"duration": 0.7590244809999973, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "lineno": 47, "outcome": "passed", "keywords": ["test_add_client_command_variations", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02377660900000933, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923984.2941484, "msecs": 294.0, "relativeCreated": 29140.343189239502, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "call": {"duration": 0.01758078599999635, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.297283, "msecs": 297.0, "relativeCreated": 29143.47767829895, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.2978766, "msecs": 297.0, "relativeCreated": 29144.071340560913, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.2987857, "msecs": 298.0, "relativeCreated": 29144.980430603027, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.299109, "msecs": 299.0, "relativeCreated": 29145.30372619629, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.2993, "msecs": 299.0, "relativeCreated": 29145.49469947815, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.299799, "msecs": 299.0, "relativeCreated": 29145.99370956421, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3001308, "msecs": 300.0, "relativeCreated": 29146.32558822632, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3003094, "msecs": 300.0, "relativeCreated": 29146.504163742065, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3007977, "msecs": 300.0, "relativeCreated": 29146.992444992065, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.301103, "msecs": 301.0, "relativeCreated": 29147.297859191895, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3012955, "msecs": 301.0, "relativeCreated": 29147.49026298523, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3017917, "msecs": 301.0, "relativeCreated": 29147.98641204834, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3021076, "msecs": 302.0, "relativeCreated": 29148.30231666565, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3023012, "msecs": 302.0, "relativeCreated": 29148.49591255188, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3027623, "msecs": 302.0, "relativeCreated": 29148.957014083862, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3030705, "msecs": 303.0, "relativeCreated": 29149.26528930664, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3032427, "msecs": 303.0, "relativeCreated": 29149.437427520752, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3037326, "msecs": 303.0, "relativeCreated": 29149.927377700806, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3040395, "msecs": 304.0, "relativeCreated": 29150.23422241211, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3041964, "msecs": 304.0, "relativeCreated": 29150.39110183716, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3089805, "msecs": 308.0, "relativeCreated": 29155.17520904541, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3093538, "msecs": 309.0, "relativeCreated": 29155.548572540283, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3095193, "msecs": 309.0, "relativeCreated": 29155.71403503418, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3099751, "msecs": 309.0, "relativeCreated": 29156.169891357422, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3103313, "msecs": 310.0, "relativeCreated": 29156.5260887146, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3104982, "msecs": 310.0, "relativeCreated": 29156.69298171997, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3109488, "msecs": 310.0, "relativeCreated": 29157.143592834473, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.311268, "msecs": 311.0, "relativeCreated": 29157.46283531189, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3114486, "msecs": 311.0, "relativeCreated": 29157.64331817627, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923984.3118916, "msecs": 311.0, "relativeCreated": 29158.08629989624, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.6969755000000077, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "lineno": 75, "outcome": "passed", "keywords": ["test_phone_number_normalization", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023360038000006966, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923985.0328069, "msecs": 32.0, "relativeCreated": 29879.00161743164, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "call": {"duration": 0.00023800599998935468, "outcome": "passed"}, "teardown": {"duration": 0.7265339719999986, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "lineno": 100, "outcome": "passed", "keywords": ["test_add_client_with_special_names", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02611362499999359, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923985.786412, "msecs": 786.0, "relativeCreated": 30632.606744766235, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "call": {"duration": 0.007903717999994342, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7873554, "msecs": 787.0, "relativeCreated": 30633.55016708374, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.787953, "msecs": 787.0, "relativeCreated": 30634.14764404297, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7886949, "msecs": 788.0, "relativeCreated": 30634.889602661133, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7890234, "msecs": 789.0, "relativeCreated": 30635.218143463135, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.789195, "msecs": 789.0, "relativeCreated": 30635.389804840088, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.789676, "msecs": 789.0, "relativeCreated": 30635.870695114136, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7900062, "msecs": 790.0, "relativeCreated": 30636.20090484619, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.790162, "msecs": 790.0, "relativeCreated": 30636.356830596924, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7906282, "msecs": 790.0, "relativeCreated": 30636.822938919067, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7909563, "msecs": 790.0, "relativeCreated": 30637.15100288391, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.791114, "msecs": 791.0, "relativeCreated": 30637.308835983276, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7915719, "msecs": 791.0, "relativeCreated": 30637.76659965515, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7918835, "msecs": 791.0, "relativeCreated": 30638.078212738037, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7920675, "msecs": 792.0, "relativeCreated": 30638.262271881104, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.792535, "msecs": 792.0, "relativeCreated": 30638.72981071472, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7928407, "msecs": 792.0, "relativeCreated": 30639.03546333313, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7929945, "msecs": 792.0, "relativeCreated": 30639.18924331665, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7934806, "msecs": 793.0, "relativeCreated": 30639.67537879944, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7937913, "msecs": 793.0, "relativeCreated": 30639.986038208008, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7939477, "msecs": 793.0, "relativeCreated": 30640.1424407959, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923985.7944233, "msecs": 794.0, "relativeCreated": 30640.618085861206, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.6346542060000075, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "lineno": 140, "outcome": "failed", "keywords": ["test_view_clients_commands", "TestViewClientsReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009584649999965222, "outcome": "passed"}, "call": {"duration": 0.00485365900000545, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 160, "message": "AssertionError: Failed to list clients with command: Show my clients\nassert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 160, "message": "in test_view_clients_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923986.4316835, "msecs": 431.0, "relativeCreated": 31277.878284454346, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923986.4344034, "msecs": 434.0, "relativeCreated": 31280.598163604736, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923986.4353905, "msecs": 435.0, "relativeCreated": 31281.585216522217, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase2_client_management.py:160: in test_view_clients_commands\n    assert 'sarah' in message or 'john' in message or 'mike' in message or \\\nE   AssertionError: Failed to list clients with command: Show my clients\nE   assert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "teardown": {"duration": 0.6983372580000093, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "lineno": 188, "outcome": "passed", "keywords": ["test_set_custom_pricing_variations", "critical", "pytestmark", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.001392577999993705, "outcome": "passed"}, "call": {"duration": 0.011589864000001171, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1473744, "msecs": 147.0, "relativeCreated": 31993.569135665894, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1480029, "msecs": 148.0, "relativeCreated": 31994.197607040405, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1489174, "msecs": 148.0, "relativeCreated": 31995.11218070984, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1492984, "msecs": 149.0, "relativeCreated": 31995.493173599243, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1495059, "msecs": 149.0, "relativeCreated": 31995.70059776306, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1499698, "msecs": 149.0, "relativeCreated": 31996.164560317993, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1503098, "msecs": 150.0, "relativeCreated": 31996.504545211792, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1504722, "msecs": 150.0, "relativeCreated": 31996.66690826416, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1509504, "msecs": 150.0, "relativeCreated": 31997.145175933838, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1512918, "msecs": 151.0, "relativeCreated": 31997.48659133911, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1514506, "msecs": 151.0, "relativeCreated": 31997.645378112793, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1519227, "msecs": 151.0, "relativeCreated": 31998.117446899414, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1522539, "msecs": 152.0, "relativeCreated": 31998.448610305786, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.152418, "msecs": 152.0, "relativeCreated": 31998.612642288208, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.152885, "msecs": 152.0, "relativeCreated": 31999.079704284668, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.153196, "msecs": 153.0, "relativeCreated": 31999.390840530396, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1533883, "msecs": 153.0, "relativeCreated": 31999.58300590515, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.153832, "msecs": 153.0, "relativeCreated": 32000.02670288086, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1541545, "msecs": 154.0, "relativeCreated": 32000.349283218384, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1543396, "msecs": 154.0, "relativeCreated": 32000.534296035767, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1547723, "msecs": 154.0, "relativeCreated": 32000.967025756836, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1550813, "msecs": 155.0, "relativeCreated": 32001.27601623535, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1552725, "msecs": 155.0, "relativeCreated": 32001.46722793579, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.1557162, "msecs": 155.0, "relativeCreated": 32001.9109249115, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.6398692230000051, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "lineno": 220, "outcome": "failed", "keywords": ["test_check_client_pricing", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013738930000073424, "outcome": "passed"}, "call": {"duration": 0.005289464999989946, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 239, "message": "AssertionError: Failed to show pricing with: What is Sarah's rate?\nassert ('r' in '' or 'rand' in '' or False)\n +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f5895e6bd80>)"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 239, "message": "in test_check_client_pricing"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.7984567, "msecs": 798.0, "relativeCreated": 32644.651412963867, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.799062, "msecs": 799.0, "relativeCreated": 32645.256757736206, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923987.8028321, "msecs": 802.0, "relativeCreated": 32649.02687072754, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase2_client_management.py:239: in test_check_client_pricing\n    assert 'r' in message or 'rand' in message or \\\nE   AssertionError: Failed to show pricing with: What is Sarah's rate?\nE   assert ('r' in '' or 'rand' in '' or False)\nE    +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f5895e6bd80>)"}, "teardown": {"duration": 0.7268419880000039, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "lineno": 253, "outcome": "failed", "keywords": ["test_add_client_with_duplicate_phone", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000428593000009414, "outcome": "passed"}, "call": {"duration": 0.005291439999993486, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 268, "message": "AssertionError: assert ('already' in '' or 'exists' in '')\n +  where '' = <built-in method lower of str object at 0x7f5899d3fba0>()\n +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f5885e9bfc0>('message', '')\n +        where <built-in method get of dict object at 0x7f5885e9bfc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f5899d3fba0>()\n +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f5885e9bfc0>('message', '')\n +        where <built-in method get of dict object at 0x7f5885e9bfc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 268, "message": "in test_add_client_with_duplicate_phone"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923988.5361912, "msecs": 536.0, "relativeCreated": 33382.38596916199, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923988.5390122, "msecs": 539.0, "relativeCreated": 33385.20693778992, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923988.5399184, "msecs": 539.0, "relativeCreated": 33386.11316680908, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase2_client_management.py:268: in test_add_client_with_duplicate_phone\n    assert 'already' in response.get('message', '').lower() or \\\nE   AssertionError: assert ('already' in '' or 'exists' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f5899d3fba0>()\nE    +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f5885e9bfc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f5885e9bfc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f5899d3fba0>()\nE    +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f5885e9bfc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f5885e9bfc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get"}, "teardown": {"duration": 0.6695034090000007, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "lineno": 270, "outcome": "passed", "keywords": ["test_invalid_phone_numbers", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004458249999998998, "outcome": "passed"}, "call": {"duration": 0.0001053069999983336, "outcome": "passed"}, "teardown": {"duration": 0.7667720509999896, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_negative_pricing", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004262080000074775, "outcome": "passed"}, "call": {"duration": 0.0001018610000045328, "outcome": "passed"}, "teardown": {"duration": 0.616641976000011, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "lineno": 300, "outcome": "failed", "keywords": ["test_client_not_found", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005097350000085044, "outcome": "passed"}, "call": {"duration": 0.0052073319999976775, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 311, "message": "assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\n +  where '' = <built-in method lower of str object at 0x7f5899d3fba0>()\n +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f588605acc0>('message', '')\n +        where <built-in method get of dict object at 0x7f588605acc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f5899d3fba0>()\n +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f588605acc0>('message', '')\n +        where <built-in method get of dict object at 0x7f588605acc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f5899d3fba0>()\n +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f588605acc0>('message', '')\n +        where <built-in method get of dict object at 0x7f588605acc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 311, "message": "in test_client_not_found"}], "log": [{"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923990.6043673, "msecs": 604.0, "relativeCreated": 35450.56200027466, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error creating conversation state: 'Mock' object is not subscriptable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923990.60497, "msecs": 604.0, "relativeCreated": 35451.16472244263, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923990.60542, "msecs": 605.0, "relativeCreated": 35451.61485671997, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase2_client_management.py:311: in test_client_not_found\n    assert 'not found' in response.get('message', '').lower() or \\\nE   assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f5899d3fba0>()\nE    +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f588605acc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f588605acc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f5899d3fba0>()\nE    +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f588605acc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f588605acc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f5899d3fba0>()\nE    +    where <built-in method lower of str object at 0x7f5899d3fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f588605acc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f588605acc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140018181648016'>, 'success': True}.get"}, "teardown": {"duration": 0.773759362000007, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "lineno": 53, "outcome": "failed", "keywords": ["test_view_schedule_commands", "TestViewScheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013974769999975933, "outcome": "passed"}, "call": {"duration": 0.005148972999990065, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase3_scheduling.py", "lineno": 74, "message": "AssertionError: Failed to show schedule with: Show my schedule\nassert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "traceback": [{"path": "tests/test_phase3_scheduling.py", "lineno": 74, "message": "in test_view_schedule_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923991.3889632, "msecs": 388.0, "relativeCreated": 36235.15796661377, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923991.3919613, "msecs": 391.0, "relativeCreated": 36238.15608024597, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923991.3929465, "msecs": 392.0, "relativeCreated": 36239.14122581482, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}], "longrepr": "tests/test_phase3_scheduling.py:74: in test_view_schedule_commands\n    assert 'schedule' in message or 'booking' in message or \\\nE   AssertionError: Failed to show schedule with: Show my schedule\nE   assert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "teardown": {"duration": 0.7125511050000028, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "lineno": 110, "outcome": "passed", "keywords": ["test_book_session_natural_language", "critical", "pytestmark", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023284003000000553, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923992.1337402, "msecs": 133.0, "relativeCreated": 36979.93493080139, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "call": {"duration": 1.0506965080000015, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEvaD4DXaoxVXp7mx3'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEvaD4DXaoxVXp7mx3'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.244667, "msecs": 244.0, "relativeCreated": 37090.861797332764, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEvtoX6gycxt3C8cqV'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEvtoX6gycxt3C8cqV'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.329446, "msecs": 329.0, "relativeCreated": 37175.64082145691, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEwLLpvVRTrk4QVcCp'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEwLLpvVRTrk4QVcCp'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.4294384, "msecs": 429.0, "relativeCreated": 37275.633096694946, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEwgvkJAErj5Auvcuj'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEwgvkJAErj5Auvcuj'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.515149, "msecs": 515.0, "relativeCreated": 37361.34386062622, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmExAwmAH8YkZTZ9N7u'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmExAwmAH8YkZTZ9N7u'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.6418688, "msecs": 641.0, "relativeCreated": 37488.06357383728, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmExcjgdNQRTMvECV9q'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmExcjgdNQRTMvECV9q'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.7279668, "msecs": 727.0, "relativeCreated": 37574.161529541016, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmExy4qdsdzKwPBiq1U'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmExy4qdsdzKwPBiq1U'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.8081994, "msecs": 808.0, "relativeCreated": 37654.39414978027, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEyMtMGzXXjKctpX7p'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEyMtMGzXXjKctpX7p'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.9058506, "msecs": 905.0, "relativeCreated": 37752.04539299011, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEyiiXrrzBRwSojUCV'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEyiiXrrzBRwSojUCV'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923992.989936, "msecs": 989.0, "relativeCreated": 37836.13085746765, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEz6XvmEwcyeLzESdy'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEz6XvmEwcyeLzESdy'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923993.0865233, "msecs": 86.0, "relativeCreated": 37932.71803855896, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEzWqjf7Nmn5sHKeYx'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTXmEzWqjf7Nmn5sHKeYx'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923993.1840081, "msecs": 184.0, "relativeCreated": 38030.202865600586, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.6842560380000009, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "lineno": 144, "outcome": "passed", "keywords": ["test_booking_time_formats", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023351048999998625, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923993.8929374, "msecs": 892.0, "relativeCreated": 38739.13216590881, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "call": {"duration": 0.001416081000002123, "outcome": "passed"}, "teardown": {"duration": 0.7635443460000033, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "lineno": 169, "outcome": "passed", "keywords": ["test_booking_date_parsing", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02462981900001182, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1758923994.683077, "msecs": 683.0, "relativeCreated": 39529.271841049194, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "call": {"duration": 0.000489917999999534, "outcome": "passed"}, "teardown": {"duration": 0.6570513610000006, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "lineno": 223, "outcome": "passed", "keywords": ["test_cancel_booking_variations", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0011583189999981869, "outcome": "passed"}, "call": {"duration": 0.019112255000010236, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.343486, "msecs": 343.0, "relativeCreated": 40189.68081474304, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.344124, "msecs": 344.0, "relativeCreated": 40190.31882286072, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3550503, "msecs": 355.0, "relativeCreated": 40201.245069503784, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.355432, "msecs": 355.0, "relativeCreated": 40201.626777648926, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.355593, "msecs": 355.0, "relativeCreated": 40201.78771018982, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3560886, "msecs": 356.0, "relativeCreated": 40202.28338241577, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3564057, "msecs": 356.0, "relativeCreated": 40202.60047912598, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3565626, "msecs": 356.0, "relativeCreated": 40202.757358551025, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.356996, "msecs": 356.0, "relativeCreated": 40203.19080352783, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.357337, "msecs": 357.0, "relativeCreated": 40203.53174209595, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.357493, "msecs": 357.0, "relativeCreated": 40203.68766784668, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3579369, "msecs": 357.0, "relativeCreated": 40204.13160324097, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3582568, "msecs": 358.0, "relativeCreated": 40204.45156097412, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3584404, "msecs": 358.0, "relativeCreated": 40204.63514328003, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3588793, "msecs": 358.0, "relativeCreated": 40205.074071884155, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3591957, "msecs": 359.0, "relativeCreated": 40205.39045333862, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3593733, "msecs": 359.0, "relativeCreated": 40205.568075180054, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3598275, "msecs": 359.0, "relativeCreated": 40206.02226257324, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3601308, "msecs": 360.0, "relativeCreated": 40206.32553100586, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3603418, "msecs": 360.0, "relativeCreated": 40206.536531448364, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3608356, "msecs": 360.0, "relativeCreated": 40207.03029632568, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3611405, "msecs": 361.0, "relativeCreated": 40207.335233688354, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3613296, "msecs": 361.0, "relativeCreated": 40207.52429962158, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923995.3617744, "msecs": 361.0, "relativeCreated": 40207.969188690186, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.7314128160000024, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "lineno": 248, "outcome": "passed", "keywords": ["test_reschedule_booking", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0011139260000021523, "outcome": "passed"}, "call": {"duration": 0.006444266000002585, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0957992, "msecs": 95.0, "relativeCreated": 40941.993951797485, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0964544, "msecs": 96.0, "relativeCreated": 40942.64912605286, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0975566, "msecs": 97.0, "relativeCreated": 40943.75133514404, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0978808, "msecs": 97.0, "relativeCreated": 40944.07558441162, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0980442, "msecs": 98.0, "relativeCreated": 40944.238901138306, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0985544, "msecs": 98.0, "relativeCreated": 40944.74911689758, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0988653, "msecs": 98.0, "relativeCreated": 40945.06001472473, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.099029, "msecs": 99.0, "relativeCreated": 40945.223808288574, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0995314, "msecs": 99.0, "relativeCreated": 40945.72615623474, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.0998502, "msecs": 99.0, "relativeCreated": 40946.044921875, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.1000085, "msecs": 100.0, "relativeCreated": 40946.20323181152, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.100487, "msecs": 100.0, "relativeCreated": 40946.68173789978, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.1008224, "msecs": 100.0, "relativeCreated": 40947.017192840576, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.1009789, "msecs": 100.0, "relativeCreated": 40947.17359542847, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.1014438, "msecs": 101.0, "relativeCreated": 40947.638511657715, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.6810648780000008, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "lineno": 283, "outcome": "passed", "keywords": ["test_double_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005076010000095721, "outcome": "passed"}, "call": {"duration": 0.0014580210000048055, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923996.785149, "msecs": 785.0, "relativeCreated": 41631.343841552734, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.6480009170000045, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "lineno": 313, "outcome": "passed", "keywords": ["test_past_date_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004814610000067887, "outcome": "passed"}, "call": {"duration": 0.0012726029999896582, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1758923997.4355125, "msecs": 435.0, "relativeCreated": 42281.70728683472, "thread": 140018515745664, "threadName": "MainThread", "processName": "MainProcess", "process": 2181}]}, "teardown": {"duration": 0.7314073290000067, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "lineno": 334, "outcome": "passed", "keywords": ["test_invalid_time_slots", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005019700000019611, "outcome": "passed"}, "call": {"duration": 0.000546633999988444, "outcome": "passed"}, "teardown": {"duration": 0.7827606899999893, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "lineno": 147, "outcome": "error", "keywords": ["test_setup_habits_for_clients", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02211572199999523, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 143, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:143: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6513372090000047, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "lineno": 169, "outcome": "error", "keywords": ["test_check_habit_compliance", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02174574600000767, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 143, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:143: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.666214686999993, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "lineno": 185, "outcome": "error", "keywords": ["test_send_habit_reminders", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022003841999989504, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 143, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:143: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 1.0663297079999978, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 213, "outcome": "error", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02193500200000642, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 209, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:209: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6938762770000011, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "lineno": 229, "outcome": "error", "keywords": ["test_start_assessment", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02223872500000823, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 209, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:209: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6865134880000028, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "lineno": 245, "outcome": "error", "keywords": ["test_view_assessment_results", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02220631499999115, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 209, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:209: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.7607685050000015, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 272, "outcome": "error", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021966917000000308, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 268, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:268: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6477346530000005, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 288, "outcome": "error", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02160693300000105, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 268, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:268: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.7263039369999973, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "lineno": 305, "outcome": "error", "keywords": ["test_payment_confirmation", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021877188999994246, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 268, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:268: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.8398903590000089, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "lineno": 332, "outcome": "error", "keywords": ["test_view_dashboard", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022014264999995703, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 328, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:328: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.728829134999998, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "lineno": 348, "outcome": "error", "keywords": ["test_client_analytics", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02422291199999904, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 328, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:328: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6599156340000008, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 377, "outcome": "error", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022343853000009517, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 371, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:371: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.8685950480000031, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 393, "outcome": "error", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021669199000001527, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 371, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:371: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6918719829999986, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "lineno": 410, "outcome": "error", "keywords": ["test_client_progress", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02175161399999581, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 371, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:371: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6620188979999995, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "lineno": 438, "outcome": "error", "keywords": ["test_view_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021901935999991906, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 434, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:434: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.7861183809999943, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "lineno": 454, "outcome": "error", "keywords": ["test_join_leave_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021555667999990646, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 434, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:434: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6696221339999937, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "lineno": 470, "outcome": "error", "keywords": ["test_leaderboard", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022034534999988864, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 434, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:434: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.8148959509999969, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "lineno": 498, "outcome": "error", "keywords": ["test_bulk_operations", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021836784999990755, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 494, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:494: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.7346510349999988, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "lineno": 513, "outcome": "error", "keywords": ["test_natural_language", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021739542999995365, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 494, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:494: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.8833511600000037, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 529, "outcome": "error", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021555047000006766, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 494, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:494: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.797804389999996, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "lineno": 557, "outcome": "error", "keywords": ["test_check_scheduled_reminders", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022189585999996098, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 553, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:553: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.7062236780000006, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "lineno": 568, "outcome": "error", "keywords": ["test_subscription_monitoring", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021634605999992118, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 553, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:553: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.6644650780000063, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "lineno": 227, "outcome": "passed", "keywords": ["test_new_trainer_onboarding", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027286099999912494, "outcome": "passed"}, "call": {"duration": 0.005641696000012075, "outcome": "passed"}, "teardown": {"duration": 0.660821815999995, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "lineno": 242, "outcome": "passed", "keywords": ["test_trainer_recognition", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002751050000000532, "outcome": "passed"}, "call": {"duration": 0.005773090999994679, "outcome": "passed"}, "teardown": {"duration": 0.7352698709999999, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 269, "outcome": "passed", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029596399998865763, "outcome": "passed"}, "call": {"duration": 0.005348756999993043, "outcome": "passed"}, "teardown": {"duration": 0.7681442060000023, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 278, "outcome": "passed", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002934900000042262, "outcome": "passed"}, "call": {"duration": 0.0028695540000001074, "outcome": "passed"}, "teardown": {"duration": 0.7817000009999902, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_custom_pricing", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00033319400000664245, "outcome": "passed"}, "call": {"duration": 0.00470546200000399, "outcome": "passed"}, "teardown": {"duration": 0.8640734589999965, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "lineno": 299, "outcome": "passed", "keywords": ["test_view_schedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028580499999009135, "outcome": "passed"}, "call": {"duration": 0.002664520000010384, "outcome": "passed"}, "teardown": {"duration": 0.7425095570000053, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "lineno": 308, "outcome": "passed", "keywords": ["test_book_sessions", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030972999999789863, "outcome": "passed"}, "call": {"duration": 0.010823610000002759, "outcome": "passed"}, "teardown": {"duration": 0.7165632720000019, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "lineno": 317, "outcome": "failed", "keywords": ["test_cancel_reschedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002972059999990506, "outcome": "passed"}, "call": {"duration": 0.0029916720000073838, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 329, "message": "assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\n +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f58963814c0>()\n +    where <built-in method lower of str object at 0x7f58963814c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\n +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f58963814c0>()\n +    where <built-in method lower of str object at 0x7f58963814c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 329, "message": "in test_cancel_reschedule"}], "longrepr": "tests/test_refiloe_complete.py:329: in test_cancel_reschedule\n    assert \"reschedul\" in response['message'].lower() or \"moved\" in response['message'].lower()\nE   assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\nE    +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f58963814c0>()\nE    +    where <built-in method lower of str object at 0x7f58963814c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\nE    +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f58963814c0>()\nE    +    where <built-in method lower of str object at 0x7f58963814c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "teardown": {"duration": 0.7237632820000073, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "lineno": 334, "outcome": "passed", "keywords": ["test_setup_habits", "TestPhase4_HabitTracking", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030625299999087474, "outcome": "passed"}, "call": {"duration": 0.005025751999994554, "outcome": "passed"}, "teardown": {"duration": 0.7674141800000029, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 347, "outcome": "passed", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029344899999728113, "outcome": "passed"}, "call": {"duration": 0.008468639000000167, "outcome": "passed"}, "teardown": {"duration": 0.8562181469999928, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 360, "outcome": "failed", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002900129999972023, "outcome": "passed"}, "call": {"duration": 0.0030366069999985257, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 368, "message": "assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\n +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f58963daab0>()\n +    where <built-in method lower of str object at 0x7f58963daab0> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\n +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f58963daab0>()\n +    where <built-in method lower of str object at 0x7f58963daab0> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 368, "message": "in test_request_payment"}], "longrepr": "tests/test_refiloe_complete.py:368: in test_request_payment\n    assert \"payment\" in response['message'].lower() or \"invoice\" in response['message'].lower()\nE   assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\nE    +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f58963daab0>()\nE    +    where <built-in method lower of str object at 0x7f58963daab0> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\nE    +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f58963daab0>()\nE    +    where <built-in method lower of str object at 0x7f58963daab0> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "teardown": {"duration": 0.7030410840000059, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 369, "outcome": "passed", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027143799999862495, "outcome": "passed"}, "call": {"duration": 0.005162157999990313, "outcome": "passed"}, "teardown": {"duration": 0.6577099699999991, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 381, "outcome": "passed", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002623310000018364, "outcome": "passed"}, "call": {"duration": 0.0058108719999978575, "outcome": "passed"}, "teardown": {"duration": 0.675978243000003, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 390, "outcome": "passed", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002919370000000754, "outcome": "passed"}, "call": {"duration": 0.005258867999998529, "outcome": "passed"}, "teardown": {"duration": 0.8152607279999984, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "lineno": 403, "outcome": "passed", "keywords": ["test_natural_language_understanding", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002832910000023503, "outcome": "passed"}, "call": {"duration": 0.005358645000001161, "outcome": "passed"}, "teardown": {"duration": 0.8982933110000033, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 412, "outcome": "failed", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002788420000001679, "outcome": "passed"}, "call": {"duration": 0.003003023999994525, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 424, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f58870b9e00>)"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 424, "message": "in test_error_handling"}], "longrepr": "tests/test_refiloe_complete.py:424: in test_error_handling\n    assert any(word in response['message'].lower() for word in [\"past\", \"future\", \"cannot\"])\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f58870b9e00>)"}, "teardown": {"duration": 0.6795330249999978, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "lineno": 433, "outcome": "passed", "keywords": ["test_trainer_registration_step_7_currency_parsing", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029789799999946354, "outcome": "passed"}, "call": {"duration": 0.0007244170000006989, "outcome": "passed"}, "teardown": {"duration": 0.7854409139999916, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "lineno": 457, "outcome": "passed", "keywords": ["test_ai_responds_naturally_not_rigid_commands", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002907550000088577, "outcome": "passed"}, "call": {"duration": 0.0029477499999899237, "outcome": "passed"}, "teardown": {"duration": 0.8263868180000031, "outcome": "passed"}}], "warnings": [{"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "\nPyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),\n(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)\nbut was not found to be installed on your system.\nIf this would cause problems for you,\nplease provide us feedback at https://github.com/pandas-dev/pandas/issues/54466\n        ", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/analytics.py", "lineno": 7}]}
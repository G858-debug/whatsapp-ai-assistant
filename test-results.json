{"created": 1760467130.114691, "duration": 150.38181376457214, "exitcode": 1, "root": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant", "environment": {}, "summary": {"passed": 54, "error": 8, "failed": 29, "total": 91, "collected": 91}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/__init__.py", "type": "Package"}]}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "type": "Function", "lineno": 130}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "type": "Function", "lineno": 143}]}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "type": "Function", "lineno": 165}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "type": "Function", "lineno": 170}]}, {"nodeid": "tests/test_conversation_flows.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "type": "Class"}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "type": "Class"}]}, {"nodeid": "tests/test_debug.py", "outcome": "passed", "result": [{"nodeid": "tests/test_debug.py::test_python_version", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_debug.py::test_project_structure", "type": "Function", "lineno": 28}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_debug.py::test_check_requirements", "type": "Function", "lineno": 84}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "type": "Function", "lineno": 97}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "type": "Function", "lineno": 136}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 180}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 203}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "type": "Function", "lineno": 218}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "type": "Function", "lineno": 267}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "type": "Function", "lineno": 290}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "type": "Function", "lineno": 311}]}, {"nodeid": "tests/test_e2e_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "type": "Class"}]}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "type": "Function", "lineno": 106}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "type": "Function", "lineno": 162}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "type": "Function", "lineno": 196}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_integration_real.py", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration", "type": "Class"}]}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "type": "Function", "lineno": 77}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "type": "Function", "lineno": 211}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "type": "Function", "lineno": 224}]}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "type": "Function", "lineno": 281}]}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "type": "Function", "lineno": 311}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "type": "Function", "lineno": 327}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "type": "Function", "lineno": 341}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "type": "Function", "lineno": 358}]}, {"nodeid": "tests/test_phase1_registration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "type": "Function", "lineno": 75}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "type": "Function", "lineno": 100}]}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "type": "Function", "lineno": 140}]}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "type": "Function", "lineno": 188}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "type": "Function", "lineno": 253}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "type": "Function", "lineno": 300}]}, {"nodeid": "tests/test_phase2_client_management.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "type": "Function", "lineno": 53}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "type": "Function", "lineno": 110}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "type": "Function", "lineno": 169}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "type": "Function", "lineno": 223}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "type": "Function", "lineno": 248}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "type": "Function", "lineno": 283}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "type": "Function", "lineno": 313}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_phase3_scheduling.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "type": "Class"}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "type": "Function", "lineno": 145}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "type": "Function", "lineno": 167}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "type": "Function", "lineno": 183}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 211}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "type": "Function", "lineno": 227}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "type": "Function", "lineno": 243}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "type": "Function", "lineno": 303}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "type": "Function", "lineno": 330}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "type": "Function", "lineno": 346}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 375}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 391}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "type": "Function", "lineno": 408}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "type": "Function", "lineno": 436}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "type": "Function", "lineno": 452}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "type": "Function", "lineno": 468}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "type": "Function", "lineno": 496}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "type": "Function", "lineno": 511}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 527}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "type": "Function", "lineno": 555}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "type": "Function", "lineno": 566}]}, {"nodeid": "tests/test_phases_4_11.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "type": "Class"}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "type": "Function", "lineno": 227}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "type": "Function", "lineno": 242}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 269}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 278}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "type": "Function", "lineno": 286}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "type": "Function", "lineno": 299}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "type": "Function", "lineno": 308}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "type": "Function", "lineno": 317}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 347}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 360}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 369}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 381}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 390}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "type": "Function", "lineno": 403}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 412}]}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "type": "Function", "lineno": 433}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "type": "Function", "lineno": 457}]}, {"nodeid": "tests/test_refiloe_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "type": "Class"}]}, {"nodeid": "tests/test_setup_fix.py", "outcome": "passed", "result": []}, {"nodeid": "tests/__init__.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py", "type": "Module"}, {"nodeid": "tests/test_debug.py", "type": "Module"}, {"nodeid": "tests/test_e2e_complete.py", "type": "Module"}, {"nodeid": "tests/test_integration_real.py", "type": "Module"}, {"nodeid": "tests/test_phase1_registration.py", "type": "Module"}, {"nodeid": "tests/test_phase2_client_management.py", "type": "Module"}, {"nodeid": "tests/test_phase3_scheduling.py", "type": "Module"}, {"nodeid": "tests/test_phases_4_11.py", "type": "Module"}, {"nodeid": "tests/test_refiloe_complete.py", "type": "Module"}, {"nodeid": "tests/test_setup_fix.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "lineno": 130, "outcome": "passed", "keywords": ["test_imports_work", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005273060000021701, "outcome": "passed"}, "call": {"duration": 0.0342096410000039, "outcome": "passed"}, "teardown": {"duration": 0.8436981279999998, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "lineno": 136, "outcome": "passed", "keywords": ["test_mock_message", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003161509999998202, "outcome": "passed"}, "call": {"duration": 0.02292194000000336, "outcome": "passed"}, "teardown": {"duration": 0.9562801169999986, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "lineno": 143, "outcome": "passed", "keywords": ["test_trainer_registration_mock", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00033461599999640157, "outcome": "passed"}, "call": {"duration": 0.023285398999995266, "outcome": "passed"}, "teardown": {"duration": 0.8994401719999985, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "lineno": 165, "outcome": "passed", "keywords": ["test_basic_setup", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023852449000003162, "outcome": "passed"}, "call": {"duration": 0.00011661799999984623, "outcome": "passed"}, "teardown": {"duration": 1.242945644999999, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "lineno": 170, "outcome": "passed", "keywords": ["test_mock_registration_flow", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023044993000006286, "outcome": "passed"}, "call": {"duration": 0.0002278060000051596, "outcome": "passed"}, "teardown": {"duration": 0.8088173889999979, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_python_version", "lineno": 9, "outcome": "passed", "keywords": ["test_python_version", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002900019999998449, "outcome": "passed"}, "call": {"duration": 9.525800000176332e-05, "outcome": "passed"}, "teardown": {"duration": 0.8835701650000019, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "lineno": 14, "outcome": "passed", "keywords": ["test_can_import_basic_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027474400000215837, "outcome": "passed"}, "call": {"duration": 9.729199999952698e-05, "outcome": "passed"}, "teardown": {"duration": 0.8676309280000041, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_project_structure", "lineno": 28, "outcome": "passed", "keywords": ["test_project_structure", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027952199999958793, "outcome": "passed"}, "call": {"duration": 0.00023855599999933474, "outcome": "passed"}, "teardown": {"duration": 1.2017083219999947, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "lineno": 48, "outcome": "passed", "keywords": ["test_can_import_refiloe_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027068600000035303, "outcome": "passed"}, "call": {"duration": 0.0004220089999975585, "outcome": "passed"}, "teardown": {"duration": 0.8304531819999994, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_check_requirements", "lineno": 84, "outcome": "passed", "keywords": ["test_check_requirements", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029757600000124285, "outcome": "passed"}, "call": {"duration": 0.10673269699999821, "outcome": "passed"}, "teardown": {"duration": 0.8729996420000035, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "lineno": 97, "outcome": "error", "keywords": ["test_complete_trainer_onboarding", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022342230999996104, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8631221769999939, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "lineno": 136, "outcome": "error", "keywords": ["test_trainer_recognition_after_registration", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02246308800000918, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8254120570000083, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 180, "outcome": "error", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022213651999990702, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8881490209999896, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 203, "outcome": "error", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02230813900000328, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8531438700000109, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "lineno": 218, "outcome": "error", "keywords": ["test_custom_pricing", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02295947499999329, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8278993560000032, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "lineno": 267, "outcome": "error", "keywords": ["test_view_schedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022353334000001723, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.9232671280000062, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "lineno": 290, "outcome": "error", "keywords": ["test_book_sessions", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02241455700000472, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8687953700000008, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "lineno": 311, "outcome": "error", "keywords": ["test_cancel_reschedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0226869760000028, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.9189470340000128, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "lineno": 106, "outcome": "passed", "keywords": ["test_trainer_registration_database", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.2627014149999951, "outcome": "passed"}, "call": {"duration": 0.3939796140000027, "outcome": "passed"}, "teardown": {"duration": 1.2058770769999967, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "lineno": 134, "outcome": "passed", "keywords": ["test_client_management_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030389799999852585, "outcome": "passed"}, "call": {"duration": 0.6092578650000036, "outcome": "passed"}, "teardown": {"duration": 0.8859674020000057, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "lineno": 162, "outcome": "failed", "keywords": ["test_booking_system_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003052200000013272, "outcome": "passed"}, "call": {"duration": 0.40309977200000446, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "postgrest.exceptions.APIError: {'code': '23502', 'details': 'Failing row contains (e12b93f7-5d9a-4ac0-8e63-36113befc77d, 4ef40019-dc0d-4cb4-a50e-7186e4ae2d38, null, 2025-10-15 18:36:40.753078+00, 60, 500.00, scheduled, null, 2025-10-14 18:36:40.862612+00, 2025-10-14 18:36:40.862612+00).', 'hint': None, 'message': 'null value in column \"client_id\" of relation \"bookings\" violates not-null constraint'}"}, "traceback": [{"path": "tests/test_integration_real.py", "lineno": 186, "message": "in test_booking_system_real"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "in execute"}], "longrepr": "tests/test_integration_real.py:186: in test_booking_system_real\n    }).execute()\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py:70: in execute\n    raise APIError(r.json())\nE   postgrest.exceptions.APIError: {'code': '23502', 'details': 'Failing row contains (e12b93f7-5d9a-4ac0-8e63-36113befc77d, 4ef40019-dc0d-4cb4-a50e-7186e4ae2d38, null, 2025-10-15 18:36:40.753078+00, 60, 500.00, scheduled, null, 2025-10-14 18:36:40.862612+00, 2025-10-14 18:36:40.862612+00).', 'hint': None, 'message': 'null value in column \"client_id\" of relation \"bookings\" violates not-null constraint'}"}, "teardown": {"duration": 0.8878656059999912, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "lineno": 196, "outcome": "passed", "keywords": ["test_ai_integration_simple", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000308435999997414, "outcome": "passed"}, "call": {"duration": 0.7175337280000065, "outcome": "passed"}, "teardown": {"duration": 0.8272841229999983, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "lineno": 220, "outcome": "passed", "keywords": ["test_database_connection", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00031210400000247773, "outcome": "passed"}, "call": {"duration": 0.19486888400000169, "outcome": "passed"}, "teardown": {"duration": 1.878492160999997, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "lineno": 77, "outcome": "passed", "keywords": ["test_complete_trainer_registration_flow", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009579800000096839, "outcome": "passed"}, "call": {"duration": 0.06022461699998871, "outcome": "passed"}, "teardown": {"duration": 0.7744721100000049, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "lineno": 192, "outcome": "passed", "keywords": ["test_currency_parsing_variations", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008741639999954032, "outcome": "passed"}, "call": {"duration": 0.00017215200000464392, "outcome": "passed"}, "teardown": {"duration": 0.8516043480000093, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "lineno": 211, "outcome": "passed", "keywords": ["test_registration_with_missing_fields", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008835109999978386, "outcome": "passed"}, "call": {"duration": 0.0066925149999974565, "outcome": "passed"}, "teardown": {"duration": 0.816647164999992, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "lineno": 224, "outcome": "failed", "keywords": ["test_trainer_recognition_after_registration", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0034059240000061664, "outcome": "passed"}, "call": {"duration": 0.7945234800000094, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 253, "message": "AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'>)\n +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'> = <built-in method get of dict object at 0x7f4f5a95fb80>('response', '')\n +        where <built-in method get of dict object at 0x7f4f5a95fb80> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\n +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'> = <built-in method get of dict object at 0x7f4f5a95fb80>('response', '')\n +        where <built-in method get of dict object at 0x7f4f5a95fb80> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 253, "message": "in test_trainer_recognition_after_registration"}], "log": [{"name": "refiloe", "msg": "Background scheduler started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467008.6887388, "msecs": 688.0, "relativeCreated": 29502.99859046936, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Routes setup complete", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467008.690298, "msecs": 690.0, "relativeCreated": 29504.557847976685, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Flow webhook routes registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467008.7204912, "msecs": 720.0, "relativeCreated": 29534.750938415527, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467008.7817914, "msecs": 781.0, "relativeCreated": 29596.05121612549, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase1_registration.py:253: in test_trainer_recognition_after_registration\n    assert 'john' in response.get('response', '').lower() or \\\nE   AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'>)\nE    +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'> = <built-in method get of dict object at 0x7f4f5a95fb80>('response', '')\nE    +        where <built-in method get of dict object at 0x7f4f5a95fb80> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\nE    +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='139978796808912'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='139978796747408'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'> = <built-in method get of dict object at 0x7f4f5a95fb80>('response', '')\nE    +        where <built-in method get of dict object at 0x7f4f5a95fb80> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get"}, "teardown": {"duration": 0.841915659999998, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "lineno": 281, "outcome": "failed", "keywords": ["test_client_receives_welcome_after_registration", "TestClientRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.003587642999988816, "outcome": "passed"}, "call": {"duration": 0.0039140539999920065, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 297, "message": "assert False == True\n +  where False = <built-in method get of dict object at 0x7f4f59595e40>('success')\n +    where <built-in method get of dict object at 0x7f4f59595e40> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 297, "message": "in test_client_receives_welcome_after_registration"}], "log": [{"name": "refiloe", "msg": "Error getting user context: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467009.6368756, "msecs": 636.0, "relativeCreated": 30451.135396957397, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error handling message: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467009.6398203, "msecs": 639.0, "relativeCreated": 30454.08010482788, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase1_registration.py:297: in test_client_receives_welcome_after_registration\n    assert response.get('success') == True\nE   assert False == True\nE    +  where False = <built-in method get of dict object at 0x7f4f59595e40>('success')\nE    +    where <built-in method get of dict object at 0x7f4f59595e40> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "teardown": {"duration": 0.897108498999998, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "lineno": 311, "outcome": "passed", "keywords": ["test_duplicate_registration_attempt", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006113520000070594, "outcome": "passed"}, "call": {"duration": 0.004225865999998746, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Tracked registration analytics: 27731863036 - already_registered - step None", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467010.5468733, "msecs": 546.0, "relativeCreated": 31361.133098602295, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 1.0736269060000012, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "lineno": 327, "outcome": "passed", "keywords": ["test_invalid_email_format", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0027730310000038116, "outcome": "passed"}, "call": {"duration": 0.0011998919999882673, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Tracked registration analytics: 27731863036 - validation_error - step 2", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467011.62513, "msecs": 625.0, "relativeCreated": 32439.38970565796, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8202974120000022, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "lineno": 341, "outcome": "passed", "keywords": ["test_extremely_long_input", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008014569999943433, "outcome": "passed"}, "call": {"duration": 0.00013482200000680677, "outcome": "passed"}, "teardown": {"duration": 0.8310030579999932, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "lineno": 358, "outcome": "passed", "keywords": ["test_special_characters_in_name", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006837779999955274, "outcome": "passed"}, "call": {"duration": 9.44769999904338e-05, "outcome": "passed"}, "teardown": {"duration": 0.777071399999997, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "lineno": 47, "outcome": "passed", "keywords": ["test_add_client_command_variations", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02462520199999574, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='139978778517456'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467014.081613, "msecs": 81.0, "relativeCreated": 34895.872831344604, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "call": {"duration": 0.018742451000008487, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0851612, "msecs": 85.0, "relativeCreated": 34899.420976638794, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0857847, "msecs": 85.0, "relativeCreated": 34900.044441223145, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0867496, "msecs": 86.0, "relativeCreated": 34901.00932121277, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0871692, "msecs": 87.0, "relativeCreated": 34901.42893791199, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0873694, "msecs": 87.0, "relativeCreated": 34901.62920951843, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0879226, "msecs": 87.0, "relativeCreated": 34902.18234062195, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.091959, "msecs": 91.0, "relativeCreated": 34906.21876716614, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0921235, "msecs": 92.0, "relativeCreated": 34906.38327598572, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0936136, "msecs": 93.0, "relativeCreated": 34907.8733921051, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0939374, "msecs": 93.0, "relativeCreated": 34908.19716453552, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0941234, "msecs": 94.0, "relativeCreated": 34908.38313102722, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0946214, "msecs": 94.0, "relativeCreated": 34908.881187438965, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0949328, "msecs": 94.0, "relativeCreated": 34909.19256210327, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0950866, "msecs": 95.0, "relativeCreated": 34909.34634208679, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0955906, "msecs": 95.0, "relativeCreated": 34909.85035896301, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.095918, "msecs": 95.0, "relativeCreated": 34910.17770767212, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0960746, "msecs": 96.0, "relativeCreated": 34910.33434867859, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0965786, "msecs": 96.0, "relativeCreated": 34910.83836555481, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.096884, "msecs": 96.0, "relativeCreated": 34911.14377975464, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0970385, "msecs": 97.0, "relativeCreated": 34911.2982749939, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0975547, "msecs": 97.0, "relativeCreated": 34911.81445121765, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0978868, "msecs": 97.0, "relativeCreated": 34912.14656829834, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.098042, "msecs": 98.0, "relativeCreated": 34912.301778793335, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0985618, "msecs": 98.0, "relativeCreated": 34912.82153129578, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0988886, "msecs": 98.0, "relativeCreated": 34913.148403167725, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0990686, "msecs": 99.0, "relativeCreated": 34913.328409194946, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0995388, "msecs": 99.0, "relativeCreated": 34913.798570632935, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.0998604, "msecs": 99.0, "relativeCreated": 34914.12019729614, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.100023, "msecs": 100.0, "relativeCreated": 34914.28279876709, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467014.1005094, "msecs": 100.0, "relativeCreated": 34914.76917266846, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8338744649999938, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "lineno": 75, "outcome": "passed", "keywords": ["test_phone_number_normalization", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02375788099999454, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='139978778597072'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467014.9587789, "msecs": 958.0, "relativeCreated": 35773.03862571716, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "call": {"duration": 0.00024282399999719928, "outcome": "passed"}, "teardown": {"duration": 0.8954560629999975, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "lineno": 100, "outcome": "passed", "keywords": ["test_add_client_with_special_names", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.027171843999994394, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='139978777017296'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467015.8823972, "msecs": 882.0, "relativeCreated": 36696.656942367554, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "call": {"duration": 0.010594053999994912, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8834417, "msecs": 883.0, "relativeCreated": 36697.7014541626, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.884049, "msecs": 884.0, "relativeCreated": 36698.30870628357, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8847861, "msecs": 884.0, "relativeCreated": 36699.04589653015, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8851047, "msecs": 885.0, "relativeCreated": 36699.36442375183, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8852842, "msecs": 885.0, "relativeCreated": 36699.543952941895, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8857846, "msecs": 885.0, "relativeCreated": 36700.04439353943, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8860936, "msecs": 886.0, "relativeCreated": 36700.353384017944, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.886273, "msecs": 886.0, "relativeCreated": 36700.53267478943, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.886725, "msecs": 886.0, "relativeCreated": 36700.984716415405, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8870554, "msecs": 887.0, "relativeCreated": 36701.31516456604, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8872297, "msecs": 887.0, "relativeCreated": 36701.48944854736, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.887675, "msecs": 887.0, "relativeCreated": 36701.934814453125, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8879898, "msecs": 887.0, "relativeCreated": 36702.24952697754, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8904252, "msecs": 890.0, "relativeCreated": 36704.68497276306, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.891217, "msecs": 891.0, "relativeCreated": 36705.47676086426, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8915236, "msecs": 891.0, "relativeCreated": 36705.78336715698, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.891685, "msecs": 891.0, "relativeCreated": 36705.944776535034, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.89217, "msecs": 892.0, "relativeCreated": 36706.42971992493, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8924944, "msecs": 892.0, "relativeCreated": 36706.754207611084, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8926594, "msecs": 892.0, "relativeCreated": 36706.91919326782, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467015.8931234, "msecs": 893.0, "relativeCreated": 36707.383155822754, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8340468699999946, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "lineno": 140, "outcome": "failed", "keywords": ["test_view_clients_commands", "TestViewClientsReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009729500000048574, "outcome": "passed"}, "call": {"duration": 0.005081387000004156, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 160, "message": "AssertionError: Failed to list clients with command: Show my clients\nassert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 160, "message": "in test_view_clients_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467016.73219, "msecs": 732.0, "relativeCreated": 37546.44966125488, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467016.732829, "msecs": 732.0, "relativeCreated": 37547.088861465454, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467016.733804, "msecs": 733.0, "relativeCreated": 37548.0637550354, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase2_client_management.py:160: in test_view_clients_commands\n    assert 'sarah' in message or 'john' in message or 'mike' in message or \\\nE   AssertionError: Failed to list clients with command: Show my clients\nE   assert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "teardown": {"duration": 0.8942826680000024, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "lineno": 188, "outcome": "passed", "keywords": ["test_set_custom_pricing_variations", "critical", "pytestmark", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0014351450000020805, "outcome": "passed"}, "call": {"duration": 0.011934210999996253, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6375928, "msecs": 637.0, "relativeCreated": 38451.852560043335, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6382227, "msecs": 638.0, "relativeCreated": 38452.48246192932, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6391025, "msecs": 639.0, "relativeCreated": 38453.362226486206, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6394525, "msecs": 639.0, "relativeCreated": 38453.71222496033, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.639652, "msecs": 639.0, "relativeCreated": 38453.911781311035, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6401107, "msecs": 640.0, "relativeCreated": 38454.37049865723, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6404526, "msecs": 640.0, "relativeCreated": 38454.71239089966, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6406274, "msecs": 640.0, "relativeCreated": 38454.88715171814, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6410654, "msecs": 641.0, "relativeCreated": 38455.32512664795, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.641389, "msecs": 641.0, "relativeCreated": 38455.64866065979, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6415403, "msecs": 641.0, "relativeCreated": 38455.80005645752, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6419985, "msecs": 641.0, "relativeCreated": 38456.25829696655, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6423445, "msecs": 642.0, "relativeCreated": 38456.60424232483, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6425037, "msecs": 642.0, "relativeCreated": 38456.76350593567, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6434891, "msecs": 643.0, "relativeCreated": 38457.748889923096, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6438022, "msecs": 643.0, "relativeCreated": 38458.061933517456, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.643953, "msecs": 643.0, "relativeCreated": 38458.21285247803, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6444147, "msecs": 644.0, "relativeCreated": 38458.67443084717, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6447566, "msecs": 644.0, "relativeCreated": 38459.0163230896, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6449192, "msecs": 644.0, "relativeCreated": 38459.17892456055, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6453884, "msecs": 645.0, "relativeCreated": 38459.64813232422, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.645718, "msecs": 645.0, "relativeCreated": 38459.977865219116, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6458972, "msecs": 645.0, "relativeCreated": 38460.15691757202, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467017.6463625, "msecs": 646.0, "relativeCreated": 38460.62231063843, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 1.171143893000007, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "lineno": 220, "outcome": "failed", "keywords": ["test_check_client_pricing", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.001417943999996396, "outcome": "passed"}, "call": {"duration": 0.002593773000000965, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 239, "message": "AssertionError: Failed to show pricing with: What is Sarah's rate?\nassert ('r' in '' or 'rand' in '' or False)\n +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f4f5a683d80>)"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 239, "message": "in test_check_client_pricing"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467018.8204923, "msecs": 820.0, "relativeCreated": 39634.75203514099, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467018.821105, "msecs": 821.0, "relativeCreated": 39635.36477088928, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467018.8221364, "msecs": 822.0, "relativeCreated": 39636.396169662476, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase2_client_management.py:239: in test_check_client_pricing\n    assert 'r' in message or 'rand' in message or \\\nE   AssertionError: Failed to show pricing with: What is Sarah's rate?\nE   assert ('r' in '' or 'rand' in '' or False)\nE    +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f4f5a683d80>)"}, "teardown": {"duration": 0.8325612430000007, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "lineno": 253, "outcome": "failed", "keywords": ["test_add_client_with_duplicate_phone", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004579969999980449, "outcome": "passed"}, "call": {"duration": 0.00531926299998986, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 268, "message": "AssertionError: assert ('already' in '' or 'exists' in '')\n +  where '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\n +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f4f59441100>('message', '')\n +        where <built-in method get of dict object at 0x7f4f59441100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\n +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f4f59441100>('message', '')\n +        where <built-in method get of dict object at 0x7f4f59441100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 268, "message": "in test_add_client_with_duplicate_phone"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467019.6613386, "msecs": 661.0, "relativeCreated": 40475.59833526611, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467019.664097, "msecs": 664.0, "relativeCreated": 40478.35683822632, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467019.6650214, "msecs": 665.0, "relativeCreated": 40479.281187057495, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase2_client_management.py:268: in test_add_client_with_duplicate_phone\n    assert 'already' in response.get('message', '').lower() or \\\nE   AssertionError: assert ('already' in '' or 'exists' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\nE    +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f4f59441100>('message', '')\nE    +        where <built-in method get of dict object at 0x7f4f59441100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\nE    +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f4f59441100>('message', '')\nE    +        where <built-in method get of dict object at 0x7f4f59441100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get"}, "teardown": {"duration": 0.8291776359999972, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "lineno": 270, "outcome": "passed", "keywords": ["test_invalid_phone_numbers", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005273459999983743, "outcome": "passed"}, "call": {"duration": 0.00010491599999795653, "outcome": "passed"}, "teardown": {"duration": 0.7780056229999985, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_negative_pricing", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004772820000056299, "outcome": "passed"}, "call": {"duration": 0.0001102859999946304, "outcome": "passed"}, "teardown": {"duration": 0.8547462599999989, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "lineno": 300, "outcome": "failed", "keywords": ["test_client_not_found", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004654199999976072, "outcome": "passed"}, "call": {"duration": 0.005322778999996558, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 311, "message": "assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\n +  where '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\n +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f4f59277ac0>('message', '')\n +        where <built-in method get of dict object at 0x7f4f59277ac0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\n +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f4f59277ac0>('message', '')\n +        where <built-in method get of dict object at 0x7f4f59277ac0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\n +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f4f59277ac0>('message', '')\n +        where <built-in method get of dict object at 0x7f4f59277ac0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 311, "message": "in test_client_not_found"}], "log": [{"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467022.1413271, "msecs": 141.0, "relativeCreated": 42955.5869102478, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error creating conversation state: 'Mock' object is not subscriptable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467022.141929, "msecs": 141.0, "relativeCreated": 42956.188678741455, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467022.1423833, "msecs": 142.0, "relativeCreated": 42956.64310455322, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase2_client_management.py:311: in test_client_not_found\n    assert 'not found' in response.get('message', '').lower() or \\\nE   assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\nE    +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f4f59277ac0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f4f59277ac0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\nE    +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f4f59277ac0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f4f59277ac0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f4f6d53fba0>()\nE    +    where <built-in method lower of str object at 0x7f4f6d53fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f4f59277ac0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f4f59277ac0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='139978798909136'>, 'success': True}.get"}, "teardown": {"duration": 0.8871260330000013, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "lineno": 53, "outcome": "failed", "keywords": ["test_view_schedule_commands", "TestViewScheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013976920000118298, "outcome": "passed"}, "call": {"duration": 0.005091848000006394, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase3_scheduling.py", "lineno": 74, "message": "AssertionError: Failed to show schedule with: Show my schedule\nassert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "traceback": [{"path": "tests/test_phase3_scheduling.py", "lineno": 74, "message": "in test_view_schedule_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.0371978, "msecs": 37.0, "relativeCreated": 43851.457595825195, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.0401382, "msecs": 40.0, "relativeCreated": 43854.398012161255, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.0411158, "msecs": 41.0, "relativeCreated": 43855.37552833557, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phase3_scheduling.py:74: in test_view_schedule_commands\n    assert 'schedule' in message or 'booking' in message or \\\nE   AssertionError: Failed to show schedule with: Show my schedule\nE   assert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "teardown": {"duration": 0.8245229439999946, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "lineno": 110, "outcome": "passed", "keywords": ["test_book_session_natural_language", "critical", "pytestmark", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.024821058000000562, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='139978775149648'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467023.8952606, "msecs": 895.0, "relativeCreated": 44709.52033996582, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "call": {"duration": 0.03339644400000452, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9000912, "msecs": 900.0, "relativeCreated": 44714.350938797, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9120338, "msecs": 912.0, "relativeCreated": 44726.29356384277, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9136245, "msecs": 913.0, "relativeCreated": 44727.88429260254, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.918029, "msecs": 918.0, "relativeCreated": 44732.28883743286, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9195023, "msecs": 919.0, "relativeCreated": 44733.76202583313, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9209292, "msecs": 920.0, "relativeCreated": 44735.18896102905, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.92239, "msecs": 922.0, "relativeCreated": 44736.64975166321, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9239254, "msecs": 923.0, "relativeCreated": 44738.18516731262, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9254332, "msecs": 925.0, "relativeCreated": 44739.69292640686, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9268749, "msecs": 926.0, "relativeCreated": 44741.13464355469, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467023.9283013, "msecs": 928.0, "relativeCreated": 44742.56110191345, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.883025707999991, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "lineno": 144, "outcome": "passed", "keywords": ["test_booking_time_formats", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02396319300000016, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='139978776090640'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467024.83669, "msecs": 836.0, "relativeCreated": 45650.94971656799, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "call": {"duration": 0.001432978000011076, "outcome": "passed"}, "teardown": {"duration": 0.7548909710000089, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "lineno": 169, "outcome": "passed", "keywords": ["test_booking_date_parsing", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.024887401000000864, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='139978774952144'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467025.6185822, "msecs": 618.0, "relativeCreated": 46432.84201622009, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "call": {"duration": 0.0004642179999905238, "outcome": "passed"}, "teardown": {"duration": 0.8141299940000124, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "lineno": 223, "outcome": "passed", "keywords": ["test_cancel_booking_variations", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.004232529999995904, "outcome": "passed"}, "call": {"duration": 0.009057016999989287, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4389615, "msecs": 438.0, "relativeCreated": 47253.22127342224, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4396145, "msecs": 439.0, "relativeCreated": 47253.8743019104, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4405951, "msecs": 440.0, "relativeCreated": 47254.854917526245, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4409235, "msecs": 440.0, "relativeCreated": 47255.18321990967, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.441085, "msecs": 441.0, "relativeCreated": 47255.3448677063, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4415524, "msecs": 441.0, "relativeCreated": 47255.81216812134, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4418886, "msecs": 441.0, "relativeCreated": 47256.14833831787, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4420538, "msecs": 442.0, "relativeCreated": 47256.31356239319, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4425232, "msecs": 442.0, "relativeCreated": 47256.78300857544, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.442826, "msecs": 442.0, "relativeCreated": 47257.0858001709, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.443005, "msecs": 443.0, "relativeCreated": 47257.264852523804, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4434936, "msecs": 443.0, "relativeCreated": 47257.75337219238, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.443805, "msecs": 443.0, "relativeCreated": 47258.06474685669, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4439611, "msecs": 443.0, "relativeCreated": 47258.220911026, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4444516, "msecs": 444.0, "relativeCreated": 47258.71133804321, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.444759, "msecs": 444.0, "relativeCreated": 47259.018659591675, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4449263, "msecs": 444.0, "relativeCreated": 47259.186029434204, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4454026, "msecs": 445.0, "relativeCreated": 47259.66238975525, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4457026, "msecs": 445.0, "relativeCreated": 47259.96232032776, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4458551, "msecs": 445.0, "relativeCreated": 47260.114908218384, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4463024, "msecs": 446.0, "relativeCreated": 47260.56218147278, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4466374, "msecs": 446.0, "relativeCreated": 47260.897159576416, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4467933, "msecs": 446.0, "relativeCreated": 47261.05308532715, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467026.4472365, "msecs": 447.0, "relativeCreated": 47261.4963054657, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8253102689999992, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "lineno": 248, "outcome": "passed", "keywords": ["test_reschedule_booking", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0012042800000102716, "outcome": "passed"}, "call": {"duration": 0.014032194999998637, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2752264, "msecs": 275.0, "relativeCreated": 48089.48612213135, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2758803, "msecs": 275.0, "relativeCreated": 48090.14010429382, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2846682, "msecs": 284.0, "relativeCreated": 48098.92797470093, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.285007, "msecs": 285.0, "relativeCreated": 48099.26676750183, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2851577, "msecs": 285.0, "relativeCreated": 48099.41744804382, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2856905, "msecs": 285.0, "relativeCreated": 48099.950313568115, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.285985, "msecs": 285.0, "relativeCreated": 48100.244760513306, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2861326, "msecs": 286.0, "relativeCreated": 48100.39234161377, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.286577, "msecs": 286.0, "relativeCreated": 48100.836753845215, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.286905, "msecs": 286.0, "relativeCreated": 48101.16481781006, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.2870696, "msecs": 287.0, "relativeCreated": 48101.32932662964, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.287513, "msecs": 287.0, "relativeCreated": 48101.77278518677, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.287805, "msecs": 287.0, "relativeCreated": 48102.06484794617, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.287976, "msecs": 287.0, "relativeCreated": 48102.23579406738, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467027.288411, "msecs": 288.0, "relativeCreated": 48102.670669555664, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8723067610000044, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "lineno": 283, "outcome": "passed", "keywords": ["test_double_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005076590000072656, "outcome": "passed"}, "call": {"duration": 0.0037237290000007306, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467028.1657574, "msecs": 165.0, "relativeCreated": 48980.01718521118, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8676865280000072, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "lineno": 313, "outcome": "passed", "keywords": ["test_past_date_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000533117000003358, "outcome": "passed"}, "call": {"duration": 0.003678124999993315, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467029.0382762, "msecs": 38.0, "relativeCreated": 49852.53596305847, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 0.8373210849999992, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "lineno": 334, "outcome": "passed", "keywords": ["test_invalid_time_slots", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000501877999994349, "outcome": "passed"}, "call": {"duration": 0.0005712869999996428, "outcome": "passed"}, "teardown": {"duration": 0.8396805029999967, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "lineno": 145, "outcome": "failed", "keywords": ["test_setup_habits_for_clients", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8187575979999906, "outcome": "passed"}, "call": {"duration": 1.114103325000002, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 159, "message": "assert False\n +  where False = any(<generator object TestPhase4_HabitTracking.test_setup_habits_for_clients.<locals>.<genexpr> at 0x7f4f5a6ade40>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 159, "message": "in test_setup_habits_for_clients"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467032.4411278, "msecs": 441.0, "relativeCreated": 53255.38754463196, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467032.6495032, "msecs": 649.0, "relativeCreated": 53463.76299858093, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467032.6499596, "msecs": 649.0, "relativeCreated": 53464.21933174133, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467032.650402, "msecs": 650.0, "relativeCreated": 53464.661836624146, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:159: in test_setup_habits_for_clients\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase4_HabitTracking.test_setup_habits_for_clients.<locals>.<genexpr> at 0x7f4f5a6ade40>)"}, "teardown": {"duration": 1.946654375999998, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "lineno": 167, "outcome": "failed", "keywords": ["test_check_habit_compliance", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8689456549999903, "outcome": "passed"}, "call": {"duration": 0.9886028290000013, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 180, "message": "assert False\n +  where False = any(<generator object TestPhase4_HabitTracking.test_check_habit_compliance.<locals>.<genexpr> at 0x7f4f5a6ada80>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 180, "message": "in test_check_habit_compliance"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467036.275383, "msecs": 275.0, "relativeCreated": 57089.64276313782, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467036.4628685, "msecs": 462.0, "relativeCreated": 57277.12821960449, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467036.4633293, "msecs": 463.0, "relativeCreated": 57277.589082717896, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467036.4637232, "msecs": 463.0, "relativeCreated": 57277.98295021057, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:180: in test_check_habit_compliance\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase4_HabitTracking.test_check_habit_compliance.<locals>.<genexpr> at 0x7f4f5a6ada80>)"}, "teardown": {"duration": 1.5261042709999941, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "lineno": 183, "outcome": "failed", "keywords": ["test_send_habit_reminders", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8684447470000123, "outcome": "passed"}, "call": {"duration": 0.9830997729999922, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 196, "message": "assert False\n +  where False = any(<generator object TestPhase4_HabitTracking.test_send_habit_reminders.<locals>.<genexpr> at 0x7f4f5a6add50>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 196, "message": "in test_send_habit_reminders"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467039.6597164, "msecs": 659.0, "relativeCreated": 60473.976135253906, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467039.8486016, "msecs": 848.0, "relativeCreated": 60662.861347198486, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467039.8490496, "msecs": 849.0, "relativeCreated": 60663.30933570862, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467039.849477, "msecs": 849.0, "relativeCreated": 60663.73682022095, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:196: in test_send_habit_reminders\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase4_HabitTracking.test_send_habit_reminders.<locals>.<genexpr> at 0x7f4f5a6add50>)"}, "teardown": {"duration": 1.574315740000003, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 211, "outcome": "failed", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8450653220000106, "outcome": "passed"}, "call": {"duration": 1.044324384999996, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 224, "message": "assert False\n +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_send_workouts.<locals>.<genexpr> at 0x7f4f5a6ae7a0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 224, "message": "in test_send_workouts"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467043.1203842, "msecs": 120.0, "relativeCreated": 63934.64398384094, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467043.3207607, "msecs": 320.0, "relativeCreated": 64135.02049446106, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467043.32123, "msecs": 321.0, "relativeCreated": 64135.48970222473, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467043.321627, "msecs": 321.0, "relativeCreated": 64135.886669158936, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:224: in test_send_workouts\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_send_workouts.<locals>.<genexpr> at 0x7f4f5a6ae7a0>)"}, "teardown": {"duration": 1.5659231709999943, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "lineno": 227, "outcome": "failed", "keywords": ["test_start_assessment", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8692725450000012, "outcome": "passed"}, "call": {"duration": 1.0627097720000052, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 240, "message": "assert False\n +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_start_assessment.<locals>.<genexpr> at 0x7f4f5a6af010>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 240, "message": "in test_start_assessment"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467046.635788, "msecs": 635.0, "relativeCreated": 67450.04773139954, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467046.8270109, "msecs": 827.0, "relativeCreated": 67641.2706375122, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467046.8274803, "msecs": 827.0, "relativeCreated": 67641.74008369446, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467046.827886, "msecs": 827.0, "relativeCreated": 67642.14587211609, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:240: in test_start_assessment\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_start_assessment.<locals>.<genexpr> at 0x7f4f5a6af010>)"}, "teardown": {"duration": 1.5204648929999962, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "lineno": 243, "outcome": "failed", "keywords": ["test_view_assessment_results", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8527245570000019, "outcome": "passed"}, "call": {"duration": 0.9591247599999946, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 255, "message": "assert False\n +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_view_assessment_results.<locals>.<genexpr> at 0x7f4f5a6ae200>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 255, "message": "in test_view_assessment_results"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467049.9878023, "msecs": 987.0, "relativeCreated": 70802.06203460693, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467050.1674392, "msecs": 167.0, "relativeCreated": 70981.69898986816, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467050.167868, "msecs": 167.0, "relativeCreated": 70982.12766647339, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467050.1682804, "msecs": 168.0, "relativeCreated": 70982.54013061523, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:255: in test_view_assessment_results\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_view_assessment_results.<locals>.<genexpr> at 0x7f4f5a6ae200>)"}, "teardown": {"duration": 1.6827040549999879, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 270, "outcome": "failed", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.889199423000008, "outcome": "passed"}, "call": {"duration": 1.0253387659999902, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 283, "message": "assert False\n +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_request_payment.<locals>.<genexpr> at 0x7f4f5a6adb70>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 283, "message": "in test_request_payment"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467053.6321244, "msecs": 632.0, "relativeCreated": 74446.38419151306, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467053.8256145, "msecs": 825.0, "relativeCreated": 74639.87421989441, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467053.8260536, "msecs": 826.0, "relativeCreated": 74640.31338691711, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467053.8264666, "msecs": 826.0, "relativeCreated": 74640.72632789612, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:283: in test_request_payment\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_request_payment.<locals>.<genexpr> at 0x7f4f5a6adb70>)"}, "teardown": {"duration": 1.7514097729999918, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 286, "outcome": "passed", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8622111430000245, "outcome": "passed"}, "call": {"duration": 3.806646406999988, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467057.2514775, "msecs": 251.0, "relativeCreated": 78065.73724746704, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467057.4279897, "msecs": 427.0, "relativeCreated": 78242.24948883057, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467057.4284523, "msecs": 428.0, "relativeCreated": 78242.71202087402, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467057.4288423, "msecs": 428.0, "relativeCreated": 78243.10207366943, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467058.1719422, "msecs": 171.0, "relativeCreated": 78986.20200157166, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467058.3606937, "msecs": 360.0, "relativeCreated": 79174.95346069336, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467058.3611236, "msecs": 361.0, "relativeCreated": 79175.38332939148, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467058.3615406, "msecs": 361.0, "relativeCreated": 79175.80032348633, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467059.119655, "msecs": 119.0, "relativeCreated": 79933.91466140747, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467059.3011382, "msecs": 301.0, "relativeCreated": 80115.39793014526, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467059.3016458, "msecs": 301.0, "relativeCreated": 80115.90552330017, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467059.3020387, "msecs": 302.0, "relativeCreated": 80116.29843711853, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467060.0633712, "msecs": 63.0, "relativeCreated": 80877.63094902039, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467060.2569559, "msecs": 256.0, "relativeCreated": 81071.21562957764, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467060.2573893, "msecs": 257.0, "relativeCreated": 81071.64907455444, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467060.2577722, "msecs": 257.0, "relativeCreated": 81072.03197479248, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 1.5893299570000181, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "lineno": 303, "outcome": "failed", "keywords": ["test_payment_confirmation", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8873426300000062, "outcome": "passed"}, "call": {"duration": 1.0993001390000074, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 315, "message": "assert False\n +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_payment_confirmation.<locals>.<genexpr> at 0x7f4f5a6ae7a0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 315, "message": "in test_payment_confirmation"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467063.6308217, "msecs": 630.0, "relativeCreated": 84445.08147239685, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467063.8335803, "msecs": 833.0, "relativeCreated": 84647.84002304077, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467063.834058, "msecs": 834.0, "relativeCreated": 84648.31781387329, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467063.8344696, "msecs": 834.0, "relativeCreated": 84648.72932434082, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:315: in test_payment_confirmation\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_payment_confirmation.<locals>.<genexpr> at 0x7f4f5a6ae7a0>)"}, "teardown": {"duration": 1.7017758650000019, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "lineno": 330, "outcome": "failed", "keywords": ["test_view_dashboard", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8972805409999864, "outcome": "passed"}, "call": {"duration": 1.0076797229999954, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 343, "message": "assert False\n +  where False = any(<generator object TestPhase7_AnalyticsReports.test_view_dashboard.<locals>.<genexpr> at 0x7f4f5a6aed40>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 343, "message": "in test_view_dashboard"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467067.2652936, "msecs": 265.0, "relativeCreated": 88079.5533657074, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467067.4491074, "msecs": 449.0, "relativeCreated": 88263.36717605591, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467067.4495778, "msecs": 449.0, "relativeCreated": 88263.83757591248, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467067.4499693, "msecs": 449.0, "relativeCreated": 88264.22905921936, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:343: in test_view_dashboard\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase7_AnalyticsReports.test_view_dashboard.<locals>.<genexpr> at 0x7f4f5a6aed40>)"}, "teardown": {"duration": 1.658225984000012, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "lineno": 346, "outcome": "failed", "keywords": ["test_client_analytics", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.846269766000006, "outcome": "passed"}, "call": {"duration": 1.1552849139999921, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 358, "message": "assert False\n +  where False = any(<generator object TestPhase7_AnalyticsReports.test_client_analytics.<locals>.<genexpr> at 0x7f4f5a6ade40>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 358, "message": "in test_client_analytics"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467070.9011168, "msecs": 901.0, "relativeCreated": 91715.37661552429, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467071.1170611, "msecs": 117.0, "relativeCreated": 91931.32090568542, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467071.1175358, "msecs": 117.0, "relativeCreated": 91931.79559707642, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467071.1179245, "msecs": 117.0, "relativeCreated": 91932.18421936035, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:358: in test_client_analytics\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase7_AnalyticsReports.test_client_analytics.<locals>.<genexpr> at 0x7f4f5a6ade40>)"}, "teardown": {"duration": 1.612827388999989, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 375, "outcome": "failed", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8794493909999801, "outcome": "passed"}, "call": {"duration": 0.8479837409999789, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 388, "message": "assert False\n +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_booking.<locals>.<genexpr> at 0x7f4f5a6af1f0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 388, "message": "in test_client_booking"}], "log": [{"name": "refiloe", "msg": "Error getting user context: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467073.859724, "msecs": 859.0, "relativeCreated": 94673.98381233215, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467074.2509763, "msecs": 250.0, "relativeCreated": 95065.23609161377, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467074.465863, "msecs": 465.0, "relativeCreated": 95280.12275695801, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467074.466423, "msecs": 466.0, "relativeCreated": 95280.68280220032, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467074.4668047, "msecs": 466.0, "relativeCreated": 95281.06451034546, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:388: in test_client_booking\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_booking.<locals>.<genexpr> at 0x7f4f5a6af1f0>)"}, "teardown": {"duration": 1.637164796999997, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 391, "outcome": "failed", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 1.0737881210000069, "outcome": "passed"}, "call": {"duration": 0.803322369, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 405, "message": "assert False\n +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_habit_logging.<locals>.<genexpr> at 0x7f4f5a6af970>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 405, "message": "in test_client_habit_logging"}], "log": [{"name": "refiloe", "msg": "Error getting user context: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467077.4148686, "msecs": 414.0, "relativeCreated": 98229.12836074829, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467077.7875834, "msecs": 787.0, "relativeCreated": 98601.8431186676, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467077.9888158, "msecs": 988.0, "relativeCreated": 98803.0755519867, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467077.98936, "msecs": 989.0, "relativeCreated": 98803.61986160278, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467077.9897473, "msecs": 989.0, "relativeCreated": 98804.00705337524, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:405: in test_client_habit_logging\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_habit_logging.<locals>.<genexpr> at 0x7f4f5a6af970>)"}, "teardown": {"duration": 2.0333083360000046, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "lineno": 408, "outcome": "failed", "keywords": ["test_client_progress", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8636460639999939, "outcome": "passed"}, "call": {"duration": 0.9244819379999853, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 421, "message": "assert False\n +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_progress.<locals>.<genexpr> at 0x7f4f5a6aed40>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 421, "message": "in test_client_progress"}], "log": [{"name": "refiloe", "msg": "Error getting user context: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467081.1619081, "msecs": 161.0, "relativeCreated": 101976.16791725159, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467081.6059499, "msecs": 605.0, "relativeCreated": 102420.20964622498, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467081.8183982, "msecs": 818.0, "relativeCreated": 102632.65800476074, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467081.8189526, "msecs": 818.0, "relativeCreated": 102633.21232795715, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467081.8193538, "msecs": 819.0, "relativeCreated": 102633.61358642578, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:421: in test_client_progress\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_progress.<locals>.<genexpr> at 0x7f4f5a6aed40>)"}, "teardown": {"duration": 1.6328611440000032, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "lineno": 436, "outcome": "failed", "keywords": ["test_view_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8907227520000163, "outcome": "passed"}, "call": {"duration": 1.066329068000016, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 449, "message": "assert False\n +  where False = any(<generator object TestPhase9_Challenges.test_view_challenges.<locals>.<genexpr> at 0x7f4f5a6af970>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 449, "message": "in test_view_challenges"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467085.2208183, "msecs": 220.0, "relativeCreated": 106035.07804870605, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467085.4169774, "msecs": 416.0, "relativeCreated": 106231.23717308044, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467085.417443, "msecs": 417.0, "relativeCreated": 106231.70280456543, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467085.417848, "msecs": 417.0, "relativeCreated": 106232.10787773132, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:449: in test_view_challenges\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase9_Challenges.test_view_challenges.<locals>.<genexpr> at 0x7f4f5a6af970>)"}, "teardown": {"duration": 1.6147693780000054, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "lineno": 452, "outcome": "failed", "keywords": ["test_join_leave_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8435292909999816, "outcome": "passed"}, "call": {"duration": 1.0031945679999978, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 465, "message": "assert False\n +  where False = any(<generator object TestPhase9_Challenges.test_join_leave_challenges.<locals>.<genexpr> at 0x7f4f5a6aff10>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 465, "message": "in test_join_leave_challenges"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467088.6985543, "msecs": 698.0, "relativeCreated": 109512.81404495239, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467088.8870347, "msecs": 887.0, "relativeCreated": 109701.29442214966, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467088.8875144, "msecs": 887.0, "relativeCreated": 109701.77412033081, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467088.887904, "msecs": 887.0, "relativeCreated": 109702.16369628906, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:465: in test_join_leave_challenges\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase9_Challenges.test_join_leave_challenges.<locals>.<genexpr> at 0x7f4f5a6aff10>)"}, "teardown": {"duration": 1.6043607679999923, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "lineno": 468, "outcome": "failed", "keywords": ["test_leaderboard", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8944904459999918, "outcome": "passed"}, "call": {"duration": 1.0313200219999885, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 481, "message": "assert False\n +  where False = any(<generator object TestPhase9_Challenges.test_leaderboard.<locals>.<genexpr> at 0x7f4f5965c4f0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 481, "message": "in test_leaderboard"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467092.2303205, "msecs": 230.0, "relativeCreated": 113044.58022117615, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467092.4254966, "msecs": 425.0, "relativeCreated": 113239.7563457489, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467092.4259517, "msecs": 425.0, "relativeCreated": 113240.2114868164, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467092.4263551, "msecs": 426.0, "relativeCreated": 113240.61489105225, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:481: in test_leaderboard\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase9_Challenges.test_leaderboard.<locals>.<genexpr> at 0x7f4f5965c4f0>)"}, "teardown": {"duration": 1.6565481949999992, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "lineno": 496, "outcome": "failed", "keywords": ["test_bulk_operations", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.903127005999977, "outcome": "passed"}, "call": {"duration": 1.066510887999982, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 508, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_bulk_operations.<locals>.<genexpr> at 0x7f4f5a6aff10>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 508, "message": "in test_bulk_operations"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467095.8570457, "msecs": 857.0, "relativeCreated": 116671.30541801453, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467096.060111, "msecs": 60.0, "relativeCreated": 116874.37081336975, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467096.0606272, "msecs": 60.0, "relativeCreated": 116874.8869895935, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467096.0610127, "msecs": 61.0, "relativeCreated": 116875.27251243591, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:508: in test_bulk_operations\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_bulk_operations.<locals>.<genexpr> at 0x7f4f5a6aff10>)"}, "teardown": {"duration": 1.6683677080000052, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "lineno": 511, "outcome": "passed", "keywords": ["test_natural_language", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8945278839999844, "outcome": "passed"}, "call": {"duration": 3.018115281000007, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467099.4687693, "msecs": 468.0, "relativeCreated": 120283.02907943726, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467099.6729894, "msecs": 672.0, "relativeCreated": 120487.24913597107, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467099.6734757, "msecs": 673.0, "relativeCreated": 120487.73550987244, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467099.6738641, "msecs": 673.0, "relativeCreated": 120488.1238937378, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467100.4721544, "msecs": 472.0, "relativeCreated": 121286.41414642334, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467100.6582925, "msecs": 658.0, "relativeCreated": 121472.55229949951, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467100.6587138, "msecs": 658.0, "relativeCreated": 121472.97358512878, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467100.659101, "msecs": 659.0, "relativeCreated": 121473.36077690125, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467101.4552143, "msecs": 455.0, "relativeCreated": 122269.47402954102, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467101.6497416, "msecs": 649.0, "relativeCreated": 122464.00141716003, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467101.650212, "msecs": 650.0, "relativeCreated": 122464.4718170166, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467101.6506038, "msecs": 650.0, "relativeCreated": 122464.86353874207, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}]}, "teardown": {"duration": 1.6515679809999995, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 527, "outcome": "failed", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8707814859999985, "outcome": "passed"}, "call": {"duration": 1.0241831189999857, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 540, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f4f5965c9a0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 540, "message": "in test_error_handling"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.9837933, "msecs": 983.0, "relativeCreated": 125798.05302619934, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.1969984, "msecs": 196.0, "relativeCreated": 126011.25812530518, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.1974428, "msecs": 197.0, "relativeCreated": 126011.70253753662, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.1978312, "msecs": 197.0, "relativeCreated": 126012.09092140198, "thread": 139979114060672, "threadName": "MainThread", "processName": "MainProcess", "process": 2187}], "longrepr": "tests/test_phases_4_11.py:540: in test_error_handling\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f4f5965c9a0>)"}, "teardown": {"duration": 1.6501200259999962, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "lineno": 555, "outcome": "passed", "keywords": ["test_check_scheduled_reminders", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8852956629999937, "outcome": "passed"}, "call": {"duration": 0.1861903150000046, "outcome": "passed"}, "teardown": {"duration": 1.7131924529999765, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "lineno": 566, "outcome": "passed", "keywords": ["test_subscription_monitoring", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.9240897290000021, "outcome": "passed"}, "call": {"duration": 0.20340881499998886, "outcome": "passed"}, "teardown": {"duration": 1.6504922759999943, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "lineno": 227, "outcome": "passed", "keywords": ["test_new_trainer_onboarding", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000279443000010815, "outcome": "passed"}, "call": {"duration": 0.004931757999997899, "outcome": "passed"}, "teardown": {"duration": 1.5046776569999736, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "lineno": 242, "outcome": "passed", "keywords": ["test_trainer_recognition", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00026910299999372, "outcome": "passed"}, "call": {"duration": 0.0027941429999884804, "outcome": "passed"}, "teardown": {"duration": 0.8851557469999989, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 269, "outcome": "passed", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028792800000587704, "outcome": "passed"}, "call": {"duration": 0.0046189439999864135, "outcome": "passed"}, "teardown": {"duration": 0.8010490880000134, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 278, "outcome": "passed", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002735719999975572, "outcome": "passed"}, "call": {"duration": 0.0026379810000207726, "outcome": "passed"}, "teardown": {"duration": 0.8290590189999989, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_custom_pricing", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002806439999858412, "outcome": "passed"}, "call": {"duration": 0.009941531999999142, "outcome": "passed"}, "teardown": {"duration": 0.8451369889999967, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "lineno": 299, "outcome": "passed", "keywords": ["test_view_schedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027379100001212464, "outcome": "passed"}, "call": {"duration": 0.004721656000015173, "outcome": "passed"}, "teardown": {"duration": 0.8263059040000087, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "lineno": 308, "outcome": "passed", "keywords": ["test_book_sessions", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002897120000113773, "outcome": "passed"}, "call": {"duration": 0.0027522850000138988, "outcome": "passed"}, "teardown": {"duration": 0.8491492830000027, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "lineno": 317, "outcome": "failed", "keywords": ["test_cancel_reschedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002913650000095913, "outcome": "passed"}, "call": {"duration": 0.004733055999992075, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 329, "message": "assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\n +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f4f699d31a0>()\n +    where <built-in method lower of str object at 0x7f4f699d31a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\n +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f4f699d31a0>()\n +    where <built-in method lower of str object at 0x7f4f699d31a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 329, "message": "in test_cancel_reschedule"}], "longrepr": "tests/test_refiloe_complete.py:329: in test_cancel_reschedule\n    assert \"reschedul\" in response['message'].lower() or \"moved\" in response['message'].lower()\nE   assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\nE    +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f4f699d31a0>()\nE    +    where <built-in method lower of str object at 0x7f4f699d31a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\nE    +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f4f699d31a0>()\nE    +    where <built-in method lower of str object at 0x7f4f699d31a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "teardown": {"duration": 0.8526160220000065, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "lineno": 334, "outcome": "passed", "keywords": ["test_setup_habits", "TestPhase4_HabitTracking", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029106499999898006, "outcome": "passed"}, "call": {"duration": 0.00475824500000499, "outcome": "passed"}, "teardown": {"duration": 1.2366442300000244, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 347, "outcome": "passed", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002741220000075373, "outcome": "passed"}, "call": {"duration": 0.0028225259999885566, "outcome": "passed"}, "teardown": {"duration": 0.8208995380000204, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 360, "outcome": "failed", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002963640000075429, "outcome": "passed"}, "call": {"duration": 0.004909766999986687, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 368, "message": "assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\n +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f4f69ad4490>()\n +    where <built-in method lower of str object at 0x7f4f69ad4490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\n +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f4f69ad4490>()\n +    where <built-in method lower of str object at 0x7f4f69ad4490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 368, "message": "in test_request_payment"}], "longrepr": "tests/test_refiloe_complete.py:368: in test_request_payment\n    assert \"payment\" in response['message'].lower() or \"invoice\" in response['message'].lower()\nE   assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\nE    +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f4f69ad4490>()\nE    +    where <built-in method lower of str object at 0x7f4f69ad4490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\nE    +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f4f69ad4490>()\nE    +    where <built-in method lower of str object at 0x7f4f69ad4490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "teardown": {"duration": 0.8147951869999872, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 369, "outcome": "passed", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003026859999977205, "outcome": "passed"}, "call": {"duration": 0.004845868000018072, "outcome": "passed"}, "teardown": {"duration": 0.8427176620000125, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 381, "outcome": "passed", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000275736000020288, "outcome": "passed"}, "call": {"duration": 0.004839336000003414, "outcome": "passed"}, "teardown": {"duration": 0.8266123170000128, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 390, "outcome": "passed", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002893509999921662, "outcome": "passed"}, "call": {"duration": 0.0027217470000096, "outcome": "passed"}, "teardown": {"duration": 0.866612779999997, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "lineno": 403, "outcome": "passed", "keywords": ["test_natural_language_understanding", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030955799999787814, "outcome": "passed"}, "call": {"duration": 0.00462808099999279, "outcome": "passed"}, "teardown": {"duration": 0.9308201679999968, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 412, "outcome": "failed", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002836900000033893, "outcome": "passed"}, "call": {"duration": 0.008450715999998692, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 424, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f4f595e0d60>)"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 424, "message": "in test_error_handling"}], "longrepr": "tests/test_refiloe_complete.py:424: in test_error_handling\n    assert any(word in response['message'].lower() for word in [\"past\", \"future\", \"cannot\"])\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f4f595e0d60>)"}, "teardown": {"duration": 0.8080091749999951, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "lineno": 433, "outcome": "passed", "keywords": ["test_trainer_registration_step_7_currency_parsing", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002851329999771224, "outcome": "passed"}, "call": {"duration": 0.0006742200000076082, "outcome": "passed"}, "teardown": {"duration": 2.166636785999998, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "lineno": 457, "outcome": "passed", "keywords": ["test_ai_responds_naturally_not_rigid_commands", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027132700000720433, "outcome": "passed"}, "call": {"duration": 0.0028087899999889032, "outcome": "passed"}, "teardown": {"duration": 0.8305279699999915, "outcome": "passed"}}], "warnings": [{"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}]}
{"created": 1760467196.1965568, "duration": 118.17488694190979, "exitcode": 1, "root": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant", "environment": {}, "summary": {"passed": 53, "error": 8, "failed": 30, "total": 91, "collected": 91}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/__init__.py", "type": "Package"}]}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "type": "Function", "lineno": 130}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "type": "Function", "lineno": 143}]}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "type": "Function", "lineno": 165}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "type": "Function", "lineno": 170}]}, {"nodeid": "tests/test_conversation_flows.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "type": "Class"}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "type": "Class"}]}, {"nodeid": "tests/test_debug.py", "outcome": "passed", "result": [{"nodeid": "tests/test_debug.py::test_python_version", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_debug.py::test_project_structure", "type": "Function", "lineno": 28}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_debug.py::test_check_requirements", "type": "Function", "lineno": 84}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "type": "Function", "lineno": 97}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "type": "Function", "lineno": 136}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 180}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 203}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "type": "Function", "lineno": 218}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "type": "Function", "lineno": 267}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "type": "Function", "lineno": 290}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "type": "Function", "lineno": 311}]}, {"nodeid": "tests/test_e2e_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "type": "Class"}]}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "type": "Function", "lineno": 106}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "type": "Function", "lineno": 162}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "type": "Function", "lineno": 196}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_integration_real.py", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration", "type": "Class"}]}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "type": "Function", "lineno": 77}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "type": "Function", "lineno": 211}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "type": "Function", "lineno": 224}]}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "type": "Function", "lineno": 281}]}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "type": "Function", "lineno": 311}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "type": "Function", "lineno": 327}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "type": "Function", "lineno": 341}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "type": "Function", "lineno": 358}]}, {"nodeid": "tests/test_phase1_registration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "type": "Function", "lineno": 75}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "type": "Function", "lineno": 100}]}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "type": "Function", "lineno": 140}]}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "type": "Function", "lineno": 188}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "type": "Function", "lineno": 253}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "type": "Function", "lineno": 300}]}, {"nodeid": "tests/test_phase2_client_management.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "type": "Function", "lineno": 53}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "type": "Function", "lineno": 110}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "type": "Function", "lineno": 169}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "type": "Function", "lineno": 223}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "type": "Function", "lineno": 248}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "type": "Function", "lineno": 283}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "type": "Function", "lineno": 313}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_phase3_scheduling.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "type": "Class"}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "type": "Function", "lineno": 145}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "type": "Function", "lineno": 167}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "type": "Function", "lineno": 183}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 211}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "type": "Function", "lineno": 227}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "type": "Function", "lineno": 243}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "type": "Function", "lineno": 303}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "type": "Function", "lineno": 330}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "type": "Function", "lineno": 346}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 375}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 391}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "type": "Function", "lineno": 408}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "type": "Function", "lineno": 436}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "type": "Function", "lineno": 452}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "type": "Function", "lineno": 468}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "type": "Function", "lineno": 496}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "type": "Function", "lineno": 511}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 527}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "type": "Function", "lineno": 555}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "type": "Function", "lineno": 566}]}, {"nodeid": "tests/test_phases_4_11.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "type": "Class"}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "type": "Function", "lineno": 227}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "type": "Function", "lineno": 242}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 269}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 278}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "type": "Function", "lineno": 286}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "type": "Function", "lineno": 299}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "type": "Function", "lineno": 308}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "type": "Function", "lineno": 317}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 347}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 360}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 369}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 381}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 390}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "type": "Function", "lineno": 403}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 412}]}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "type": "Function", "lineno": 433}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "type": "Function", "lineno": 457}]}, {"nodeid": "tests/test_refiloe_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "type": "Class"}]}, {"nodeid": "tests/test_setup_fix.py", "outcome": "passed", "result": []}, {"nodeid": "tests/__init__.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py", "type": "Module"}, {"nodeid": "tests/test_debug.py", "type": "Module"}, {"nodeid": "tests/test_e2e_complete.py", "type": "Module"}, {"nodeid": "tests/test_integration_real.py", "type": "Module"}, {"nodeid": "tests/test_phase1_registration.py", "type": "Module"}, {"nodeid": "tests/test_phase2_client_management.py", "type": "Module"}, {"nodeid": "tests/test_phase3_scheduling.py", "type": "Module"}, {"nodeid": "tests/test_phases_4_11.py", "type": "Module"}, {"nodeid": "tests/test_refiloe_complete.py", "type": "Module"}, {"nodeid": "tests/test_setup_fix.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "lineno": 130, "outcome": "passed", "keywords": ["test_imports_work", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00047047200000349676, "outcome": "passed"}, "call": {"duration": 0.03527344700000157, "outcome": "passed"}, "teardown": {"duration": 0.6447438650000024, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "lineno": 136, "outcome": "passed", "keywords": ["test_mock_message", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030859900000024254, "outcome": "passed"}, "call": {"duration": 0.022637790000004543, "outcome": "passed"}, "teardown": {"duration": 0.6882706999999968, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "lineno": 143, "outcome": "passed", "keywords": ["test_trainer_registration_mock", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002940819999963651, "outcome": "passed"}, "call": {"duration": 0.022660551999997836, "outcome": "passed"}, "teardown": {"duration": 0.6550433239999975, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "lineno": 165, "outcome": "passed", "keywords": ["test_basic_setup", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02372865400000279, "outcome": "passed"}, "call": {"duration": 0.00010093899999930045, "outcome": "passed"}, "teardown": {"duration": 0.7505276579999958, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "lineno": 170, "outcome": "passed", "keywords": ["test_mock_registration_flow", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022558489999994435, "outcome": "passed"}, "call": {"duration": 0.00019515600000374889, "outcome": "passed"}, "teardown": {"duration": 0.5968164589999958, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_python_version", "lineno": 9, "outcome": "passed", "keywords": ["test_python_version", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002565409999988333, "outcome": "passed"}, "call": {"duration": 9.49980000015671e-05, "outcome": "passed"}, "teardown": {"duration": 0.6249107860000009, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "lineno": 14, "outcome": "passed", "keywords": ["test_can_import_basic_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00025393600000001015, "outcome": "passed"}, "call": {"duration": 9.066999999873815e-05, "outcome": "passed"}, "teardown": {"duration": 0.6475777329999985, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_project_structure", "lineno": 28, "outcome": "passed", "keywords": ["test_project_structure", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00026738100000045506, "outcome": "passed"}, "call": {"duration": 0.00023414900000062744, "outcome": "passed"}, "teardown": {"duration": 0.6631350060000045, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "lineno": 48, "outcome": "passed", "keywords": ["test_can_import_refiloe_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027747000000033495, "outcome": "passed"}, "call": {"duration": 0.0004333420000008914, "outcome": "passed"}, "teardown": {"duration": 0.7209977759999973, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_check_requirements", "lineno": 84, "outcome": "passed", "keywords": ["test_check_requirements", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00024308599999756098, "outcome": "passed"}, "call": {"duration": 0.09787034100000369, "outcome": "passed"}, "teardown": {"duration": 0.6026626590000035, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "lineno": 97, "outcome": "error", "keywords": ["test_complete_trainer_onboarding", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02194919099999737, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6470006829999946, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "lineno": 136, "outcome": "error", "keywords": ["test_trainer_recognition_after_registration", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021931248999997877, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6844130809999953, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 180, "outcome": "error", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022365952999997774, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6704447910000013, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 203, "outcome": "error", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022082592000003842, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.8941947510000006, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "lineno": 218, "outcome": "error", "keywords": ["test_custom_pricing", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021923052000005327, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6150554259999979, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "lineno": 267, "outcome": "error", "keywords": ["test_view_schedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021672613999996315, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.7017434880000053, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "lineno": 290, "outcome": "error", "keywords": ["test_book_sessions", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02193071599999996, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6123648319999973, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "lineno": 311, "outcome": "error", "keywords": ["test_cancel_reschedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021861197000006882, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6252631559999884, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "lineno": 106, "outcome": "failed", "keywords": ["test_trainer_registration_database", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.204995602000011, "outcome": "passed"}, "call": {"duration": 0.1460220589999892, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "postgrest.exceptions.APIError: {'code': '23505', 'details': 'Key (whatsapp)=(27000TEST01) already exists.', 'hint': None, 'message': 'duplicate key value violates unique constraint \"trainers_whatsapp_key\"'}"}, "traceback": [{"path": "tests/test_integration_real.py", "lineno": 119, "message": "in test_trainer_registration_database"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "in execute"}], "longrepr": "tests/test_integration_real.py:119: in test_trainer_registration_database\n    result = self.db.table('trainers').insert(trainer_data).execute()\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py:70: in execute\n    raise APIError(r.json())\nE   postgrest.exceptions.APIError: {'code': '23505', 'details': 'Key (whatsapp)=(27000TEST01) already exists.', 'hint': None, 'message': 'duplicate key value violates unique constraint \"trainers_whatsapp_key\"'}"}, "teardown": {"duration": 0.7238721479999981, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "lineno": 134, "outcome": "passed", "keywords": ["test_client_management_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002840220000024374, "outcome": "passed"}, "call": {"duration": 0.5847541280000002, "outcome": "passed"}, "teardown": {"duration": 0.6288646299999954, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "lineno": 162, "outcome": "failed", "keywords": ["test_booking_system_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029176600000369035, "outcome": "passed"}, "call": {"duration": 0.3011918110000096, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "postgrest.exceptions.APIError: {'code': '23502', 'details': 'Failing row contains (edb12673-2bac-43f8-a4b1-f2b6b5c3e7b4, 888d12fc-5c24-4c0b-b296-27917f208f97, null, 2025-10-15 18:38:13.566071+00, 60, 500.00, scheduled, null, 2025-10-14 18:38:13.657229+00, 2025-10-14 18:38:13.657229+00).', 'hint': None, 'message': 'null value in column \"client_id\" of relation \"bookings\" violates not-null constraint'}"}, "traceback": [{"path": "tests/test_integration_real.py", "lineno": 186, "message": "in test_booking_system_real"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "in execute"}], "longrepr": "tests/test_integration_real.py:186: in test_booking_system_real\n    }).execute()\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py:70: in execute\n    raise APIError(r.json())\nE   postgrest.exceptions.APIError: {'code': '23502', 'details': 'Failing row contains (edb12673-2bac-43f8-a4b1-f2b6b5c3e7b4, 888d12fc-5c24-4c0b-b296-27917f208f97, null, 2025-10-15 18:38:13.566071+00, 60, 500.00, scheduled, null, 2025-10-14 18:38:13.657229+00, 2025-10-14 18:38:13.657229+00).', 'hint': None, 'message': 'null value in column \"client_id\" of relation \"bookings\" violates not-null constraint'}"}, "teardown": {"duration": 0.643399916000007, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "lineno": 196, "outcome": "passed", "keywords": ["test_ai_integration_simple", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002894929999968099, "outcome": "passed"}, "call": {"duration": 0.7020742659999968, "outcome": "passed"}, "teardown": {"duration": 0.6304238259999977, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "lineno": 220, "outcome": "passed", "keywords": ["test_database_connection", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003062339999928554, "outcome": "passed"}, "call": {"duration": 0.22356108600000368, "outcome": "passed"}, "teardown": {"duration": 1.2491005969999947, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "lineno": 77, "outcome": "passed", "keywords": ["test_complete_trainer_registration_flow", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008968009999961168, "outcome": "passed"}, "call": {"duration": 0.06027209200000527, "outcome": "passed"}, "teardown": {"duration": 0.6553078209999939, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "lineno": 192, "outcome": "passed", "keywords": ["test_currency_parsing_variations", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0011491330000126254, "outcome": "passed"}, "call": {"duration": 0.0002532550000040601, "outcome": "passed"}, "teardown": {"duration": 0.6450952109999974, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "lineno": 211, "outcome": "passed", "keywords": ["test_registration_with_missing_fields", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008625469999969937, "outcome": "passed"}, "call": {"duration": 0.04268018700000198, "outcome": "passed"}, "teardown": {"duration": 0.6641276489999939, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "lineno": 224, "outcome": "failed", "keywords": ["test_trainer_recognition_after_registration", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008356059999954368, "outcome": "passed"}, "call": {"duration": 0.733539945000004, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 253, "message": "AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'>)\n +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'> = <built-in method get of dict object at 0x7f8f9d72ae40>('response', '')\n +        where <built-in method get of dict object at 0x7f8f9d72ae40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\n +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'> = <built-in method get of dict object at 0x7f8f9d72ae40>('response', '')\n +        where <built-in method get of dict object at 0x7f8f9d72ae40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 253, "message": "in test_trainer_recognition_after_registration"}], "log": [{"name": "refiloe", "msg": "Background scheduler started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467099.8878708, "msecs": 887.0, "relativeCreated": 22462.042093276978, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Routes setup complete", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467099.8893306, "msecs": 889.0, "relativeCreated": 22463.501930236816, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Flow webhook routes registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467099.918121, "msecs": 918.0, "relativeCreated": 22492.292404174805, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467099.9735305, "msecs": 973.0, "relativeCreated": 22547.701835632324, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase1_registration.py:253: in test_trainer_recognition_after_registration\n    assert 'john' in response.get('response', '').lower() or \\\nE   AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'>)\nE    +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'> = <built-in method get of dict object at 0x7f8f9d72ae40>('response', '')\nE    +        where <built-in method get of dict object at 0x7f8f9d72ae40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\nE    +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140254532848336'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140254532842128'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'> = <built-in method get of dict object at 0x7f8f9d72ae40>('response', '')\nE    +        where <built-in method get of dict object at 0x7f8f9d72ae40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get"}, "teardown": {"duration": 0.9027947929999982, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "lineno": 281, "outcome": "failed", "keywords": ["test_client_receives_welcome_after_registration", "TestClientRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.004070408000004022, "outcome": "passed"}, "call": {"duration": 0.003470914999994079, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 297, "message": "assert False == True\n +  where False = <built-in method get of dict object at 0x7f8f9d8609c0>('success')\n +    where <built-in method get of dict object at 0x7f8f9d8609c0> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 297, "message": "in test_client_receives_welcome_after_registration"}], "log": [{"name": "refiloe", "msg": "Error getting user context: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467100.890958, "msecs": 890.0, "relativeCreated": 23465.129375457764, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error handling message: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467100.8932316, "msecs": 893.0, "relativeCreated": 23467.402935028076, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase1_registration.py:297: in test_client_receives_welcome_after_registration\n    assert response.get('success') == True\nE   assert False == True\nE    +  where False = <built-in method get of dict object at 0x7f8f9d8609c0>('success')\nE    +    where <built-in method get of dict object at 0x7f8f9d8609c0> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "teardown": {"duration": 0.6623657269999939, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "lineno": 311, "outcome": "passed", "keywords": ["test_duplicate_registration_attempt", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006106840000086322, "outcome": "passed"}, "call": {"duration": 0.004314716999999746, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Tracked registration analytics: 27731863036 - already_registered - step None", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467101.566035, "msecs": 566.0, "relativeCreated": 24140.206336975098, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6266302140000022, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "lineno": 327, "outcome": "passed", "keywords": ["test_invalid_email_format", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006303709999997409, "outcome": "passed"}, "call": {"duration": 0.0043513740000094, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Tracked registration analytics: 27731863036 - validation_error - step 2", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467102.1982796, "msecs": 198.0, "relativeCreated": 24772.450923919678, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6468794040000034, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "lineno": 341, "outcome": "passed", "keywords": ["test_extremely_long_input", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005731149999945728, "outcome": "passed"}, "call": {"duration": 0.00012738899999931164, "outcome": "passed"}, "teardown": {"duration": 0.6421731710000103, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "lineno": 358, "outcome": "passed", "keywords": ["test_special_characters_in_name", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005968380000069828, "outcome": "passed"}, "call": {"duration": 9.508899999843834e-05, "outcome": "passed"}, "teardown": {"duration": 0.6433436110000059, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "lineno": 47, "outcome": "passed", "keywords": ["test_add_client_command_variations", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02418040499999563, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='140254799104528'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467104.1579711, "msecs": 157.0, "relativeCreated": 26732.142448425293, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "call": {"duration": 0.013267523999999753, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1608999, "msecs": 160.0, "relativeCreated": 26735.071182250977, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1614792, "msecs": 161.0, "relativeCreated": 26735.650539398193, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1623664, "msecs": 162.0, "relativeCreated": 26736.53769493103, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1627407, "msecs": 162.0, "relativeCreated": 26736.91201210022, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1629055, "msecs": 162.0, "relativeCreated": 26737.07675933838, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1633978, "msecs": 163.0, "relativeCreated": 26737.569093704224, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1637566, "msecs": 163.0, "relativeCreated": 26737.92791366577, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.163916, "msecs": 163.0, "relativeCreated": 26738.08741569519, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1643999, "msecs": 164.0, "relativeCreated": 26738.571166992188, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1647236, "msecs": 164.0, "relativeCreated": 26738.894939422607, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1649032, "msecs": 164.0, "relativeCreated": 26739.07446861267, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1653595, "msecs": 165.0, "relativeCreated": 26739.53080177307, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1656845, "msecs": 165.0, "relativeCreated": 26739.855766296387, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1658485, "msecs": 165.0, "relativeCreated": 26740.01979827881, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.166329, "msecs": 166.0, "relativeCreated": 26740.5002117157, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1666956, "msecs": 166.0, "relativeCreated": 26740.866899490356, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1668613, "msecs": 166.0, "relativeCreated": 26741.032600402832, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1673527, "msecs": 167.0, "relativeCreated": 26741.52398109436, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1676905, "msecs": 167.0, "relativeCreated": 26741.861820220947, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1678505, "msecs": 167.0, "relativeCreated": 26742.021799087524, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1683717, "msecs": 168.0, "relativeCreated": 26742.54298210144, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1687074, "msecs": 168.0, "relativeCreated": 26742.878675460815, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1688743, "msecs": 168.0, "relativeCreated": 26743.045568466187, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1693304, "msecs": 169.0, "relativeCreated": 26743.501663208008, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1696882, "msecs": 169.0, "relativeCreated": 26743.85952949524, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1698542, "msecs": 169.0, "relativeCreated": 26744.025468826294, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.170312, "msecs": 170.0, "relativeCreated": 26744.48323249817, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1706889, "msecs": 170.0, "relativeCreated": 26744.86017227173, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1708686, "msecs": 170.0, "relativeCreated": 26745.03993988037, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467104.1713161, "msecs": 171.0, "relativeCreated": 26745.487451553345, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6301287929999972, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "lineno": 75, "outcome": "passed", "keywords": ["test_phone_number_normalization", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023198948000000996, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='140254533561552'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467104.8252313, "msecs": 825.0, "relativeCreated": 27399.402618408203, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "call": {"duration": 0.00020530499999438234, "outcome": "passed"}, "teardown": {"duration": 0.6593178480000006, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "lineno": 100, "outcome": "passed", "keywords": ["test_add_client_with_special_names", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.025744978000005858, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='140254533531920'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467105.5110688, "msecs": 511.0, "relativeCreated": 28085.240125656128, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "call": {"duration": 0.007809735999998679, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5119078, "msecs": 511.0, "relativeCreated": 28086.079120635986, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.512491, "msecs": 512.0, "relativeCreated": 28086.66229248047, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.513153, "msecs": 513.0, "relativeCreated": 28087.324380874634, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5134788, "msecs": 513.0, "relativeCreated": 28087.650060653687, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5136588, "msecs": 513.0, "relativeCreated": 28087.83006668091, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.514124, "msecs": 514.0, "relativeCreated": 28088.295221328735, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.514461, "msecs": 514.0, "relativeCreated": 28088.632345199585, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5146437, "msecs": 514.0, "relativeCreated": 28088.814973831177, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.515099, "msecs": 515.0, "relativeCreated": 28089.27035331726, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5154278, "msecs": 515.0, "relativeCreated": 28089.59913253784, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5156014, "msecs": 515.0, "relativeCreated": 28089.772701263428, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5160553, "msecs": 516.0, "relativeCreated": 28090.226650238037, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5163605, "msecs": 516.0, "relativeCreated": 28090.531826019287, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5165424, "msecs": 516.0, "relativeCreated": 28090.71373939514, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5170126, "msecs": 517.0, "relativeCreated": 28091.18390083313, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5173192, "msecs": 517.0, "relativeCreated": 28091.490507125854, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5174873, "msecs": 517.0, "relativeCreated": 28091.65859222412, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5179768, "msecs": 517.0, "relativeCreated": 28092.148065567017, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5182805, "msecs": 518.0, "relativeCreated": 28092.451810836792, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5184438, "msecs": 518.0, "relativeCreated": 28092.615127563477, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467105.5189333, "msecs": 518.0, "relativeCreated": 28093.104600906372, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.630992526, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "lineno": 140, "outcome": "failed", "keywords": ["test_view_clients_commands", "TestViewClientsReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009463429999954087, "outcome": "passed"}, "call": {"duration": 0.004939206999992507, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 160, "message": "AssertionError: Failed to list clients with command: Show my clients\nassert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 160, "message": "in test_view_clients_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.1542027, "msecs": 154.0, "relativeCreated": 28728.374004364014, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.1552997, "msecs": 155.0, "relativeCreated": 28729.47096824646, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.156274, "msecs": 156.0, "relativeCreated": 28730.445384979248, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase2_client_management.py:160: in test_view_clients_commands\n    assert 'sarah' in message or 'john' in message or 'mike' in message or \\\nE   AssertionError: Failed to list clients with command: Show my clients\nE   assert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "teardown": {"duration": 0.7010817459999998, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "lineno": 188, "outcome": "passed", "keywords": ["test_set_custom_pricing_variations", "critical", "pytestmark", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013375770000010334, "outcome": "passed"}, "call": {"duration": 0.011303844000011054, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8662136, "msecs": 866.0, "relativeCreated": 29440.38486480713, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8690329, "msecs": 869.0, "relativeCreated": 29443.204164505005, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8699229, "msecs": 869.0, "relativeCreated": 29444.09418106079, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8702536, "msecs": 870.0, "relativeCreated": 29444.424867630005, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8704507, "msecs": 870.0, "relativeCreated": 29444.622039794922, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8709679, "msecs": 870.0, "relativeCreated": 29445.139169692993, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.871304, "msecs": 871.0, "relativeCreated": 29445.475339889526, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8714652, "msecs": 871.0, "relativeCreated": 29445.636510849, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8719516, "msecs": 871.0, "relativeCreated": 29446.122884750366, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8722627, "msecs": 872.0, "relativeCreated": 29446.434020996094, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8724172, "msecs": 872.0, "relativeCreated": 29446.58851623535, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8728943, "msecs": 872.0, "relativeCreated": 29447.065591812134, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8732023, "msecs": 873.0, "relativeCreated": 29447.373628616333, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8733544, "msecs": 873.0, "relativeCreated": 29447.5257396698, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8738012, "msecs": 873.0, "relativeCreated": 29447.972536087036, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8741279, "msecs": 874.0, "relativeCreated": 29448.299169540405, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8742795, "msecs": 874.0, "relativeCreated": 29448.450803756714, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8747451, "msecs": 874.0, "relativeCreated": 29448.9164352417, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8750632, "msecs": 875.0, "relativeCreated": 29449.23448562622, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8752413, "msecs": 875.0, "relativeCreated": 29449.41258430481, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8756988, "msecs": 875.0, "relativeCreated": 29449.870109558105, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8760245, "msecs": 876.0, "relativeCreated": 29450.19578933716, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8761797, "msecs": 876.0, "relativeCreated": 29450.350999832153, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467106.8766522, "msecs": 876.0, "relativeCreated": 29450.823545455933, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6887123770000017, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "lineno": 220, "outcome": "failed", "keywords": ["test_check_client_pricing", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013147540000062463, "outcome": "passed"}, "call": {"duration": 0.004383054000001607, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 239, "message": "AssertionError: Failed to show pricing with: What is Sarah's rate?\nassert ('r' in '' or 'rand' in '' or False)\n +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f8f8eb0f5a0>)"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 239, "message": "in test_check_client_pricing"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467107.569994, "msecs": 569.0, "relativeCreated": 30144.16527748108, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467107.5706396, "msecs": 570.0, "relativeCreated": 30144.810914993286, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467107.5715356, "msecs": 571.0, "relativeCreated": 30145.70689201355, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase2_client_management.py:239: in test_check_client_pricing\n    assert 'r' in message or 'rand' in message or \\\nE   AssertionError: Failed to show pricing with: What is Sarah's rate?\nE   assert ('r' in '' or 'rand' in '' or False)\nE    +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f8f8eb0f5a0>)"}, "teardown": {"duration": 0.6165807730000097, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "lineno": 253, "outcome": "failed", "keywords": ["test_add_client_with_duplicate_phone", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004150369999962322, "outcome": "passed"}, "call": {"duration": 0.005245273999989308, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 268, "message": "AssertionError: assert ('already' in '' or 'exists' in '')\n +  where '' = <built-in method lower of str object at 0x7f8fa193fba0>()\n +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f8f8d964100>('message', '')\n +        where <built-in method get of dict object at 0x7f8f8d964100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f8fa193fba0>()\n +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f8f8d964100>('message', '')\n +        where <built-in method get of dict object at 0x7f8f8d964100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 268, "message": "in test_add_client_with_duplicate_phone"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467108.1956506, "msecs": 195.0, "relativeCreated": 30769.821882247925, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467108.1984026, "msecs": 198.0, "relativeCreated": 30772.573947906494, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467108.1993213, "msecs": 199.0, "relativeCreated": 30773.492574691772, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase2_client_management.py:268: in test_add_client_with_duplicate_phone\n    assert 'already' in response.get('message', '').lower() or \\\nE   AssertionError: assert ('already' in '' or 'exists' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f8fa193fba0>()\nE    +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f8f8d964100>('message', '')\nE    +        where <built-in method get of dict object at 0x7f8f8d964100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f8fa193fba0>()\nE    +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f8f8d964100>('message', '')\nE    +        where <built-in method get of dict object at 0x7f8f8d964100> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get"}, "teardown": {"duration": 0.6373921639999907, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "lineno": 270, "outcome": "passed", "keywords": ["test_invalid_phone_numbers", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005266259999956446, "outcome": "passed"}, "call": {"duration": 0.00010356399999977839, "outcome": "passed"}, "teardown": {"duration": 0.6889155910000113, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_negative_pricing", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00045641500000215274, "outcome": "passed"}, "call": {"duration": 9.779300000900548e-05, "outcome": "passed"}, "teardown": {"duration": 0.6343043290000026, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "lineno": 300, "outcome": "failed", "keywords": ["test_client_not_found", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000419375000006994, "outcome": "passed"}, "call": {"duration": 0.005146117999998978, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 311, "message": "assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\n +  where '' = <built-in method lower of str object at 0x7f8fa193fba0>()\n +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f8f8d876fc0>('message', '')\n +        where <built-in method get of dict object at 0x7f8f8d876fc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f8fa193fba0>()\n +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f8f8d876fc0>('message', '')\n +        where <built-in method get of dict object at 0x7f8f8d876fc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f8fa193fba0>()\n +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f8f8d876fc0>('message', '')\n +        where <built-in method get of dict object at 0x7f8f8d876fc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 311, "message": "in test_client_not_found"}], "log": [{"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467110.1712654, "msecs": 171.0, "relativeCreated": 32745.436668395996, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error creating conversation state: 'Mock' object is not subscriptable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467110.1718776, "msecs": 171.0, "relativeCreated": 32746.04892730713, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467110.1722999, "msecs": 172.0, "relativeCreated": 32746.471166610718, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase2_client_management.py:311: in test_client_not_found\n    assert 'not found' in response.get('message', '').lower() or \\\nE   assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f8fa193fba0>()\nE    +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f8f8d876fc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f8f8d876fc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f8fa193fba0>()\nE    +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f8f8d876fc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f8f8d876fc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f8fa193fba0>()\nE    +    where <built-in method lower of str object at 0x7f8fa193fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f8f8d876fc0>('message', '')\nE    +        where <built-in method get of dict object at 0x7f8f8d876fc0> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140254532698960'>, 'success': True}.get"}, "teardown": {"duration": 0.6631236820000055, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "lineno": 53, "outcome": "failed", "keywords": ["test_view_schedule_commands", "TestViewScheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013276669999982005, "outcome": "passed"}, "call": {"duration": 0.004978355000005763, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase3_scheduling.py", "lineno": 74, "message": "AssertionError: Failed to show schedule with: Show my schedule\nassert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "traceback": [{"path": "tests/test_phase3_scheduling.py", "lineno": 74, "message": "in test_view_schedule_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467110.8445354, "msecs": 844.0, "relativeCreated": 33418.70665550232, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467110.8456228, "msecs": 845.0, "relativeCreated": 33419.7940826416, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467110.8466036, "msecs": 846.0, "relativeCreated": 33420.774936676025, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phase3_scheduling.py:74: in test_view_schedule_commands\n    assert 'schedule' in message or 'booking' in message or \\\nE   AssertionError: Failed to show schedule with: Show my schedule\nE   assert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "teardown": {"duration": 0.6397534460000003, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "lineno": 110, "outcome": "passed", "keywords": ["test_book_session_natural_language", "critical", "pytestmark", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02351917299999684, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='140254531744528'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467111.5172849, "msecs": 517.0, "relativeCreated": 34091.456174850464, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "call": {"duration": 0.029692816000007838, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5211418, "msecs": 521.0, "relativeCreated": 34095.31307220459, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5332265, "msecs": 533.0, "relativeCreated": 34107.39779472351, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5347395, "msecs": 534.0, "relativeCreated": 34108.91079902649, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5363696, "msecs": 536.0, "relativeCreated": 34110.54086685181, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5378206, "msecs": 537.0, "relativeCreated": 34111.99188232422, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5392547, "msecs": 539.0, "relativeCreated": 34113.425970077515, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5407217, "msecs": 540.0, "relativeCreated": 34114.89295959473, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5421565, "msecs": 542.0, "relativeCreated": 34116.32776260376, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.543641, "msecs": 543.0, "relativeCreated": 34117.812395095825, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.545081, "msecs": 545.0, "relativeCreated": 34119.25220489502, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "AI intent understanding failed: Object of type Mock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 66, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 980, in _request\n    request = self._build_request(options, retries_taken=retries_taken)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 505, in _build_request\n    return self._client.build_request(  # pyright: ignore[reportUnknownMemberType]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_client.py\", line 358, in build_request\n    return Request(\n           ^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_models.py\", line 339, in __init__\n    headers, stream = encode_request(\n                      ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 214, in encode_request\n    return encode_json(json)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/httpx/_content.py\", line 177, in encode_json\n    body = json_dumps(json).encode(\"utf-8\")\n           ^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 258, in iterencode\n    return _iterencode(o, 0)\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type Mock is not JSON serializable", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467111.5465095, "msecs": 546.0, "relativeCreated": 34120.680809020996, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.7145592269999952, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "lineno": 144, "outcome": "passed", "keywords": ["test_booking_time_formats", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023149490000008655, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='140254531279248'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467112.2855651, "msecs": 285.0, "relativeCreated": 34859.73644256592, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "call": {"duration": 0.0013521820000050866, "outcome": "passed"}, "teardown": {"duration": 0.6374436469999978, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "lineno": 169, "outcome": "passed", "keywords": ["test_booking_date_parsing", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02542462999998918, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude model: <Mock name='mock.AI_MODEL' id='140254531336848'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1760467112.950451, "msecs": 950.0, "relativeCreated": 35524.622201919556, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "call": {"duration": 0.0003921939999997903, "outcome": "passed"}, "teardown": {"duration": 0.6536963659999913, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "lineno": 223, "outcome": "passed", "keywords": ["test_cancel_booking_variations", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0011414880000018002, "outcome": "passed"}, "call": {"duration": 0.017637985999996886, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6071758, "msecs": 607.0, "relativeCreated": 36181.347131729126, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.607802, "msecs": 607.0, "relativeCreated": 36181.97321891785, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6087866, "msecs": 608.0, "relativeCreated": 36182.957887649536, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6091194, "msecs": 609.0, "relativeCreated": 36183.29071998596, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.609296, "msecs": 609.0, "relativeCreated": 36183.467388153076, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6098013, "msecs": 609.0, "relativeCreated": 36183.97259712219, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.610125, "msecs": 610.0, "relativeCreated": 36184.29636955261, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6102915, "msecs": 610.0, "relativeCreated": 36184.462785720825, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6107776, "msecs": 610.0, "relativeCreated": 36184.94892120361, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6111298, "msecs": 611.0, "relativeCreated": 36185.301065444946, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6112924, "msecs": 611.0, "relativeCreated": 36185.46366691589, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6117623, "msecs": 611.0, "relativeCreated": 36185.9335899353, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6121116, "msecs": 612.0, "relativeCreated": 36186.28287315369, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6122746, "msecs": 612.0, "relativeCreated": 36186.44595146179, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.612747, "msecs": 612.0, "relativeCreated": 36186.91825866699, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.613061, "msecs": 613.0, "relativeCreated": 36187.23225593567, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6215236, "msecs": 621.0, "relativeCreated": 36195.69492340088, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.622018, "msecs": 622.0, "relativeCreated": 36196.189403533936, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.622335, "msecs": 622.0, "relativeCreated": 36196.50626182556, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6224902, "msecs": 622.0, "relativeCreated": 36196.66147232056, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6230133, "msecs": 623.0, "relativeCreated": 36197.184562683105, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6233244, "msecs": 623.0, "relativeCreated": 36197.49569892883, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6234844, "msecs": 623.0, "relativeCreated": 36197.65567779541, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467113.6240065, "msecs": 624.0, "relativeCreated": 36198.17781448364, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6450630829999966, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "lineno": 248, "outcome": "passed", "keywords": ["test_reschedule_booking", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0010441259999964814, "outcome": "passed"}, "call": {"duration": 0.0076624330000072405, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.271462, "msecs": 271.0, "relativeCreated": 36845.63326835632, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2736561, "msecs": 273.0, "relativeCreated": 36847.827434539795, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2744946, "msecs": 274.0, "relativeCreated": 36848.665952682495, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2748528, "msecs": 274.0, "relativeCreated": 36849.024057388306, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.275014, "msecs": 275.0, "relativeCreated": 36849.18522834778, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2755158, "msecs": 275.0, "relativeCreated": 36849.68709945679, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2758443, "msecs": 275.0, "relativeCreated": 36850.01564025879, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.276006, "msecs": 276.0, "relativeCreated": 36850.17728805542, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2764828, "msecs": 276.0, "relativeCreated": 36850.65412521362, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2768173, "msecs": 276.0, "relativeCreated": 36850.9886264801, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2769754, "msecs": 276.0, "relativeCreated": 36851.14669799805, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2774584, "msecs": 277.0, "relativeCreated": 36851.62973403931, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.277782, "msecs": 277.0, "relativeCreated": 36851.95326805115, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2779377, "msecs": 277.0, "relativeCreated": 36852.1089553833, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.2783885, "msecs": 278.0, "relativeCreated": 36852.55980491638, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6337872969999978, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "lineno": 283, "outcome": "passed", "keywords": ["test_double_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004179729999975734, "outcome": "passed"}, "call": {"duration": 0.0013445999999959213, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467114.9146278, "msecs": 914.0, "relativeCreated": 37488.79909515381, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6224753059999983, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "lineno": 313, "outcome": "passed", "keywords": ["test_past_date_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00046912899999540514, "outcome": "passed"}, "call": {"duration": 0.0013271480000014435, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467115.5394905, "msecs": 539.0, "relativeCreated": 38113.661766052246, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 0.6583520439999972, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "lineno": 334, "outcome": "passed", "keywords": ["test_invalid_time_slots", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006126960000045756, "outcome": "passed"}, "call": {"duration": 0.0005834109999938164, "outcome": "passed"}, "teardown": {"duration": 0.6572635499999961, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "lineno": 145, "outcome": "failed", "keywords": ["test_setup_habits_for_clients", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.682036430999986, "outcome": "passed"}, "call": {"duration": 0.8055458270000031, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 159, "message": "assert False\n +  where False = any(<generator object TestPhase4_HabitTracking.test_setup_habits_for_clients.<locals>.<genexpr> at 0x7f8f8eb225c0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 159, "message": "in test_setup_habits_for_clients"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467118.1825695, "msecs": 182.0, "relativeCreated": 40756.74080848694, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467118.3442163, "msecs": 344.0, "relativeCreated": 40918.38765144348, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467118.3446686, "msecs": 344.0, "relativeCreated": 40918.83993148804, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467118.3450742, "msecs": 345.0, "relativeCreated": 40919.24548149109, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:159: in test_setup_habits_for_clients\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase4_HabitTracking.test_setup_habits_for_clients.<locals>.<genexpr> at 0x7f8f8eb225c0>)"}, "teardown": {"duration": 1.2329253209999962, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "lineno": 167, "outcome": "failed", "keywords": ["test_check_habit_compliance", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.8631218900000022, "outcome": "passed"}, "call": {"duration": 0.7828880839999925, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 180, "message": "assert False\n +  where False = any(<generator object TestPhase4_HabitTracking.test_check_habit_compliance.<locals>.<genexpr> at 0x7f8f8eb22e30>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 180, "message": "in test_check_habit_compliance"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467121.0890985, "msecs": 89.0, "relativeCreated": 43663.26975822449, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467121.2383313, "msecs": 238.0, "relativeCreated": 43812.50262260437, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467121.2387986, "msecs": 238.0, "relativeCreated": 43812.96992301941, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467121.2391455, "msecs": 239.0, "relativeCreated": 43813.316822052, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:180: in test_check_habit_compliance\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase4_HabitTracking.test_check_habit_compliance.<locals>.<genexpr> at 0x7f8f8eb22e30>)"}, "teardown": {"duration": 1.2315413729999989, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "lineno": 183, "outcome": "failed", "keywords": ["test_send_habit_reminders", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6461028300000038, "outcome": "passed"}, "call": {"duration": 0.7399264139999957, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 196, "message": "assert False\n +  where False = any(<generator object TestPhase4_HabitTracking.test_send_habit_reminders.<locals>.<genexpr> at 0x7f8f8eb224d0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 196, "message": "in test_send_habit_reminders"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467123.7359843, "msecs": 735.0, "relativeCreated": 46310.155630111694, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467123.8641582, "msecs": 864.0, "relativeCreated": 46438.329458236694, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467123.8645957, "msecs": 864.0, "relativeCreated": 46438.766956329346, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467123.8649495, "msecs": 864.0, "relativeCreated": 46439.12076950073, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:196: in test_send_habit_reminders\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase4_HabitTracking.test_send_habit_reminders.<locals>.<genexpr> at 0x7f8f8eb224d0>)"}, "teardown": {"duration": 1.2429680670000067, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 211, "outcome": "failed", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.7645873520000066, "outcome": "passed"}, "call": {"duration": 0.8007910869999932, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 224, "message": "assert False\n +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_send_workouts.<locals>.<genexpr> at 0x7f8f8eb23880>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 224, "message": "in test_send_workouts"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467126.525798, "msecs": 525.0, "relativeCreated": 49099.96938705444, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467126.6805437, "msecs": 680.0, "relativeCreated": 49254.71496582031, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467126.681008, "msecs": 681.0, "relativeCreated": 49255.1794052124, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467126.6813958, "msecs": 681.0, "relativeCreated": 49255.56707382202, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:224: in test_send_workouts\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_send_workouts.<locals>.<genexpr> at 0x7f8f8eb23880>)"}, "teardown": {"duration": 1.308707768000005, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "lineno": 227, "outcome": "failed", "keywords": ["test_start_assessment", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6847981960000027, "outcome": "passed"}, "call": {"duration": 0.9860009359999964, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 240, "message": "assert False\n +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_start_assessment.<locals>.<genexpr> at 0x7f8f8eb236a0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 240, "message": "in test_start_assessment"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467129.456754, "msecs": 456.0, "relativeCreated": 52030.925273895264, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467129.6684391, "msecs": 668.0, "relativeCreated": 52242.610454559326, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467129.6689148, "msecs": 668.0, "relativeCreated": 52243.086099624634, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467129.669317, "msecs": 669.0, "relativeCreated": 52243.48831176758, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:240: in test_start_assessment\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_start_assessment.<locals>.<genexpr> at 0x7f8f8eb236a0>)"}, "teardown": {"duration": 1.3535756919999926, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "lineno": 243, "outcome": "failed", "keywords": ["test_view_assessment_results", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6658896260000091, "outcome": "passed"}, "call": {"duration": 0.8720442989999952, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 255, "message": "assert False\n +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_view_assessment_results.<locals>.<genexpr> at 0x7f8f8eb23f10>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 255, "message": "in test_view_assessment_results"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467132.4222424, "msecs": 422.0, "relativeCreated": 54996.413707733154, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467132.5683348, "msecs": 568.0, "relativeCreated": 55142.50612258911, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467132.5688665, "msecs": 568.0, "relativeCreated": 55143.03779602051, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467132.569225, "msecs": 569.0, "relativeCreated": 55143.39637756348, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:255: in test_view_assessment_results\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase5_WorkoutsAssessments.test_view_assessment_results.<locals>.<genexpr> at 0x7f8f8eb23f10>)"}, "teardown": {"duration": 1.4065304600000132, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 270, "outcome": "failed", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6206463280000065, "outcome": "passed"}, "call": {"duration": 0.7142895170000116, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 283, "message": "assert False\n +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_request_payment.<locals>.<genexpr> at 0x7f8f8eb235b0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 283, "message": "in test_request_payment"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467135.1807706, "msecs": 180.0, "relativeCreated": 57754.94194030762, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467135.3179083, "msecs": 317.0, "relativeCreated": 57892.0795917511, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467135.318358, "msecs": 318.0, "relativeCreated": 57892.529249191284, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467135.3187969, "msecs": 318.0, "relativeCreated": 57892.96817779541, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:283: in test_request_payment\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_request_payment.<locals>.<genexpr> at 0x7f8f8eb235b0>)"}, "teardown": {"duration": 1.4251257419999916, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 286, "outcome": "passed", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.612723282999994, "outcome": "passed"}, "call": {"duration": 3.0127399170000047, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.0397081, "msecs": 39.0, "relativeCreated": 60613.879442214966, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.177514, "msecs": 177.0, "relativeCreated": 60751.68538093567, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.1779778, "msecs": 177.0, "relativeCreated": 60752.14910507202, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.178358, "msecs": 178.0, "relativeCreated": 60752.52938270569, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.761349, "msecs": 761.0, "relativeCreated": 61335.52026748657, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.898754, "msecs": 898.0, "relativeCreated": 61472.92518615723, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.8992202, "msecs": 899.0, "relativeCreated": 61473.39153289795, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467138.8996568, "msecs": 899.0, "relativeCreated": 61473.828077316284, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467139.5089865, "msecs": 508.0, "relativeCreated": 62083.157777786255, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467139.70399, "msecs": 703.0, "relativeCreated": 62278.16128730774, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467139.7044208, "msecs": 704.0, "relativeCreated": 62278.592109680176, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467139.7048013, "msecs": 704.0, "relativeCreated": 62278.97262573242, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467140.2864885, "msecs": 286.0, "relativeCreated": 62860.65983772278, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467140.4199002, "msecs": 419.0, "relativeCreated": 62994.07148361206, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467140.4205482, "msecs": 420.0, "relativeCreated": 62994.71950531006, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467140.420936, "msecs": 420.0, "relativeCreated": 62995.10741233826, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 1.1769151860000022, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "lineno": 303, "outcome": "failed", "keywords": ["test_payment_confirmation", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.716505510999994, "outcome": "passed"}, "call": {"duration": 0.6982634139999959, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 315, "message": "assert False\n +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_payment_confirmation.<locals>.<genexpr> at 0x7f8f9da9bc40>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 315, "message": "in test_payment_confirmation"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467142.876156, "msecs": 876.0, "relativeCreated": 65450.32739639282, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467143.0126407, "msecs": 12.0, "relativeCreated": 65586.81201934814, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467143.013012, "msecs": 13.0, "relativeCreated": 65587.1832370758, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467143.0133553, "msecs": 13.0, "relativeCreated": 65587.52655982971, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:315: in test_payment_confirmation\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase6_PaymentsRevenue.test_payment_confirmation.<locals>.<genexpr> at 0x7f8f9da9bc40>)"}, "teardown": {"duration": 1.3988780069999933, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "lineno": 330, "outcome": "failed", "keywords": ["test_view_dashboard", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6531848730000007, "outcome": "passed"}, "call": {"duration": 0.7731996240000001, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 343, "message": "assert False\n +  where False = any(<generator object TestPhase7_AnalyticsReports.test_view_dashboard.<locals>.<genexpr> at 0x7f8f8eb22e30>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 343, "message": "in test_view_dashboard"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467145.7143931, "msecs": 714.0, "relativeCreated": 68288.56444358826, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467145.8483605, "msecs": 848.0, "relativeCreated": 68422.53184318542, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467145.8488579, "msecs": 848.0, "relativeCreated": 68423.02918434143, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467145.8492055, "msecs": 849.0, "relativeCreated": 68423.37679862976, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:343: in test_view_dashboard\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase7_AnalyticsReports.test_view_dashboard.<locals>.<genexpr> at 0x7f8f8eb22e30>)"}, "teardown": {"duration": 1.1057557869999926, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "lineno": 346, "outcome": "failed", "keywords": ["test_client_analytics", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6900013510000065, "outcome": "passed"}, "call": {"duration": 0.7388574570000088, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 358, "message": "assert False\n +  where False = any(<generator object TestPhase7_AnalyticsReports.test_client_analytics.<locals>.<genexpr> at 0x7f8f8eb22980>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 358, "message": "in test_client_analytics"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467148.2545474, "msecs": 254.0, "relativeCreated": 70828.71866226196, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467148.3917706, "msecs": 391.0, "relativeCreated": 70965.94190597534, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467148.3922048, "msecs": 392.0, "relativeCreated": 70966.37606620789, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467148.3926117, "msecs": 392.0, "relativeCreated": 70966.78304672241, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:358: in test_client_analytics\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase7_AnalyticsReports.test_client_analytics.<locals>.<genexpr> at 0x7f8f8eb22980>)"}, "teardown": {"duration": 1.2050072939999978, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 375, "outcome": "failed", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6278835530000038, "outcome": "passed"}, "call": {"duration": 0.5971572629999997, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 388, "message": "assert False\n +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_booking.<locals>.<genexpr> at 0x7f8f8eb218a0>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 388, "message": "in test_client_booking"}], "log": [{"name": "refiloe", "msg": "Error getting user context: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467150.4305344, "msecs": 430.0, "relativeCreated": 73004.70566749573, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467150.703081, "msecs": 703.0, "relativeCreated": 73277.25219726562, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467150.8300998, "msecs": 830.0, "relativeCreated": 73404.27112579346, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467150.830636, "msecs": 830.0, "relativeCreated": 73404.80732917786, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467150.8310199, "msecs": 831.0, "relativeCreated": 73405.19118309021, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:388: in test_client_booking\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_booking.<locals>.<genexpr> at 0x7f8f8eb218a0>)"}, "teardown": {"duration": 1.2602036010000006, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 391, "outcome": "failed", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6855839840000044, "outcome": "passed"}, "call": {"duration": 5.655695217000002, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 405, "message": "assert False\n +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_habit_logging.<locals>.<genexpr> at 0x7f8f8eb22a70>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 405, "message": "in test_client_habit_logging"}], "log": [{"name": "refiloe", "msg": "Error getting user context: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467157.9735072, "msecs": 973.0, "relativeCreated": 80547.67847061157, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467158.262732, "msecs": 262.0, "relativeCreated": 80836.90333366394, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467158.440314, "msecs": 440.0, "relativeCreated": 81014.4853591919, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467158.4408405, "msecs": 440.0, "relativeCreated": 81015.01178741455, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467158.4411764, "msecs": 441.0, "relativeCreated": 81015.3477191925, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:405: in test_client_habit_logging\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_habit_logging.<locals>.<genexpr> at 0x7f8f8eb22a70>)"}, "teardown": {"duration": 1.281491052000007, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "lineno": 408, "outcome": "failed", "keywords": ["test_client_progress", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.7770529089999911, "outcome": "passed"}, "call": {"duration": 0.5871055639999838, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 421, "message": "assert False\n +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_progress.<locals>.<genexpr> at 0x7f8f8eb23970>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 421, "message": "in test_client_progress"}], "log": [{"name": "refiloe", "msg": "Error getting user context: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467160.679719, "msecs": 679.0, "relativeCreated": 83253.8902759552, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467160.9406695, "msecs": 940.0, "relativeCreated": 83514.84084129333, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467161.0944984, "msecs": 94.0, "relativeCreated": 83668.66970062256, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467161.095046, "msecs": 95.0, "relativeCreated": 83669.21734809875, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467161.0954325, "msecs": 95.0, "relativeCreated": 83669.60382461548, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:421: in test_client_progress\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase8_ClientFeatures.test_client_progress.<locals>.<genexpr> at 0x7f8f8eb23970>)"}, "teardown": {"duration": 1.2298414400000013, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "lineno": 436, "outcome": "failed", "keywords": ["test_view_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6123931970000172, "outcome": "passed"}, "call": {"duration": 0.7632587759999865, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 449, "message": "assert False\n +  where False = any(<generator object TestPhase9_Challenges.test_view_challenges.<locals>.<genexpr> at 0x7f8f8eb22980>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 449, "message": "in test_view_challenges"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467163.5597367, "msecs": 559.0, "relativeCreated": 86133.90803337097, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467163.7080889, "msecs": 708.0, "relativeCreated": 86282.26017951965, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467163.7085562, "msecs": 708.0, "relativeCreated": 86282.72747993469, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467163.7090535, "msecs": 709.0, "relativeCreated": 86283.2248210907, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:449: in test_view_challenges\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase9_Challenges.test_view_challenges.<locals>.<genexpr> at 0x7f8f8eb22980>)"}, "teardown": {"duration": 1.2479052650000142, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "lineno": 452, "outcome": "failed", "keywords": ["test_join_leave_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.7671195749999811, "outcome": "passed"}, "call": {"duration": 0.7433131699999933, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 465, "message": "assert False\n +  where False = any(<generator object TestPhase9_Challenges.test_join_leave_challenges.<locals>.<genexpr> at 0x7f8f8eb23970>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 465, "message": "in test_join_leave_challenges"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467166.3316844, "msecs": 331.0, "relativeCreated": 88905.85565567017, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467166.475093, "msecs": 475.0, "relativeCreated": 89049.26419258118, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467166.4755435, "msecs": 475.0, "relativeCreated": 89049.71480369568, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467166.4759347, "msecs": 475.0, "relativeCreated": 89050.10604858398, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:465: in test_join_leave_challenges\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase9_Challenges.test_join_leave_challenges.<locals>.<genexpr> at 0x7f8f8eb23970>)"}, "teardown": {"duration": 1.1732874889999891, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "lineno": 468, "outcome": "failed", "keywords": ["test_leaderboard", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6257658520000007, "outcome": "passed"}, "call": {"duration": 0.7731351860000188, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 481, "message": "assert False\n +  where False = any(<generator object TestPhase9_Challenges.test_leaderboard.<locals>.<genexpr> at 0x7f8f8eb23e20>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 481, "message": "in test_leaderboard"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467168.9233797, "msecs": 923.0, "relativeCreated": 91497.55096435547, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467169.0559223, "msecs": 55.0, "relativeCreated": 91630.09357452393, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467169.0563555, "msecs": 56.0, "relativeCreated": 91630.52678108215, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467169.0567682, "msecs": 56.0, "relativeCreated": 91630.93948364258, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:481: in test_leaderboard\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase9_Challenges.test_leaderboard.<locals>.<genexpr> at 0x7f8f8eb23e20>)"}, "teardown": {"duration": 1.194580378000012, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "lineno": 496, "outcome": "failed", "keywords": ["test_bulk_operations", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6423071940000113, "outcome": "passed"}, "call": {"duration": 0.7203838430000076, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 508, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_bulk_operations.<locals>.<genexpr> at 0x7f8f8d5dc400>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 508, "message": "in test_bulk_operations"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467171.4908137, "msecs": 490.0, "relativeCreated": 94064.98503684998, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467171.621497, "msecs": 621.0, "relativeCreated": 94195.66822052002, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467171.6219656, "msecs": 621.0, "relativeCreated": 94196.13695144653, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467171.6223543, "msecs": 622.0, "relativeCreated": 94196.52557373047, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:508: in test_bulk_operations\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_bulk_operations.<locals>.<genexpr> at 0x7f8f8d5dc400>)"}, "teardown": {"duration": 1.1926120729999923, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "lineno": 511, "outcome": "passed", "keywords": ["test_natural_language", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6818405330000132, "outcome": "passed"}, "call": {"duration": 2.2936236920000113, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467174.135023, "msecs": 135.0, "relativeCreated": 96709.19442176819, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467174.2780044, "msecs": 278.0, "relativeCreated": 96852.17571258545, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467174.2784865, "msecs": 278.0, "relativeCreated": 96852.65779495239, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467174.2788928, "msecs": 278.0, "relativeCreated": 96853.06406021118, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467174.9440975, "msecs": 944.0, "relativeCreated": 97518.26882362366, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.0881736, "msecs": 88.0, "relativeCreated": 97662.34493255615, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.0886307, "msecs": 88.0, "relativeCreated": 97662.80198097229, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.0890315, "msecs": 89.0, "relativeCreated": 97663.20276260376, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.6309378, "msecs": 630.0, "relativeCreated": 98205.10911941528, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.7981515, "msecs": 798.0, "relativeCreated": 98372.32279777527, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.798623, "msecs": 798.0, "relativeCreated": 98372.79438972473, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467175.7990334, "msecs": 799.0, "relativeCreated": 98373.20470809937, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}]}, "teardown": {"duration": 1.2500329599999986, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 527, "outcome": "failed", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6915682740000193, "outcome": "passed"}, "call": {"duration": 0.7950686809999752, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phases_4_11.py", "lineno": 540, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f8f8eb23e20>)"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 540, "message": "in test_error_handling"}], "log": [{"name": "refiloe", "msg": "Error saving message: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'intent' column of 'message_history' in the schema cache\"}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467178.3923967, "msecs": 392.0, "relativeCreated": 100966.56799316406, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error getting conversation state: {'code': 'PGRST116', 'details': 'The result contains 0 rows', 'hint': None, 'message': 'JSON object requested, multiple (or no) rows returned'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467178.5355675, "msecs": 535.0, "relativeCreated": 101109.73882675171, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467178.536033, "msecs": 536.0, "relativeCreated": 101110.20421981812, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}, {"name": "refiloe", "msg": "Error saving message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1760467178.536416, "msecs": 536.0, "relativeCreated": 101110.58735847473, "thread": 140254868306816, "threadName": "MainThread", "processName": "MainProcess", "process": 2188}], "longrepr": "tests/test_phases_4_11.py:540: in test_error_handling\n    assert any(word in str(response).lower() for word in\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f8f8eb23e20>)"}, "teardown": {"duration": 1.172155963000023, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "lineno": 555, "outcome": "passed", "keywords": ["test_check_scheduled_reminders", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6647010129999842, "outcome": "passed"}, "call": {"duration": 0.1491745439999761, "outcome": "passed"}, "teardown": {"duration": 1.1370985750000102, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "lineno": 566, "outcome": "passed", "keywords": ["test_subscription_monitoring", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.6508759949999785, "outcome": "passed"}, "call": {"duration": 0.1306930970000053, "outcome": "passed"}, "teardown": {"duration": 1.216378719000005, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "lineno": 227, "outcome": "passed", "keywords": ["test_new_trainer_onboarding", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002901739999856545, "outcome": "passed"}, "call": {"duration": 0.005117967000018098, "outcome": "passed"}, "teardown": {"duration": 0.8217980609999813, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "lineno": 242, "outcome": "passed", "keywords": ["test_trainer_recognition", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028923200000008364, "outcome": "passed"}, "call": {"duration": 0.0028556389999891962, "outcome": "passed"}, "teardown": {"duration": 0.6871414949999917, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 269, "outcome": "passed", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003101810000032401, "outcome": "passed"}, "call": {"duration": 0.007732344999993757, "outcome": "passed"}, "teardown": {"duration": 0.719415601999998, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 278, "outcome": "passed", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002692140000135623, "outcome": "passed"}, "call": {"duration": 0.00283689400001208, "outcome": "passed"}, "teardown": {"duration": 0.6536526040000012, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_custom_pricing", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002855949999798213, "outcome": "passed"}, "call": {"duration": 0.00503694400001109, "outcome": "passed"}, "teardown": {"duration": 0.642178658000006, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "lineno": 299, "outcome": "passed", "keywords": ["test_view_schedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027030600000443883, "outcome": "passed"}, "call": {"duration": 0.002783915000009074, "outcome": "passed"}, "teardown": {"duration": 0.6603525980000029, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "lineno": 308, "outcome": "passed", "keywords": ["test_book_sessions", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002688540000121975, "outcome": "passed"}, "call": {"duration": 0.004721203000002561, "outcome": "passed"}, "teardown": {"duration": 0.6601283359999854, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "lineno": 317, "outcome": "failed", "keywords": ["test_cancel_reschedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028632100000436367, "outcome": "passed"}, "call": {"duration": 0.010498639999980242, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 329, "message": "assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\n +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f8f9dde71a0>()\n +    where <built-in method lower of str object at 0x7f8f9dde71a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\n +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f8f9dde71a0>()\n +    where <built-in method lower of str object at 0x7f8f9dde71a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 329, "message": "in test_cancel_reschedule"}], "longrepr": "tests/test_refiloe_complete.py:329: in test_cancel_reschedule\n    assert \"reschedul\" in response['message'].lower() or \"moved\" in response['message'].lower()\nE   assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\nE    +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f8f9dde71a0>()\nE    +    where <built-in method lower of str object at 0x7f8f9dde71a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\nE    +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f8f9dde71a0>()\nE    +    where <built-in method lower of str object at 0x7f8f9dde71a0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "teardown": {"duration": 0.6721264720000022, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "lineno": 334, "outcome": "passed", "keywords": ["test_setup_habits", "TestPhase4_HabitTracking", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027038599998263635, "outcome": "passed"}, "call": {"duration": 0.004827902000016593, "outcome": "passed"}, "teardown": {"duration": 0.6932820720000166, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 347, "outcome": "passed", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00026485600000114573, "outcome": "passed"}, "call": {"duration": 0.004943307999980107, "outcome": "passed"}, "teardown": {"duration": 0.655039961, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 360, "outcome": "failed", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002628320000042095, "outcome": "passed"}, "call": {"duration": 0.005821731999986923, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 368, "message": "assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\n +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f8f9deac490>()\n +    where <built-in method lower of str object at 0x7f8f9deac490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\n +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f8f9deac490>()\n +    where <built-in method lower of str object at 0x7f8f9deac490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 368, "message": "in test_request_payment"}], "longrepr": "tests/test_refiloe_complete.py:368: in test_request_payment\n    assert \"payment\" in response['message'].lower() or \"invoice\" in response['message'].lower()\nE   assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\nE    +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f8f9deac490>()\nE    +    where <built-in method lower of str object at 0x7f8f9deac490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\nE    +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f8f9deac490>()\nE    +    where <built-in method lower of str object at 0x7f8f9deac490> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "teardown": {"duration": 0.7157749469999999, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 369, "outcome": "passed", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002647859999740376, "outcome": "passed"}, "call": {"duration": 0.004859520999985989, "outcome": "passed"}, "teardown": {"duration": 0.7078817100000094, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 381, "outcome": "passed", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00026760099999023623, "outcome": "passed"}, "call": {"duration": 0.004846356000001606, "outcome": "passed"}, "teardown": {"duration": 0.6327245660000074, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 390, "outcome": "passed", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002638539999963996, "outcome": "passed"}, "call": {"duration": 0.0056593590000204586, "outcome": "passed"}, "teardown": {"duration": 0.6978733539999951, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "lineno": 403, "outcome": "passed", "keywords": ["test_natural_language_understanding", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002648159999978361, "outcome": "passed"}, "call": {"duration": 0.00484970300001919, "outcome": "passed"}, "teardown": {"duration": 0.6964109059999828, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 412, "outcome": "failed", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030632400000740745, "outcome": "passed"}, "call": {"duration": 0.002840530000014496, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 424, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f8f8d973d80>)"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 424, "message": "in test_error_handling"}], "longrepr": "tests/test_refiloe_complete.py:424: in test_error_handling\n    assert any(word in response['message'].lower() for word in [\"past\", \"future\", \"cannot\"])\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f8f8d973d80>)"}, "teardown": {"duration": 0.6962039219999951, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "lineno": 433, "outcome": "passed", "keywords": ["test_trainer_registration_step_7_currency_parsing", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00026545800000121744, "outcome": "passed"}, "call": {"duration": 0.0006879379999986668, "outcome": "passed"}, "teardown": {"duration": 0.71183743200001, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "lineno": 457, "outcome": "passed", "keywords": ["test_ai_responds_naturally_not_rigid_commands", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002524729999890951, "outcome": "passed"}, "call": {"duration": 0.045435930999985885, "outcome": "passed"}, "teardown": {"duration": 0.644181543000002, "outcome": "passed"}}], "warnings": [{"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}]}
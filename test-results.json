{"created": 1759047595.2539234, "duration": 59.4181911945343, "exitcode": 1, "root": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant", "environment": {}, "summary": {"passed": 49, "error": 30, "failed": 11, "skipped": 1, "total": 91, "collected": 91}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/__init__.py", "type": "Package"}]}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "type": "Function", "lineno": 130}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "type": "Function", "lineno": 143}]}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "type": "Function", "lineno": 165}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "type": "Function", "lineno": 170}]}, {"nodeid": "tests/test_conversation_flows.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality", "type": "Class"}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration", "type": "Class"}]}, {"nodeid": "tests/test_debug.py", "outcome": "passed", "result": [{"nodeid": "tests/test_debug.py::test_python_version", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_debug.py::test_project_structure", "type": "Function", "lineno": 28}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_debug.py::test_check_requirements", "type": "Function", "lineno": 84}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "type": "Function", "lineno": 97}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "type": "Function", "lineno": 136}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 180}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 203}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "type": "Function", "lineno": 218}]}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "type": "Function", "lineno": 267}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "type": "Function", "lineno": 289}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "type": "Function", "lineno": 310}]}, {"nodeid": "tests/test_e2e_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling", "type": "Class"}]}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "type": "Function", "lineno": 103}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "type": "Function", "lineno": 131}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "type": "Function", "lineno": 159}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "type": "Function", "lineno": 216}]}, {"nodeid": "tests/test_integration_real.py", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_real.py::TestRealIntegration", "type": "Class"}]}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "type": "Function", "lineno": 77}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "type": "Function", "lineno": 211}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "type": "Function", "lineno": 224}]}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "type": "Function", "lineno": 281}]}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "type": "Function", "lineno": 311}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "type": "Function", "lineno": 327}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "type": "Function", "lineno": 341}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "type": "Function", "lineno": 358}]}, {"nodeid": "tests/test_phase1_registration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal", "type": "Class"}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "type": "Function", "lineno": 75}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "type": "Function", "lineno": 100}]}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "type": "Function", "lineno": 140}]}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "type": "Function", "lineno": 188}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "type": "Function", "lineno": 253}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "type": "Function", "lineno": 300}]}, {"nodeid": "tests/test_phase2_client_management.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal", "type": "Class"}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases", "type": "Class"}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "type": "Function", "lineno": 53}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "type": "Function", "lineno": 110}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "type": "Function", "lineno": 169}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "type": "Function", "lineno": 223}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "type": "Function", "lineno": 248}]}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "type": "Function", "lineno": 283}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "type": "Function", "lineno": 313}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_phase3_scheduling.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal", "type": "Class"}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation", "type": "Class"}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "type": "Function", "lineno": 147}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "type": "Function", "lineno": 169}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "type": "Function", "lineno": 185}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 213}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "type": "Function", "lineno": 229}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "type": "Function", "lineno": 245}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 272}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 288}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "type": "Function", "lineno": 305}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "type": "Function", "lineno": 332}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "type": "Function", "lineno": 348}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 377}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 393}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "type": "Function", "lineno": 410}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "type": "Function", "lineno": 438}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "type": "Function", "lineno": 454}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "type": "Function", "lineno": 470}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "type": "Function", "lineno": 498}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "type": "Function", "lineno": 513}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 529}]}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "type": "Function", "lineno": 557}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "type": "Function", "lineno": 568}]}, {"nodeid": "tests/test_phases_4_11.py", "outcome": "passed", "result": [{"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures", "type": "Class"}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "type": "Function", "lineno": 227}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "type": "Function", "lineno": 242}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "type": "Function", "lineno": 269}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "type": "Function", "lineno": 278}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "type": "Function", "lineno": 286}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "type": "Function", "lineno": 299}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "type": "Function", "lineno": 308}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "type": "Function", "lineno": 317}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "type": "Function", "lineno": 334}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "type": "Function", "lineno": 347}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "type": "Function", "lineno": 360}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "type": "Function", "lineno": 369}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "type": "Function", "lineno": 381}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "type": "Function", "lineno": 390}]}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "type": "Function", "lineno": 403}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "type": "Function", "lineno": 412}]}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "type": "Function", "lineno": 433}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "type": "Function", "lineno": 457}]}, {"nodeid": "tests/test_refiloe_complete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures", "type": "Class"}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs", "type": "Class"}]}, {"nodeid": "tests/test_setup_fix.py", "outcome": "passed", "result": []}, {"nodeid": "tests/__init__.py", "outcome": "passed", "result": [{"nodeid": "tests/test_conversation_flows.py", "type": "Module"}, {"nodeid": "tests/test_debug.py", "type": "Module"}, {"nodeid": "tests/test_e2e_complete.py", "type": "Module"}, {"nodeid": "tests/test_integration_real.py", "type": "Module"}, {"nodeid": "tests/test_phase1_registration.py", "type": "Module"}, {"nodeid": "tests/test_phase2_client_management.py", "type": "Module"}, {"nodeid": "tests/test_phase3_scheduling.py", "type": "Module"}, {"nodeid": "tests/test_phases_4_11.py", "type": "Module"}, {"nodeid": "tests/test_refiloe_complete.py", "type": "Module"}, {"nodeid": "tests/test_setup_fix.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_imports_work", "lineno": 130, "outcome": "passed", "keywords": ["test_imports_work", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005150479998974333, "outcome": "passed"}, "call": {"duration": 0.03280888099993717, "outcome": "passed"}, "teardown": {"duration": 1.3137874760000159, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_mock_message", "lineno": 136, "outcome": "passed", "keywords": ["test_mock_message", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003315469998597109, "outcome": "passed"}, "call": {"duration": 0.02186308899990763, "outcome": "passed"}, "teardown": {"duration": 0.8690006310000626, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestBasicFunctionality::test_trainer_registration_mock", "lineno": 143, "outcome": "passed", "keywords": ["test_trainer_registration_mock", "TestBasicFunctionality", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00033015399981195515, "outcome": "passed"}, "call": {"duration": 0.021690286999955788, "outcome": "passed"}, "teardown": {"duration": 0.658032890999948, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_basic_setup", "lineno": 165, "outcome": "passed", "keywords": ["test_basic_setup", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02248937600006684, "outcome": "passed"}, "call": {"duration": 9.318299998994917e-05, "outcome": "passed"}, "teardown": {"duration": 0.886424648000002, "outcome": "passed"}}, {"nodeid": "tests/test_conversation_flows.py::TestPhase1_Registration::test_mock_registration_flow", "lineno": 170, "outcome": "passed", "keywords": ["test_mock_registration_flow", "TestPhase1_Registration", "test_conversation_flows.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021853491999991093, "outcome": "passed"}, "call": {"duration": 0.000199340999870401, "outcome": "passed"}, "teardown": {"duration": 0.6707729879999533, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_python_version", "lineno": 9, "outcome": "passed", "keywords": ["test_python_version", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028173400005471194, "outcome": "passed"}, "call": {"duration": 9.106000015890459e-05, "outcome": "passed"}, "teardown": {"duration": 0.8594890409999607, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_basic_modules", "lineno": 14, "outcome": "passed", "keywords": ["test_can_import_basic_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00031482600002163963, "outcome": "passed"}, "call": {"duration": 8.975699984148378e-05, "outcome": "passed"}, "teardown": {"duration": 0.6233413610000298, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_project_structure", "lineno": 28, "outcome": "passed", "keywords": ["test_project_structure", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00025430300001971773, "outcome": "passed"}, "call": {"duration": 0.00019974199994976516, "outcome": "passed"}, "teardown": {"duration": 0.8128884140000991, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_can_import_refiloe_modules", "lineno": 48, "outcome": "passed", "keywords": ["test_can_import_refiloe_modules", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002846400000180438, "outcome": "passed"}, "call": {"duration": 0.0003811899998709123, "outcome": "passed"}, "teardown": {"duration": 0.5576490419998663, "outcome": "passed"}}, {"nodeid": "tests/test_debug.py::test_check_requirements", "lineno": 84, "outcome": "passed", "keywords": ["test_check_requirements", "test_debug.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00025522600003569096, "outcome": "passed"}, "call": {"duration": 0.09695933200009677, "outcome": "passed"}, "teardown": {"duration": 0.5896996520000357, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_complete_trainer_onboarding", "lineno": 97, "outcome": "error", "keywords": ["test_complete_trainer_onboarding", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02152535400000488, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.7759436070000447, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase1_Registration::test_trainer_recognition_after_registration", "lineno": 136, "outcome": "error", "keywords": ["test_trainer_recognition_after_registration", "TestPhase1_Registration", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021442219999926238, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 91, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:91: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.7729042270000264, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 180, "outcome": "error", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021213122000062867, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.5698734669999794, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 203, "outcome": "error", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021426209000082963, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.5476135640001303, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase2_ClientManagement::test_custom_pricing", "lineno": 218, "outcome": "error", "keywords": ["test_custom_pricing", "TestPhase2_ClientManagement", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021279753999806417, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 166, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:166: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.555948755000145, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_view_schedule", "lineno": 267, "outcome": "error", "keywords": ["test_view_schedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02128577700000278, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.5497489560000304, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_book_sessions", "lineno": 289, "outcome": "error", "keywords": ["test_book_sessions", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021428763999892908, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.6316830509999818, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_complete.py::TestPhase3_Scheduling::test_cancel_reschedule", "lineno": 310, "outcome": "error", "keywords": ["test_cancel_reschedule", "TestPhase3_Scheduling", "test_e2e_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021324156999980914, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_e2e_complete.py", "lineno": 32, "message": "TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "traceback": [{"path": "tests/test_e2e_complete.py", "lineno": 247, "message": "in setup_method"}, {"path": "tests/test_e2e_complete.py", "lineno": 32, "message": "in __init__"}], "longrepr": "tests/test_e2e_complete.py:247: in setup_method\n    self.tester = RefiloeE2ETester()\ntests/test_e2e_complete.py:32: in __init__\n    self.process_message = RefiloeService().handle_message\nE   TypeError: RefiloeService.__init__() missing 1 required positional argument: 'supabase_client'"}, "teardown": {"duration": 0.561674413999981, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_trainer_registration_database", "lineno": 103, "outcome": "passed", "keywords": ["test_trainer_registration_database", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.18580934200008414, "outcome": "passed"}, "call": {"duration": 0.3311879850000423, "outcome": "passed"}, "teardown": {"duration": 0.5408307129998775, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_client_management_real", "lineno": 131, "outcome": "passed", "keywords": ["test_client_management_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00026758699982565304, "outcome": "passed"}, "call": {"duration": 0.37931543500008047, "outcome": "passed"}, "teardown": {"duration": 0.9048058229998333, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_booking_system_real", "lineno": 159, "outcome": "failed", "keywords": ["test_booking_system_real", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002659939998466143, "outcome": "passed"}, "call": {"duration": 0.25092647599990414, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'booking_date' column of 'bookings' in the schema cache\"}"}, "traceback": [{"path": "tests/test_integration_real.py", "lineno": 182, "message": "in test_booking_system_real"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py", "lineno": 70, "message": "in execute"}], "longrepr": "tests/test_integration_real.py:182: in test_booking_system_real\n    }).execute()\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/postgrest/_sync/request_builder.py:70: in execute\n    raise APIError(r.json())\nE   postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': \"Could not find the 'booking_date' column of 'bookings' in the schema cache\"}"}, "teardown": {"duration": 0.5671043019999615, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_ai_integration_simple", "lineno": 192, "outcome": "skipped", "keywords": ["test_ai_integration_simple", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030203100004655425, "outcome": "passed"}, "call": {"duration": 0.12660628100002214, "outcome": "skipped", "longrepr": "('/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_integration_real.py', 215, \"Skipped: AI API not available: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-4-sonnet-20241022'}, 'request_id': 'req_011CTaUH7Z65h3yyJGdGs7Nn'}\")"}, "teardown": {"duration": 0.5735825539998132, "outcome": "passed"}}, {"nodeid": "tests/test_integration_real.py::TestRealIntegration::test_database_connection", "lineno": 216, "outcome": "passed", "keywords": ["test_database_connection", "TestRealIntegration", "skipif", "test_integration_real.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00028849599993918673, "outcome": "passed"}, "call": {"duration": 0.12237310599994089, "outcome": "passed"}, "teardown": {"duration": 1.3518862870000703, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_complete_trainer_registration_flow", "lineno": 77, "outcome": "passed", "keywords": ["test_complete_trainer_registration_flow", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0007903890000307001, "outcome": "passed"}, "call": {"duration": 0.04854337899996608, "outcome": "passed"}, "teardown": {"duration": 0.5449120830000993, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_currency_parsing_variations", "lineno": 192, "outcome": "passed", "keywords": ["test_currency_parsing_variations", "critical", "pytestmark", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0007569179999791231, "outcome": "passed"}, "call": {"duration": 0.0001348710000002029, "outcome": "passed"}, "teardown": {"duration": 0.5713351019999209, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_registration_with_missing_fields", "lineno": 211, "outcome": "passed", "keywords": ["test_registration_with_missing_fields", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0008058790001541638, "outcome": "passed"}, "call": {"duration": 0.005336886999884882, "outcome": "passed"}, "teardown": {"duration": 0.558686071000011, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestTrainerRegistrationReal::test_trainer_recognition_after_registration", "lineno": 224, "outcome": "failed", "keywords": ["test_trainer_recognition_after_registration", "TestTrainerRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0010951679998925101, "outcome": "passed"}, "call": {"duration": 0.7368776470000284, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 253, "message": "AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'>)\n +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'> = <built-in method get of dict object at 0x7f7a763aec40>('response', '')\n +        where <built-in method get of dict object at 0x7f7a763aec40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\n +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'>()\n +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>.lower\n +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'> = <built-in method get of dict object at 0x7f7a763aec40>('response', '')\n +        where <built-in method get of dict object at 0x7f7a763aec40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 253, "message": "in test_trainer_recognition_after_registration"}], "log": [{"name": "refiloe", "msg": "Background scheduler started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047557.4417658, "msecs": 441.0, "relativeCreated": 22075.276613235474, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Routes setup complete", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047557.4427216, "msecs": 442.0, "relativeCreated": 22076.23243331909, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047557.4618905, "msecs": 461.0, "relativeCreated": 22095.401287078857, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase1_registration.py:253: in test_trainer_recognition_after_registration\n    assert 'john' in response.get('response', '').lower() or \\\nE   AssertionError: assert ('john' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'> or 'welcome' in <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'>)\nE    +  where <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'> = <built-in method get of dict object at 0x7f7a763aec40>('response', '')\nE    +        where <built-in method get of dict object at 0x7f7a763aec40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\nE    +  and   <MagicMock name='AIIntentHandler().generate_smart_response().lower()' id='140163964727568'> = <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'>()\nE    +    where <MagicMock name='AIIntentHandler().generate_smart_response().lower' id='140163977902928'> = <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>.lower\nE    +      where <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'> = <built-in method get of dict object at 0x7f7a763aec40>('response', '')\nE    +        where <built-in method get of dict object at 0x7f7a763aec40> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get"}, "teardown": {"duration": 0.5586265739998453, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestClientRegistrationReal::test_client_receives_welcome_after_registration", "lineno": 281, "outcome": "failed", "keywords": ["test_client_receives_welcome_after_registration", "TestClientRegistrationReal", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00309503800008315, "outcome": "passed"}, "call": {"duration": 0.003093475000014223, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase1_registration.py", "lineno": 297, "message": "assert False == True\n +  where False = <built-in method get of dict object at 0x7f7a793a6100>('success')\n +    where <built-in method get of dict object at 0x7f7a793a6100> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "traceback": [{"path": "tests/test_phase1_registration.py", "lineno": 297, "message": "in test_client_receives_welcome_after_registration"}], "log": [{"name": "refiloe", "msg": "Error getting user context: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047558.0328362, "msecs": 32.0, "relativeCreated": 22666.34702682495, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error handling message: 'list' object has no attribute 'get'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047558.0349948, "msecs": 34.0, "relativeCreated": 22668.505668640137, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase1_registration.py:297: in test_client_receives_welcome_after_registration\n    assert response.get('success') == True\nE   assert False == True\nE    +  where False = <built-in method get of dict object at 0x7f7a793a6100>('success')\nE    +    where <built-in method get of dict object at 0x7f7a793a6100> = {'response': \"Sorry, I'm having a bit of trouble right now. Please try again in a moment! \ud83d\ude0a\", 'success': False}.get"}, "teardown": {"duration": 0.5674101469999187, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_duplicate_registration_attempt", "lineno": 311, "outcome": "passed", "keywords": ["test_duplicate_registration_attempt", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.002035558999978093, "outcome": "passed"}, "call": {"duration": 0.0013644440000462055, "outcome": "passed"}, "teardown": {"duration": 0.5325913809999747, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_invalid_email_format", "lineno": 327, "outcome": "passed", "keywords": ["test_invalid_email_format", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004850210000313382, "outcome": "passed"}, "call": {"duration": 0.000223164000090037, "outcome": "passed"}, "teardown": {"duration": 0.5726339570001073, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_extremely_long_input", "lineno": 341, "outcome": "passed", "keywords": ["test_extremely_long_input", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0006826880000971869, "outcome": "passed"}, "call": {"duration": 0.0001350410000213742, "outcome": "passed"}, "teardown": {"duration": 0.5458584380000957, "outcome": "passed"}}, {"nodeid": "tests/test_phase1_registration.py::TestRegistrationEdgeCases::test_special_characters_in_name", "lineno": 358, "outcome": "passed", "keywords": ["test_special_characters_in_name", "TestRegistrationEdgeCases", "test_phase1_registration.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005157880000297155, "outcome": "passed"}, "call": {"duration": 8.733200002097874e-05, "outcome": "passed"}, "teardown": {"duration": 0.5471303379999881, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_command_variations", "lineno": 47, "outcome": "passed", "keywords": ["test_add_client_command_variations", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023235691999843766, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047560.871482, "msecs": 871.0, "relativeCreated": 25504.992723464966, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "call": {"duration": 0.01577649000000747, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8737252, "msecs": 873.0, "relativeCreated": 25507.236003875732, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8743303, "msecs": 874.0, "relativeCreated": 25507.841110229492, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8751962, "msecs": 875.0, "relativeCreated": 25508.70704650879, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8755372, "msecs": 875.0, "relativeCreated": 25509.047985076904, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8756998, "msecs": 875.0, "relativeCreated": 25509.21058654785, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8761854, "msecs": 876.0, "relativeCreated": 25509.69624519348, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8765447, "msecs": 876.0, "relativeCreated": 25510.055541992188, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8766994, "msecs": 876.0, "relativeCreated": 25510.210275650024, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.877177, "msecs": 877.0, "relativeCreated": 25510.687828063965, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.877509, "msecs": 877.0, "relativeCreated": 25511.019945144653, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8776867, "msecs": 877.0, "relativeCreated": 25511.197566986084, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.878138, "msecs": 878.0, "relativeCreated": 25511.648893356323, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8784676, "msecs": 878.0, "relativeCreated": 25511.97838783264, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8786404, "msecs": 878.0, "relativeCreated": 25512.15124130249, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8790948, "msecs": 879.0, "relativeCreated": 25512.605667114258, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8794243, "msecs": 879.0, "relativeCreated": 25512.935161590576, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8795805, "msecs": 879.0, "relativeCreated": 25513.091325759888, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8800602, "msecs": 880.0, "relativeCreated": 25513.57102394104, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8803895, "msecs": 880.0, "relativeCreated": 25513.90027999878, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.880555, "msecs": 880.0, "relativeCreated": 25514.065742492676, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8844, "msecs": 884.0, "relativeCreated": 25517.910718917847, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.88472, "msecs": 884.0, "relativeCreated": 25518.23091506958, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.884885, "msecs": 884.0, "relativeCreated": 25518.39590072632, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8853483, "msecs": 885.0, "relativeCreated": 25518.859148025513, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8857367, "msecs": 885.0, "relativeCreated": 25519.24753189087, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8858986, "msecs": 885.0, "relativeCreated": 25519.40941810608, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8863778, "msecs": 886.0, "relativeCreated": 25519.888639450073, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.886689, "msecs": 886.0, "relativeCreated": 25520.1997756958, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8868694, "msecs": 886.0, "relativeCreated": 25520.38025856018, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047560.8873155, "msecs": 887.0, "relativeCreated": 25520.82633972168, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.5692528860001858, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_phone_number_normalization", "lineno": 75, "outcome": "passed", "keywords": ["test_phone_number_normalization", "critical", "pytestmark", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022845467000024655, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047561.4799988, "msecs": 479.0, "relativeCreated": 26113.50965499878, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "call": {"duration": 0.00021452900000440422, "outcome": "passed"}, "teardown": {"duration": 0.5487496510002075, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestAddClientReal::test_add_client_with_special_names", "lineno": 100, "outcome": "passed", "keywords": ["test_add_client_with_special_names", "TestAddClientReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02534380399993097, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047562.0549426, "msecs": 54.0, "relativeCreated": 26688.453435897827, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "call": {"duration": 0.007915040000170848, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0558362, "msecs": 55.0, "relativeCreated": 26689.3470287323, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0564606, "msecs": 56.0, "relativeCreated": 26689.971446990967, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0571175, "msecs": 57.0, "relativeCreated": 26690.62829017639, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0574617, "msecs": 57.0, "relativeCreated": 26690.972566604614, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.057624, "msecs": 57.0, "relativeCreated": 26691.134929656982, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.05809, "msecs": 58.0, "relativeCreated": 26691.600799560547, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0584462, "msecs": 58.0, "relativeCreated": 26691.956996917725, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0586107, "msecs": 58.0, "relativeCreated": 26692.121505737305, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.059068, "msecs": 59.0, "relativeCreated": 26692.57879257202, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0594213, "msecs": 59.0, "relativeCreated": 26692.93212890625, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0595894, "msecs": 59.0, "relativeCreated": 26693.100214004517, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0600386, "msecs": 60.0, "relativeCreated": 26693.549394607544, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0603464, "msecs": 60.0, "relativeCreated": 26693.857192993164, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0605438, "msecs": 60.0, "relativeCreated": 26694.05460357666, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0609946, "msecs": 60.0, "relativeCreated": 26694.50545310974, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0613012, "msecs": 61.0, "relativeCreated": 26694.812059402466, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0614736, "msecs": 61.0, "relativeCreated": 26694.984436035156, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0619533, "msecs": 61.0, "relativeCreated": 26695.46413421631, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0622668, "msecs": 62.0, "relativeCreated": 26695.777654647827, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0624614, "msecs": 62.0, "relativeCreated": 26695.972204208374, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.0629349, "msecs": 62.0, "relativeCreated": 26696.44570350647, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.5489600079999946, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestViewClientsReal::test_view_clients_commands", "lineno": 140, "outcome": "failed", "keywords": ["test_view_clients_commands", "TestViewClientsReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0009038709999913408, "outcome": "passed"}, "call": {"duration": 0.004014586000039344, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 160, "message": "AssertionError: Failed to list clients with command: Show my clients\nassert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 160, "message": "in test_view_clients_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.61434, "msecs": 614.0, "relativeCreated": 27247.85089492798, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.6163452, "msecs": 616.0, "relativeCreated": 27249.855995178223, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047562.6172464, "msecs": 617.0, "relativeCreated": 27250.757217407227, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase2_client_management.py:160: in test_view_clients_commands\n    assert 'sarah' in message or 'john' in message or 'mike' in message or \\\nE   AssertionError: Failed to list clients with command: Show my clients\nE   assert ('sarah' in '' or 'john' in '' or 'mike' in '' or 'client' in '')"}, "teardown": {"duration": 0.5618138949998865, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_set_custom_pricing_variations", "lineno": 188, "outcome": "passed", "keywords": ["test_set_custom_pricing_variations", "critical", "pytestmark", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0014631809999627876, "outcome": "passed"}, "call": {"duration": 0.01030361199991603, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1908386, "msecs": 190.0, "relativeCreated": 27824.349403381348, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1914515, "msecs": 191.0, "relativeCreated": 27824.962377548218, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1922617, "msecs": 192.0, "relativeCreated": 27825.772523880005, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1926014, "msecs": 192.0, "relativeCreated": 27826.112270355225, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1927977, "msecs": 192.0, "relativeCreated": 27826.308488845825, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1932368, "msecs": 193.0, "relativeCreated": 27826.74765586853, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.193572, "msecs": 193.0, "relativeCreated": 27827.082872390747, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1937234, "msecs": 193.0, "relativeCreated": 27827.234268188477, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1941848, "msecs": 194.0, "relativeCreated": 27827.695608139038, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1945093, "msecs": 194.0, "relativeCreated": 27828.020095825195, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1946628, "msecs": 194.0, "relativeCreated": 27828.173637390137, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.195114, "msecs": 195.0, "relativeCreated": 27828.624725341797, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1954346, "msecs": 195.0, "relativeCreated": 27828.94539833069, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1955845, "msecs": 195.0, "relativeCreated": 27829.095363616943, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1960435, "msecs": 196.0, "relativeCreated": 27829.554319381714, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1963682, "msecs": 196.0, "relativeCreated": 27829.87904548645, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.196518, "msecs": 196.0, "relativeCreated": 27830.028772354126, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.196948, "msecs": 196.0, "relativeCreated": 27830.458879470825, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1972764, "msecs": 197.0, "relativeCreated": 27830.787181854248, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1974628, "msecs": 197.0, "relativeCreated": 27830.973625183105, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1978884, "msecs": 197.0, "relativeCreated": 27831.3992023468, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1981943, "msecs": 198.0, "relativeCreated": 27831.70509338379, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1983843, "msecs": 198.0, "relativeCreated": 27831.895112991333, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.1988103, "msecs": 198.0, "relativeCreated": 27832.321166992188, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.5349436280000646, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestCustomPricingReal::test_check_client_pricing", "lineno": 220, "outcome": "failed", "keywords": ["test_check_client_pricing", "TestCustomPricingReal", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0014039840000350523, "outcome": "passed"}, "call": {"duration": 0.005002793000130623, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 239, "message": "AssertionError: Failed to show pricing with: What is Sarah's rate?\nassert ('r' in '' or 'rand' in '' or False)\n +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f7a86277d80>)"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 239, "message": "in test_check_client_pricing"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.7365706, "msecs": 736.0, "relativeCreated": 28370.081424713135, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.737163, "msecs": 737.0, "relativeCreated": 28370.673894882202, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047563.7406564, "msecs": 740.0, "relativeCreated": 28374.1672039032, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase2_client_management.py:239: in test_check_client_pricing\n    assert 'r' in message or 'rand' in message or \\\nE   AssertionError: Failed to show pricing with: What is Sarah's rate?\nE   assert ('r' in '' or 'rand' in '' or False)\nE    +  where False = any(<generator object TestCustomPricingReal.test_check_client_pricing.<locals>.<genexpr> at 0x7f7a86277d80>)"}, "teardown": {"duration": 0.5444900479999433, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_add_client_with_duplicate_phone", "lineno": 253, "outcome": "failed", "keywords": ["test_add_client_with_duplicate_phone", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004334660000040458, "outcome": "passed"}, "call": {"duration": 0.006296861000009812, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 268, "message": "AssertionError: assert ('already' in '' or 'exists' in '')\n +  where '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\n +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f7a76469b00>('message', '')\n +        where <built-in method get of dict object at 0x7f7a76469b00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\n +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f7a76469b00>('message', '')\n +        where <built-in method get of dict object at 0x7f7a76469b00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 268, "message": "in test_add_client_with_duplicate_phone"}], "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047564.292215, "msecs": 292.0, "relativeCreated": 28925.72593688965, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047564.295154, "msecs": 295.0, "relativeCreated": 28928.664922714233, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047564.2962193, "msecs": 296.0, "relativeCreated": 28929.73017692566, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase2_client_management.py:268: in test_add_client_with_duplicate_phone\n    assert 'already' in response.get('message', '').lower() or \\\nE   AssertionError: assert ('already' in '' or 'exists' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\nE    +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f7a76469b00>('message', '')\nE    +        where <built-in method get of dict object at 0x7f7a76469b00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\nE    +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f7a76469b00>('message', '')\nE    +        where <built-in method get of dict object at 0x7f7a76469b00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get"}, "teardown": {"duration": 0.5354520880000564, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_invalid_phone_numbers", "lineno": 270, "outcome": "passed", "keywords": ["test_invalid_phone_numbers", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.000369967999859, "outcome": "passed"}, "call": {"duration": 9.851300001173513e-05, "outcome": "passed"}, "teardown": {"duration": 0.5649870600000213, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_set_negative_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_negative_pricing", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00037958600000820297, "outcome": "passed"}, "call": {"duration": 9.485600003245054e-05, "outcome": "passed"}, "teardown": {"duration": 0.5590555969999969, "outcome": "passed"}}, {"nodeid": "tests/test_phase2_client_management.py::TestClientManagementEdgeCases::test_client_not_found", "lineno": 300, "outcome": "failed", "keywords": ["test_client_not_found", "TestClientManagementEdgeCases", "test_phase2_client_management.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0004559779999908642, "outcome": "passed"}, "call": {"duration": 0.004475967000189485, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase2_client_management.py", "lineno": 311, "message": "assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\n +  where '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\n +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f7a762c4f00>('message', '')\n +        where <built-in method get of dict object at 0x7f7a762c4f00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\n +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f7a762c4f00>('message', '')\n +        where <built-in method get of dict object at 0x7f7a762c4f00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\n +  and   '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\n +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\n +      where '' = <built-in method get of dict object at 0x7f7a762c4f00>('message', '')\n +        where <built-in method get of dict object at 0x7f7a762c4f00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get"}, "traceback": [{"path": "tests/test_phase2_client_management.py", "lineno": 311, "message": "in test_client_not_found"}], "log": [{"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047565.9663439, "msecs": 966.0, "relativeCreated": 30599.854707717896, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error creating conversation state: 'Mock' object is not subscriptable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047565.966946, "msecs": 966.0, "relativeCreated": 30600.456714630127, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047565.9673727, "msecs": 967.0, "relativeCreated": 30600.88348388672, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase2_client_management.py:311: in test_client_not_found\n    assert 'not found' in response.get('message', '').lower() or \\\nE   assert ('not found' in '' or \"doesn't exist\" in '' or 'no client' in '')\nE    +  where '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\nE    +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f7a762c4f00>('message', '')\nE    +        where <built-in method get of dict object at 0x7f7a762c4f00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\nE    +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f7a762c4f00>('message', '')\nE    +        where <built-in method get of dict object at 0x7f7a762c4f00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get\nE    +  and   '' = <built-in method lower of str object at 0x7f7a8a13fba0>()\nE    +    where <built-in method lower of str object at 0x7f7a8a13fba0> = ''.lower\nE    +      where '' = <built-in method get of dict object at 0x7f7a762c4f00>('message', '')\nE    +        where <built-in method get of dict object at 0x7f7a762c4f00> = {'response': <MagicMock name='AIIntentHandler().generate_smart_response()' id='140163946310288'>, 'success': True}.get"}, "teardown": {"duration": 0.5436673039998823, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestViewScheduleReal::test_view_schedule_commands", "lineno": 53, "outcome": "failed", "keywords": ["test_view_schedule_commands", "TestViewScheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0013640469999245397, "outcome": "passed"}, "call": {"duration": 0.004811649999965084, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_phase3_scheduling.py", "lineno": 74, "message": "AssertionError: Failed to show schedule with: Show my schedule\nassert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "traceback": [{"path": "tests/test_phase3_scheduling.py", "lineno": 74, "message": "in test_view_schedule_commands"}], "log": [{"name": "refiloe", "msg": "Error getting user context: Mock.keys() returned a non-iterable (type Mock)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047566.520528, "msecs": 520.0, "relativeCreated": 31154.038906097412, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047566.5232155, "msecs": 523.0, "relativeCreated": 31156.726360321045, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047566.5241807, "msecs": 524.0, "relativeCreated": 31157.691478729248, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}], "longrepr": "tests/test_phase3_scheduling.py:74: in test_view_schedule_commands\n    assert 'schedule' in message or 'booking' in message or \\\nE   AssertionError: Failed to show schedule with: Show my schedule\nE   assert ('schedule' in '' or 'booking' in '' or 'session' in '' or 'appointment' in '' or 'no bookings' in '' or 'free' in '')"}, "teardown": {"duration": 0.5405231839999942, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_book_session_natural_language", "lineno": 110, "outcome": "passed", "keywords": ["test_book_session_natural_language", "critical", "pytestmark", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.022941865000120742, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047567.0924418, "msecs": 92.0, "relativeCreated": 31725.95262527466, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "call": {"duration": 0.5522958320000271, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJAPXQoixvMi39qFFT'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJAPXQoixvMi39qFFT'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.1548884, "msecs": 154.0, "relativeCreated": 31788.39921951294, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJAcfvF3xNiQB5nVGh'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJAcfvF3xNiQB5nVGh'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.2045708, "msecs": 204.0, "relativeCreated": 31838.08159828186, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJAq51g2F4p2T49ko8'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJAq51g2F4p2T49ko8'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.2468808, "msecs": 246.0, "relativeCreated": 31880.391597747803, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJB2EHW1fHMu2aFdWW'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJB2EHW1fHMu2aFdWW'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.2980795, "msecs": 298.0, "relativeCreated": 31931.59031867981, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBEsYQZrJRLDcPJ8K'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBEsYQZrJRLDcPJ8K'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.3440783, "msecs": 344.0, "relativeCreated": 31977.58913040161, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBS2vnqe18V559U8r'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBS2vnqe18V559U8r'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.3961916, "msecs": 396.0, "relativeCreated": 32029.70242500305, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBegRvY3HnKYiySBr'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBegRvY3HnKYiySBr'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.4521646, "msecs": 452.0, "relativeCreated": 32085.675477981567, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBu4cepy1JBiZ3B7z'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJBu4cepy1JBiZ3B7z'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.4955013, "msecs": 495.0, "relativeCreated": 32129.01210784912, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJC6xsKUUKBDUcCwGj'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJC6xsKUUKBDUcCwGj'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.5459714, "msecs": 545.0, "relativeCreated": 32179.482221603394, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJCK7iDM5jCezvwAjk'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJCK7iDM5jCezvwAjk'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.5987747, "msecs": 598.0, "relativeCreated": 32232.285499572754, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "AI intent understanding failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJCY1KEP3vN5CHPZCz'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/ai_intent_handler.py\", line 64, in understand_message\n    response = self.client.messages.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_utils/_utils.py\", line 275, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/resources/messages.py\", line 888, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1277, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 954, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/anthropic/_base_client.py\", line 1058, in _request\n    raise self._make_status_error_from_response(err.response) from None\nanthropic.AuthenticationError: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTaUJCY1KEP3vN5CHPZCz'}", "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047567.644389, "msecs": 644.0, "relativeCreated": 32277.899742126465, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.556736514000022, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_time_formats", "lineno": 144, "outcome": "passed", "keywords": ["test_booking_time_formats", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02289902699999402, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047568.2251427, "msecs": 225.0, "relativeCreated": 32858.65354537964, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "call": {"duration": 0.0013731340000049386, "outcome": "passed"}, "teardown": {"duration": 0.5567243410000629, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookSessionsReal::test_booking_date_parsing", "lineno": 169, "outcome": "passed", "keywords": ["test_booking_date_parsing", "TestBookSessionsReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.023626289000048928, "outcome": "passed", "log": [{"name": "refiloe", "msg": "AI Intent Handler initialized with Claude", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "log_info", "created": 1759047568.8074665, "msecs": 807.0, "relativeCreated": 33440.977334976196, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "call": {"duration": 0.0003819609999027307, "outcome": "passed"}, "teardown": {"duration": 0.5615450190000502, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_cancel_booking_variations", "lineno": 223, "outcome": "passed", "keywords": ["test_cancel_booking_variations", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0010836359999757406, "outcome": "passed"}, "call": {"duration": 0.01726607000000513, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3718693, "msecs": 371.0, "relativeCreated": 34005.380153656006, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3724937, "msecs": 372.0, "relativeCreated": 34006.00457191467, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3818629, "msecs": 381.0, "relativeCreated": 34015.37370681763, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3821793, "msecs": 382.0, "relativeCreated": 34015.690088272095, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3823318, "msecs": 382.0, "relativeCreated": 34015.84267616272, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3828366, "msecs": 382.0, "relativeCreated": 34016.34740829468, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3831267, "msecs": 383.0, "relativeCreated": 34016.637563705444, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3832753, "msecs": 383.0, "relativeCreated": 34016.786098480225, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3837261, "msecs": 383.0, "relativeCreated": 34017.236948013306, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.384044, "msecs": 384.0, "relativeCreated": 34017.55475997925, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3841915, "msecs": 384.0, "relativeCreated": 34017.70234107971, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3846307, "msecs": 384.0, "relativeCreated": 34018.14150810242, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.38493, "msecs": 384.0, "relativeCreated": 34018.44072341919, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3851056, "msecs": 385.0, "relativeCreated": 34018.61643791199, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3855627, "msecs": 385.0, "relativeCreated": 34019.073486328125, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3858652, "msecs": 385.0, "relativeCreated": 34019.376039505005, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3860195, "msecs": 386.0, "relativeCreated": 34019.53029632568, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3864872, "msecs": 386.0, "relativeCreated": 34019.99807357788, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3867905, "msecs": 386.0, "relativeCreated": 34020.3013420105, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3869448, "msecs": 386.0, "relativeCreated": 34020.45559883118, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3874307, "msecs": 387.0, "relativeCreated": 34020.941495895386, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3877296, "msecs": 387.0, "relativeCreated": 34021.24047279358, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.3878825, "msecs": 387.0, "relativeCreated": 34021.39329910278, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.388314, "msecs": 388.0, "relativeCreated": 34021.82483673096, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.544312882999975, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestCancelRescheduleReal::test_reschedule_booking", "lineno": 248, "outcome": "passed", "keywords": ["test_reschedule_booking", "TestCancelRescheduleReal", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0011275780000232771, "outcome": "passed"}, "call": {"duration": 0.006200705000082962, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9351628, "msecs": 935.0, "relativeCreated": 34568.673610687256, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9357793, "msecs": 935.0, "relativeCreated": 34569.29016113281, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9367504, "msecs": 936.0, "relativeCreated": 34570.26124000549, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.937067, "msecs": 937.0, "relativeCreated": 34570.57785987854, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9372313, "msecs": 937.0, "relativeCreated": 34570.74213027954, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.937729, "msecs": 937.0, "relativeCreated": 34571.239709854126, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9380348, "msecs": 938.0, "relativeCreated": 34571.54560089111, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.938191, "msecs": 938.0, "relativeCreated": 34571.701765060425, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9386847, "msecs": 938.0, "relativeCreated": 34572.195529937744, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9389865, "msecs": 938.0, "relativeCreated": 34572.49736785889, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9391375, "msecs": 939.0, "relativeCreated": 34572.64828681946, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.939603, "msecs": 939.0, "relativeCreated": 34573.11391830444, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting user context: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9399374, "msecs": 939.0, "relativeCreated": 34573.448181152344, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error getting conversation history: 'Mock' object is not reversible", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9400914, "msecs": 940.0, "relativeCreated": 34573.60219955444, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}, {"name": "refiloe", "msg": "Error sending WhatsApp message: Object of type MagicMock is not JSON serializable", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047569.9405432, "msecs": 940.0, "relativeCreated": 34574.05400276184, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.5569682499999544, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_double_booking_prevention", "lineno": 283, "outcome": "passed", "keywords": ["test_double_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005505649999122397, "outcome": "passed"}, "call": {"duration": 0.0013874210001176834, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047570.500091, "msecs": 500.0, "relativeCreated": 35133.601903915405, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.5610108380001293, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_past_date_booking_prevention", "lineno": 313, "outcome": "passed", "keywords": ["test_past_date_booking_prevention", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00048798700004226703, "outcome": "passed"}, "call": {"duration": 0.0012263610001355119, "outcome": "passed", "log": [{"name": "refiloe", "msg": "Error checking booking conflict: object of type 'Mock' has no len()", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/utils/logger.py", "filename": "logger.py", "module": "logger", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "log_error", "created": 1759047571.0633686, "msecs": 63.0, "relativeCreated": 35696.879386901855, "thread": 140164280261504, "threadName": "MainThread", "processName": "MainProcess", "process": 2333}]}, "teardown": {"duration": 0.5371189579998372, "outcome": "passed"}}, {"nodeid": "tests/test_phase3_scheduling.py::TestBookingConflictsAndValidation::test_invalid_time_slots", "lineno": 334, "outcome": "passed", "keywords": ["test_invalid_time_slots", "TestBookingConflictsAndValidation", "test_phase3_scheduling.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0005385720000958827, "outcome": "passed"}, "call": {"duration": 0.0005186350001622486, "outcome": "passed"}, "teardown": {"duration": 0.5627441300000555, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_setup_habits_for_clients", "lineno": 147, "outcome": "error", "keywords": ["test_setup_habits_for_clients", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021629857999869273, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 143, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:143: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5545938840000417, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_check_habit_compliance", "lineno": 169, "outcome": "error", "keywords": ["test_check_habit_compliance", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021167296000157876, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 143, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:143: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5647578419998354, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase4_HabitTracking::test_send_habit_reminders", "lineno": 185, "outcome": "error", "keywords": ["test_send_habit_reminders", "TestPhase4_HabitTracking", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021233279999933075, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 143, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:143: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5718649020000157, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 213, "outcome": "error", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021353524000005564, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 209, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:209: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5406926579998981, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_start_assessment", "lineno": 229, "outcome": "error", "keywords": ["test_start_assessment", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021145457999864448, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 209, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:209: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.548115578000079, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase5_WorkoutsAssessments::test_view_assessment_results", "lineno": 245, "outcome": "error", "keywords": ["test_view_assessment_results", "TestPhase5_WorkoutsAssessments", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021170193999978437, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 209, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:209: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.537958462000006, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 272, "outcome": "error", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02104549099999531, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 268, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:268: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5519374399998469, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 288, "outcome": "error", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021000085999958173, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 268, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:268: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5391454709999834, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase6_PaymentsRevenue::test_payment_confirmation", "lineno": 305, "outcome": "error", "keywords": ["test_payment_confirmation", "TestPhase6_PaymentsRevenue", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021102053999811687, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 268, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:268: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5337627209999027, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_view_dashboard", "lineno": 332, "outcome": "error", "keywords": ["test_view_dashboard", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.020928933000050165, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 328, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:328: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5459812520000469, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase7_AnalyticsReports::test_client_analytics", "lineno": 348, "outcome": "error", "keywords": ["test_client_analytics", "TestPhase7_AnalyticsReports", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.02268217400001049, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 328, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:328: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5819011250000585, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 377, "outcome": "error", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021445001999836677, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 371, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:371: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5635083079998822, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 393, "outcome": "error", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021012466999991375, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 371, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:371: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5540846850001344, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase8_ClientFeatures::test_client_progress", "lineno": 410, "outcome": "error", "keywords": ["test_client_progress", "TestPhase8_ClientFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021032095999999, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 371, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:371: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5467020400001275, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_view_challenges", "lineno": 438, "outcome": "error", "keywords": ["test_view_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021021216999997705, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 434, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:434: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5439235890000873, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_join_leave_challenges", "lineno": 454, "outcome": "error", "keywords": ["test_join_leave_challenges", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021224875999905635, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 434, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:434: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5760485870000593, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase9_Challenges::test_leaderboard", "lineno": 470, "outcome": "error", "keywords": ["test_leaderboard", "TestPhase9_Challenges", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021081589000004897, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 434, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:434: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5285428170000159, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_bulk_operations", "lineno": 498, "outcome": "error", "keywords": ["test_bulk_operations", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021297550999861414, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 494, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:494: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5390751019999698, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_natural_language", "lineno": 513, "outcome": "error", "keywords": ["test_natural_language", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021133095000095636, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 494, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:494: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5348161110000547, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 529, "outcome": "error", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021017448000065997, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 494, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:494: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5758756449999964, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_check_scheduled_reminders", "lineno": 557, "outcome": "error", "keywords": ["test_check_scheduled_reminders", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021159442999987732, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 553, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:553: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5320683919999283, "outcome": "passed"}}, {"nodeid": "tests/test_phases_4_11.py::TestPhase11_AutomatedFeatures::test_subscription_monitoring", "lineno": 568, "outcome": "error", "keywords": ["test_subscription_monitoring", "TestPhase11_AutomatedFeatures", "test_phases_4_11.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.021087408999846957, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "supabase.client.SupabaseException: Invalid API key"}, "traceback": [{"path": "tests/test_phases_4_11.py", "lineno": 553, "message": "in setup_method"}, {"path": "tests/test_phases_4_11.py", "lineno": 37, "message": "in __init__"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 284, "message": "in create_client"}, {"path": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py", "lineno": 59, "message": "in __init__"}], "longrepr": "tests/test_phases_4_11.py:553: in setup_method\n    self.tester = RefiloeE2ETesterExtended()\ntests/test_phases_4_11.py:37: in __init__\n    supabase_client = create_client(supabase_url, supabase_key)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:284: in create_client\n    return Client(supabase_url=supabase_url, supabase_key=supabase_key, options=options)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/supabase/client.py:59: in __init__\n    raise SupabaseException(\"Invalid API key\")\nE   supabase.client.SupabaseException: Invalid API key"}, "teardown": {"duration": 0.5296000939999885, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_new_trainer_onboarding", "lineno": 227, "outcome": "passed", "keywords": ["test_new_trainer_onboarding", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002828859999226552, "outcome": "passed"}, "call": {"duration": 0.004141082999922219, "outcome": "passed"}, "teardown": {"duration": 0.5615067200001249, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase1_UserRegistration::test_trainer_recognition", "lineno": 242, "outcome": "passed", "keywords": ["test_trainer_recognition", "TestPhase1_UserRegistration", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00025313099990853516, "outcome": "passed"}, "call": {"duration": 0.004657022999936089, "outcome": "passed"}, "teardown": {"duration": 0.5553692600001341, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_add_client_variations", "lineno": 269, "outcome": "passed", "keywords": ["test_add_client_variations", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002634499999203399, "outcome": "passed"}, "call": {"duration": 0.004072315000030358, "outcome": "passed"}, "teardown": {"duration": 0.5213732390000132, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_view_clients", "lineno": 278, "outcome": "passed", "keywords": ["test_view_clients", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002718450000429584, "outcome": "passed"}, "call": {"duration": 0.0027978549999261304, "outcome": "passed"}, "teardown": {"duration": 0.5487426369998047, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase2_ClientManagement::test_set_custom_pricing", "lineno": 286, "outcome": "passed", "keywords": ["test_set_custom_pricing", "TestPhase2_ClientManagement", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030735199993614515, "outcome": "passed"}, "call": {"duration": 0.004669346999889967, "outcome": "passed"}, "teardown": {"duration": 0.574578357000064, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_view_schedule", "lineno": 299, "outcome": "passed", "keywords": ["test_view_schedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027321800007484853, "outcome": "passed"}, "call": {"duration": 0.0026417939998282236, "outcome": "passed"}, "teardown": {"duration": 0.5393745609999314, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_book_sessions", "lineno": 308, "outcome": "passed", "keywords": ["test_book_sessions", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002586909999990894, "outcome": "passed"}, "call": {"duration": 0.010104357000045638, "outcome": "passed"}, "teardown": {"duration": 0.5597588539999379, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase3_SchedulingBookings::test_cancel_reschedule", "lineno": 317, "outcome": "failed", "keywords": ["test_cancel_reschedule", "TestPhase3_SchedulingBookings", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029538900002989976, "outcome": "passed"}, "call": {"duration": 0.002957573000003322, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 329, "message": "assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\n +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f7a867ad4c0>()\n +    where <built-in method lower of str object at 0x7f7a867ad4c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\n +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f7a867ad4c0>()\n +    where <built-in method lower of str object at 0x7f7a867ad4c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 329, "message": "in test_cancel_reschedule"}], "longrepr": "tests/test_refiloe_complete.py:329: in test_cancel_reschedule\n    assert \"reschedul\" in response['message'].lower() or \"moved\" in response['message'].lower()\nE   assert ('reschedul' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" or 'moved' in \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\")\nE    +  where \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f7a867ad4c0>()\nE    +    where <built-in method lower of str object at 0x7f7a867ad4c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower\nE    +  and   \"today's schedule:\\n9:00 am - sarah johnson\\n2:00 pm - john doe\" = <built-in method lower of str object at 0x7f7a867ad4c0>()\nE    +    where <built-in method lower of str object at 0x7f7a867ad4c0> = \"Today's schedule:\\n9:00 AM - Sarah Johnson\\n2:00 PM - John Doe\".lower"}, "teardown": {"duration": 0.5468378820000908, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase4_HabitTracking::test_setup_habits", "lineno": 334, "outcome": "passed", "keywords": ["test_setup_habits", "TestPhase4_HabitTracking", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002620779998778744, "outcome": "passed"}, "call": {"duration": 0.004786491999993814, "outcome": "passed"}, "teardown": {"duration": 0.5799716579999767, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase5_WorkoutsAssessments::test_send_workouts", "lineno": 347, "outcome": "passed", "keywords": ["test_send_workouts", "TestPhase5_WorkoutsAssessments", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027299799990032625, "outcome": "passed"}, "call": {"duration": 0.0078065699999569915, "outcome": "passed"}, "teardown": {"duration": 0.569127367999954, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_request_payment", "lineno": 360, "outcome": "failed", "keywords": ["test_request_payment", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0002874649999284884, "outcome": "passed"}, "call": {"duration": 0.003009227000120518, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 368, "message": "assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\n +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f7a8676ab50>()\n +    where <built-in method lower of str object at 0x7f7a8676ab50> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\n +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f7a8676ab50>()\n +    where <built-in method lower of str object at 0x7f7a8676ab50> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 368, "message": "in test_request_payment"}], "longrepr": "tests/test_refiloe_complete.py:368: in test_request_payment\n    assert \"payment\" in response['message'].lower() or \"invoice\" in response['message'].lower()\nE   assert ('payment' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" or 'invoice' in \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\")\nE    +  where \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f7a8676ab50>()\nE    +    where <built-in method lower of str object at 0x7f7a8676ab50> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower\nE    +  and   \"welcome to refiloe! i'm here to help you manage your personal training business. are you a trainer or a client?\" = <built-in method lower of str object at 0x7f7a8676ab50>()\nE    +    where <built-in method lower of str object at 0x7f7a8676ab50> = \"Welcome to Refiloe! I'm here to help you manage your personal training business. Are you a trainer or a client?\".lower"}, "teardown": {"duration": 0.5694388760000493, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase6_PaymentsRevenue::test_check_revenue", "lineno": 369, "outcome": "passed", "keywords": ["test_check_revenue", "TestPhase6_PaymentsRevenue", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030036800012567255, "outcome": "passed"}, "call": {"duration": 0.005067486000143617, "outcome": "passed"}, "teardown": {"duration": 0.5493983329999992, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_booking", "lineno": 381, "outcome": "passed", "keywords": ["test_client_booking", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027499199995872914, "outcome": "passed"}, "call": {"duration": 0.005912317000138501, "outcome": "passed"}, "teardown": {"duration": 0.5722799980001128, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase8_ClientFeatures::test_client_habit_logging", "lineno": 390, "outcome": "passed", "keywords": ["test_client_habit_logging", "TestPhase8_ClientFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.0003084330001001945, "outcome": "passed"}, "call": {"duration": 0.004936500999974669, "outcome": "passed"}, "teardown": {"duration": 0.5505412960001195, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_natural_language_understanding", "lineno": 403, "outcome": "passed", "keywords": ["test_natural_language_understanding", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00030076000007284165, "outcome": "passed"}, "call": {"duration": 0.004982918999985486, "outcome": "passed"}, "teardown": {"duration": 0.5609200680000868, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestPhase10_AdvancedFeatures::test_error_handling", "lineno": 412, "outcome": "failed", "keywords": ["test_error_handling", "TestPhase10_AdvancedFeatures", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027111500003229594, "outcome": "passed"}, "call": {"duration": 0.0028618629999073164, "outcome": "failed", "crash": {"path": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/tests/test_refiloe_complete.py", "lineno": 424, "message": "assert False\n +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f7a774b5e00>)"}, "traceback": [{"path": "tests/test_refiloe_complete.py", "lineno": 424, "message": "in test_error_handling"}], "longrepr": "tests/test_refiloe_complete.py:424: in test_error_handling\n    assert any(word in response['message'].lower() for word in [\"past\", \"future\", \"cannot\"])\nE   assert False\nE    +  where False = any(<generator object TestPhase10_AdvancedFeatures.test_error_handling.<locals>.<genexpr> at 0x7f7a774b5e00>)"}, "teardown": {"duration": 0.5718112409999776, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_trainer_registration_step_7_currency_parsing", "lineno": 433, "outcome": "passed", "keywords": ["test_trainer_registration_step_7_currency_parsing", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00027645500017570157, "outcome": "passed"}, "call": {"duration": 0.0007121539999843662, "outcome": "passed"}, "teardown": {"duration": 0.5596503679998932, "outcome": "passed"}}, {"nodeid": "tests/test_refiloe_complete.py::TestCriticalBugs::test_ai_responds_naturally_not_rigid_commands", "lineno": 457, "outcome": "passed", "keywords": ["test_ai_responds_naturally_not_rigid_commands", "TestCriticalBugs", "test_refiloe_complete.py", "tests/__init__.py", "whatsapp-ai-assistant"], "setup": {"duration": 0.00029950699990877183, "outcome": "passed"}, "call": {"duration": 0.002825455999982296, "outcome": "passed"}, "teardown": {"duration": 0.5455373859999781, "outcome": "passed"}}], "warnings": [{"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "The `update_forward_refs` method is deprecated; use `model_rebuild` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/", "category": "PydanticDeprecatedSince20", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/gotrue/types.py", "lineno": 679}, {"message": "\nPyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),\n(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)\nbut was not found to be installed on your system.\nIf this would cause problems for you,\nplease provide us feedback at https://github.com/pandas-dev/pandas/issues/54466\n        ", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/runner/work/whatsapp-ai-assistant/whatsapp-ai-assistant/services/analytics.py", "lineno": 7}]}